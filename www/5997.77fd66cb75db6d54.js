"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5997],{5997:(T,C,l)=>{l.r(C),l.d(C,{DashboardModule:()=>j});var u=l(177),a=l(4341),n=l(4742),d=l(9384),h=l(467),o=l(3953),m=l(1346);function b(t,i){if(1&t&&(o.j41(0,"ion-select-option",9),o.EFF(1),o.k0s()),2&t){const s=i.$implicit;o.Y8G("value",s.id),o.R7$(),o.SpI(" ",s.name," ")}}let f=(()=>{var t;class i{constructor(e,r,c){this.modalController=e,this.configService=r,this.formBuilder=c,this.courses=[],this.editCourseForm=this.formBuilder.group({selectedCourseId:["",a.k0.required],newQuestion:["",a.k0.required],newAnswer:["",a.k0.required]})}ngOnInit(){this.loadCourses()}loadCourses(){this.configService.getCourses().subscribe(e=>{this.courses=e})}dismiss(){this.modalController.dismiss()}addQuestionAndAnswer(){if(this.editCourseForm.valid){const e=parseInt(this.editCourseForm.value.selectedCourseId,10),{newQuestion:r,newAnswer:c}=this.editCourseForm.value;this.configService.addQuestionToCourse(e,r,c).then(()=>{console.log("Question and answer added successfully."),this.dismiss()}).catch(p=>{console.error("Error adding question and answer:",p)})}else console.error("All fields are required.")}}return(t=i).\u0275fac=function(e){return new(e||t)(o.rXU(n.W3),o.rXU(m.w),o.rXU(a.ok))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-edit-course"]],decls:24,vars:3,consts:[["slot","end"],[3,"click"],[3,"formGroup"],["formControlName","selectedCourseId"],[3,"value",4,"ngFor","ngForOf"],["position","stacked"],["formControlName","newQuestion"],["formControlName","newAnswer"],["expand","block","color","primary",3,"click","disabled"],[3,"value"]],template:function(e,r){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Edit Course"),o.k0s(),o.j41(4,"ion-buttons",0)(5,"ion-button",1),o.bIt("click",function(){return r.dismiss()}),o.EFF(6,"Close"),o.k0s()()()(),o.j41(7,"ion-content")(8,"form",2)(9,"ion-item")(10,"ion-label"),o.EFF(11,"Course"),o.k0s(),o.j41(12,"ion-select",3),o.DNE(13,b,2,2,"ion-select-option",4),o.k0s()(),o.j41(14,"ion-item")(15,"ion-label",5),o.EFF(16,"Question"),o.k0s(),o.nrm(17,"ion-input",6),o.k0s(),o.j41(18,"ion-item")(19,"ion-label",5),o.EFF(20,"Answer"),o.k0s(),o.nrm(21,"ion-input",7),o.k0s(),o.j41(22,"ion-button",8),o.bIt("click",function(){return r.addQuestionAndAnswer()}),o.EFF(23," Add Question and Answer "),o.k0s()()()),2&e&&(o.R7$(8),o.Y8G("formGroup",r.editCourseForm),o.R7$(5),o.Y8G("ngForOf",r.courses),o.R7$(9),o.Y8G("disabled",!r.editCourseForm.valid))},dependencies:[u.Sq,a.qT,a.BC,a.cb,n.Jm,n.QW,n.W9,n.eU,n.$w,n.uz,n.he,n.Nm,n.Ip,n.BC,n.ai,n.Je,n.Gw,a.j4,a.JD]}),i})(),g=(()=>{var t;class i{constructor(e,r,c){this.modalController=e,this.configService=r,this.formBuilder=c,this.createCourseForm=this.formBuilder.group({courseName:["",a.k0.required],newDescription:["",a.k0.required]})}dismiss(){this.modalController.dismiss()}createCourse(){if(this.createCourseForm.valid){const{courseName:e,newDescription:r}=this.createCourseForm.value;this.configService.createNewCourse(e,r).then(()=>{console.log("Course created successfully."),this.dismiss()}).catch(c=>{console.error("Error creating course:",c)})}else console.error("All fields are required.")}}return(t=i).\u0275fac=function(e){return new(e||t)(o.rXU(n.W3),o.rXU(m.w),o.rXU(a.ok))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-create-course"]],decls:19,vars:2,consts:[["slot","end"],[3,"click"],[3,"formGroup"],["position","stacked"],["formControlName","courseName"],["formControlName","newDescription"],["expand","block","color","primary",3,"click","disabled"]],template:function(e,r){1&e&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Create Course"),o.k0s(),o.j41(4,"ion-buttons",0)(5,"ion-button",1),o.bIt("click",function(){return r.dismiss()}),o.EFF(6,"Close"),o.k0s()()()(),o.j41(7,"ion-content")(8,"form",2)(9,"ion-item")(10,"ion-label",3),o.EFF(11,"Course Name"),o.k0s(),o.nrm(12,"ion-input",4),o.k0s(),o.j41(13,"ion-item")(14,"ion-label",3),o.EFF(15,"Description"),o.k0s(),o.nrm(16,"ion-input",5),o.k0s(),o.j41(17,"ion-button",6),o.bIt("click",function(){return r.createCourse()}),o.EFF(18," Create Course "),o.k0s()()()),2&e&&(o.R7$(8),o.Y8G("formGroup",r.createCourseForm),o.R7$(9),o.Y8G("disabled",!r.createCourseForm.valid))},dependencies:[a.qT,a.BC,a.cb,n.Jm,n.QW,n.W9,n.eU,n.$w,n.uz,n.he,n.BC,n.ai,n.Gw,a.j4,a.JD]}),i})();var F=l(4458);let k=(()=>{var t;class i{constructor(e){this.router=e}goToFlashcard(e,r){this.router.navigate([`/flashcard/${e}/${r}`])}}return(t=i).\u0275fac=function(e){return new(e||t)(o.rXU(d.Ix))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-dashboard-card"]],inputs:{title:"title",description:"description",courseId:"courseId"},decls:15,vars:2,consts:[[2,"border-bottom","1px solid black","margin-bottom","20px"],[2,"display","flex","justify-content","center","margin-top","20px"],["color","primary",2,"margin-right","10px",3,"click"],["color","primary",3,"click"],["color","primary",2,"margin-left","10px",3,"click"]],template:function(e,r){1&e&&(o.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3),o.k0s()(),o.j41(4,"ion-card-content")(5,"p"),o.EFF(6),o.k0s(),o.nrm(7,"div",0),o.j41(8,"div",1)(9,"ion-button",2),o.bIt("click",function(){return r.goToFlashcard("practice",r.courseId)}),o.EFF(10,"Practice"),o.k0s(),o.j41(11,"ion-button",3),o.bIt("click",function(){return r.goToFlashcard("study",r.courseId)}),o.EFF(12,"Study"),o.k0s(),o.j41(13,"ion-button",4),o.bIt("click",function(){return r.goToFlashcard("quiz",r.courseId)}),o.EFF(14,"Quiz"),o.k0s()()()()),2&e&&(o.R7$(3),o.JRh(r.title),o.R7$(3),o.JRh(r.description))},dependencies:[n.Jm,n.b_,n.I9,n.ME,n.tN]}),i})();function v(t,i){if(1&t){const s=o.RV6();o.j41(0,"ion-button",3),o.bIt("click",function(){o.eBV(s);const r=o.XpG();return o.Njj(r.openCreateCourseModal())}),o.EFF(1,"Create Course"),o.k0s()}}function _(t,i){if(1&t){const s=o.RV6();o.j41(0,"ion-button",3),o.bIt("click",function(){o.eBV(s);const r=o.XpG();return o.Njj(r.openEditCourseModal())}),o.EFF(1,"Edit Course"),o.k0s()}}function D(t,i){if(1&t&&(o.qex(0),o.nrm(1,"app-dashboard-card",8),o.bVm()),2&t){const s=i.$implicit;o.R7$(),o.Y8G("title",s.name)("description",s.description)("courseId",s.id)}}const E=[{path:"",component:(()=>{var t;class i{constructor(e,r,c,p){this.configService=e,this.router=r,this.modalController=c,this.accountService=p,this.courses=[],this.userRole="user"}openEditCourseModal(){var e=this;return(0,h.A)(function*(){return yield(yield e.modalController.create({component:f})).present()})()}openCreateCourseModal(){var e=this;return(0,h.A)(function*(){const r=yield e.modalController.create({component:g});return r.onDidDismiss().then(()=>{e.loadCourses()}),yield r.present()})()}ngOnInit(){this.accountService.updateRoleForExistingAccounts(),this.accountService.account.subscribe(e=>{e.length>0&&(this.userRole=e[0].role)}),this.loadCourses()}loadCourses(){this.configService.getCourses().subscribe(e=>{e.length>0?this.courses=e:console.error("No courses found.")})}goToFlashcard(e,r){this.router.navigate(["/flashcard",e,r])}goToQuiz(e){this.router.navigate(["/quiz",e])}logout(){console.log("Logout button clicked"),this.router.navigate(["/login"])}}return(t=i).\u0275fac=function(e){return new(e||t)(o.rXU(m.w),o.rXU(d.Ix),o.rXU(n.W3),o.rXU(F.D))},t.\u0275cmp=o.VBU({type:t,selectors:[["app-dashboard"]],decls:15,vars:5,consts:[[3,"translucent"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],[3,"title","description","courseId"]],template:function(e,r){1&e&&(o.nrm(0,"ion-header",0),o.j41(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Dashboard"),o.k0s(),o.j41(4,"ion-buttons",1),o.DNE(5,v,2,0,"ion-button",2)(6,_,2,0,"ion-button",2),o.j41(7,"ion-button",3),o.bIt("click",function(){return r.logout()}),o.EFF(8,"LOGOUT"),o.k0s()()(),o.j41(9,"ion-content",4)(10,"ion-header",5)(11,"ion-toolbar")(12,"ion-title",6),o.EFF(13,"Dashboard"),o.k0s()()(),o.DNE(14,D,2,3,"ng-container",7),o.k0s()),2&e&&(o.Y8G("translucent",!0),o.R7$(5),o.Y8G("ngIf","admin"===r.userRole),o.R7$(),o.Y8G("ngIf","admin"===r.userRole),o.R7$(3),o.Y8G("fullscreen",!0),o.R7$(5),o.Y8G("ngForOf",r.courses))},dependencies:[u.Sq,u.bT,n.Jm,n.QW,n.W9,n.eU,n.BC,n.ai,k]}),i})()},{path:"flashcard/:mode/:courseId",loadChildren:()=>Promise.all([l.e(3955),l.e(9763)]).then(l.bind(l,9763)).then(t=>t.FlashcardPageModule)}];let I=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[d.iI.forChild(E),d.iI]}),i})(),j=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({providers:[m.w],imports:[u.MD,a.YN,n.bv,I,a.X1]}),i})()}}]);