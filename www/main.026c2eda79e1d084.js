(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5504:(Cn,it,O)=>{"use strict";O.d(it,{$:()=>Hs,A:()=>ye,G:()=>Ke,K:()=>Oi,L:()=>go,N:()=>tr,P:()=>Kl,R:()=>$i,U:()=>Zn,V:()=>xo,W:()=>fs,X:()=>va,Y:()=>lo,Z:()=>zo,_:()=>Uo,a:()=>pc,a0:()=>H,a1:()=>K,a2:()=>de,a3:()=>ve,a4:()=>wo,a5:()=>$o,a6:()=>_a,a7:()=>Ya,a8:()=>wr,a9:()=>xa,aA:()=>Yi,aB:()=>we,aC:()=>Pe,aD:()=>Ic,aE:()=>rn,aF:()=>Ar,aG:()=>Zl,aH:()=>$f,aI:()=>Bf,aJ:()=>he,aN:()=>vo,aQ:()=>di,aa:()=>Bl,ab:()=>Ms,ac:()=>lh,ad:()=>Iu,ae:()=>$l,af:()=>ka,ag:()=>Ws,ah:()=>dc,ak:()=>La,al:()=>hc,am:()=>el,ap:()=>At,aq:()=>Be,as:()=>rs,at:()=>oi,au:()=>kt,av:()=>Vi,aw:()=>Xr,ax:()=>Ee,ay:()=>Zo,az:()=>mr,b:()=>Hl,c:()=>Ua,d:()=>Vg,e:()=>gh,f:()=>jf,g:()=>No,h:()=>Yl,i:()=>ks,j:()=>Pu,k:()=>Nu,l:()=>Qi,m:()=>yh,p:()=>xe,r:()=>Du,s:()=>So,u:()=>ba});var c=O(467),h=O(7852),F=O(1076),_e=O(8041),Q=O(1635),ee=O(1362);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},at=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new F.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new _e.Vy("@firebase/auth");function It(I,...p){st.logLevel<=_e.$b.ERROR&&st.error(`Auth (${h.SDK_VERSION}): ${I}`,...p)}function Ee(I,...p){throw Ot(I,...p)}function we(I,...p){return Ot(I,...p)}function ke(I,p,m){const w=Object.assign(Object.assign({},at()),{[p]:m});return new F.FA("auth","Firebase",w).create(p,{appName:I.name})}function Je(I){return ke(I,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tt(I,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(I,"argument-error"),ke(I,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ot(I,...p){if("string"!=typeof I){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(m,...w)}return mt.create(I,...p)}function Pe(I,p,...m){if(!I)throw Ot(p,...m)}function pt(I){const p="INTERNAL ASSERTION FAILED: "+I;throw It(p),new Error(p)}function kt(I,p){I||pt(p)}function tn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function An(){return"http:"===hn()||"https:"===hn()}function hn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ve{constructor(p,m){this.shortDelay=p,this.longDelay=m,kt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.jZ)()||(0,F.lV)()}get(){return function Gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(An()||(0,F.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(I,p){kt(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ue{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new Ve(3e4,6e4);function gt(I,p){return I.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:I.tenantId}):p}function yt(I,p,m,w){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.A)(function*(I,p,m,w,ie={}){return Wt(I,ie,(0,c.A)(function*(){let Re={},Pt={};w&&("GET"===p?Pt=w:Re={body:JSON.stringify(w)});const nn=(0,F.Am)(Object.assign({key:I.config.apiKey},Pt)).slice(1),Rn=yield I._getAdditionalHeaders();Rn["Content-Type"]="application/json",I.languageCode&&(Rn["X-Firebase-Locale"]=I.languageCode);const lr=Object.assign({method:p,headers:Rn},Re);return(0,F.c1)()||(lr.referrerPolicy="no-referrer"),ue.fetch()(xt(I,I.config.apiHost,m,nn),lr)}))})).apply(this,arguments)}function Wt(I,p,m){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.A)(function*(I,p,m){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},ge),p);try{const ie=new Ht(I),Re=yield Promise.race([m(),ie.promise]);ie.clearNetworkTimeout();const Pt=yield Re.json();if("needConfirmation"in Pt)throw wn(I,"account-exists-with-different-credential",Pt);if(Re.ok&&!("errorMessage"in Pt))return Pt;{const nn=Re.ok?Pt.errorMessage:Pt.error.message,[Rn,lr]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw wn(I,"credential-already-in-use",Pt);if("EMAIL_EXISTS"===Rn)throw wn(I,"email-already-in-use",Pt);if("USER_DISABLED"===Rn)throw wn(I,"user-disabled",Pt);const Dr=w[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(lr)throw ke(I,Dr,lr);Ee(I,Dr)}}catch(ie){if(ie instanceof F.g)throw ie;Ee(I,"network-request-failed",{message:String(ie)})}})).apply(this,arguments)}function Ft(I,p,m,w){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.A)(function*(I,p,m,w,ie={}){const Re=yield yt(I,p,m,w,ie);return"mfaPendingCredential"in Re&&Ee(I,"multi-factor-auth-required",{_serverResponse:Re}),Re})).apply(this,arguments)}function xt(I,p,m,w){const ie=`${p}${m}?${w}`;return I.config.emulator?ae(I.config,ie):`${I.config.apiScheme}://${ie}`}function kn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ht{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wn(I,p,m){const w={appName:I.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const ie=we(I,p,w);return ie.customData._tokenResponse=m,ie}function Jt(I){return void 0!==I&&void 0!==I.getResponse}function Dt(I){return void 0!==I&&void 0!==I.enterprise}class bn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return kn(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Le(){return(Le=(0,c.A)(function*(I){return(yield yt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function qe(I,p){return un.apply(this,arguments)}function un(){return(un=(0,c.A)(function*(I,p){return yt(I,"GET","/v2/recaptchaConfig",gt(I,p))})).apply(this,arguments)}function fr(){return(fr=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function en(I,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pr(I){if(I)try{const p=new Date(Number(I));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ti(){return(ti=(0,c.A)(function*(I,p=!1){const m=(0,F.Ku)(I),w=yield m.getIdToken(p),ie=Bn(w);Pe(ie&&ie.exp&&ie.auth_time&&ie.iat,m.auth,"internal-error");const Re="object"==typeof ie.firebase?ie.firebase:void 0,Pt=null==Re?void 0:Re.sign_in_provider;return{claims:ie,token:w,authTime:pr(_i(ie.auth_time)),issuedAtTime:pr(_i(ie.iat)),expirationTime:pr(_i(ie.exp)),signInProvider:Pt||null,signInSecondFactor:(null==Re?void 0:Re.sign_in_second_factor)||null}})).apply(this,arguments)}function _i(I){return 1e3*Number(I)}function Bn(I){const[p,m,w]=I.split(".");if(void 0===p||void 0===m||void 0===w)return It("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,F.u)(m);return ie?JSON.parse(ie):(It("Failed to decode base64 JWT payload"),null)}catch(ie){return It("Caught error parsing JWT payload as JSON",null==ie?void 0:ie.toString()),null}}function Wr(I){const p=Bn(I);return Pe(p,"internal-error"),Pe(typeof p.exp<"u","internal-error"),Pe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Yn(I,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.A)(function*(I,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof F.g&&function qn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class yi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const ie=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Xn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(I){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(I){var p;const m=I.auth,w=yield I.getIdToken(),ie=yield Yn(I,en(m,{idToken:w}));Pe(null==ie?void 0:ie.users.length,m,"internal-error");const Re=ie.users[0];I._notifyReloadListener(Re);const Pt=null!==(p=Re.providerUserInfo)&&void 0!==p&&p.length?bt(Re.providerUserInfo):[],nn=function $t(I,p){return[...I.filter(w=>!p.some(ie=>ie.providerId===w.providerId)),...p]}(I.providerData,Pt),Dr=!!I.isAnonymous&&!(I.email&&Re.passwordHash||null!=nn&&nn.length),mi={uid:Re.localId,displayName:Re.displayName||null,photoURL:Re.photoUrl||null,email:Re.email||null,emailVerified:Re.emailVerified||!1,phoneNumber:Re.phoneNumber||null,tenantId:Re.tenantId||null,providerData:nn,metadata:new Xn(Re.createdAt,Re.lastLoginAt),isAnonymous:Dr};Object.assign(I,mi)})).apply(this,arguments)}function si(){return(si=(0,c.A)(function*(I){const p=(0,F.Ku)(I);yield ni(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function bt(I){return I.map(p=>{var{providerId:m}=p,w=(0,Q.Tt)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ut(){return(ut=(0,c.A)(function*(I,p){const m=yield Wt(I,{},(0,c.A)(function*(){const w=(0,F.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:ie,apiKey:Re}=I.config,Pt=xt(I,ie,"/v1/token",`key=${Re}`),nn=yield I._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(Pt,{method:"POST",headers:nn,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(I,p){return yt(I,"POST","/v2/accounts:revokeToken",gt(I,p))})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Pe(p.idToken,"internal-error"),Pe(typeof p.idToken<"u","internal-error"),Pe(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Wr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){Pe(0!==p.length,"internal-error");const m=Wr(p);this.updateTokensAndExpiration(p,null,m)}getToken(p,m=!1){var w=this;return(0,c.A)(function*(){return m||!w.accessToken||w.isExpired?(Pe(w.refreshToken,p,"user-token-expired"),w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.A)(function*(){const{accessToken:ie,refreshToken:Re,expiresIn:Pt}=yield function qt(I,p){return ut.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(ie,Re,Number(Pt))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:ie,expirationTime:Re}=m,Pt=new X;return w&&(Pe("string"==typeof w,"internal-error",{appName:p}),Pt.refreshToken=w),ie&&(Pe("string"==typeof ie,"internal-error",{appName:p}),Pt.accessToken=ie),Re&&(Pe("number"==typeof Re,"internal-error",{appName:p}),Pt.expirationTime=Re),Pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return pt("not implemented")}}function se(I,p){Pe("string"==typeof I||typeof I>"u","internal-error",{appName:p})}class Xe{constructor(p){var{uid:m,auth:w,stsTokenManager:ie}=p,Re=(0,Q.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=Re.displayName||null,this.email=Re.email||null,this.emailVerified=Re.emailVerified||!1,this.phoneNumber=Re.phoneNumber||null,this.photoURL=Re.photoURL||null,this.isAnonymous=Re.isAnonymous||!1,this.tenantId=Re.tenantId||null,this.providerData=Re.providerData?[...Re.providerData]:[],this.metadata=new Xn(Re.createdAt||void 0,Re.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.A)(function*(){const w=yield Yn(m,m.stsTokenManager.getToken(m.auth,p));return Pe(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function hr(I){return ti.apply(this,arguments)}(this,p)}reload(){return function Pn(I){return si.apply(this,arguments)}(this)}_assign(p){this!==p&&(Pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Xe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.A)(function*(){let ie=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),ie=!0),m&&(yield ni(w)),yield w.auth._persistUserIfCurrent(w),ie&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(Je(p.auth));const m=yield p.getIdToken();return yield Yn(p,function jn(I,p){return fr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,ie,Re,Pt,nn,Rn,lr,Dr;const mi=null!==(w=m.displayName)&&void 0!==w?w:void 0,Ts=null!==(ie=m.email)&&void 0!==ie?ie:void 0,Da=null!==(Re=m.phoneNumber)&&void 0!==Re?Re:void 0,Cc=null!==(Pt=m.photoURL)&&void 0!==Pt?Pt:void 0,Dc=null!==(nn=m.tenantId)&&void 0!==nn?nn:void 0,wc=null!==(Rn=m._redirectEventId)&&void 0!==Rn?Rn:void 0,Fs=null!==(lr=m.createdAt)&&void 0!==lr?lr:void 0,ou=null!==(Dr=m.lastLoginAt)&&void 0!==Dr?Dr:void 0,{uid:su,emailVerified:Pi,isAnonymous:Vu,providerData:cl,stsTokenManager:os}=m;Pe(su&&os,p,"internal-error");const jg=X.fromJSON(this.name,os);Pe("string"==typeof su,p,"internal-error"),se(mi,p.name),se(Ts,p.name),Pe("boolean"==typeof Pi,p,"internal-error"),Pe("boolean"==typeof Vu,p,"internal-error"),se(Da,p.name),se(Cc,p.name),se(Dc,p.name),se(wc,p.name),se(Fs,p.name),se(ou,p.name);const Ml=new Xe({uid:su,auth:p,email:Ts,emailVerified:Pi,displayName:mi,isAnonymous:Vu,photoURL:Cc,phoneNumber:Da,tenantId:Dc,stsTokenManager:jg,createdAt:Fs,lastLoginAt:ou});return cl&&Array.isArray(cl)&&(Ml.providerData=cl.map(za=>Object.assign({},za))),wc&&(Ml._redirectEventId=wc),Ml}static _fromIdTokenResponse(p,m,w=!1){return(0,c.A)(function*(){const ie=new X;ie.updateFromServerResponse(m);const Re=new Xe({uid:m.localId,auth:p,stsTokenManager:ie,isAnonymous:w});return yield ni(Re),Re})()}static _fromGetAccountInfoResponse(p,m,w){return(0,c.A)(function*(){const ie=m.users[0];Pe(void 0!==ie.localId,"internal-error");const Re=void 0!==ie.providerUserInfo?bt(ie.providerUserInfo):[],Pt=!(ie.email&&ie.passwordHash||null!=Re&&Re.length),nn=new X;nn.updateFromIdToken(w);const Rn=new Xe({uid:ie.localId,auth:p,stsTokenManager:nn,isAnonymous:Pt}),lr={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Re,metadata:new Xn(ie.createdAt,ie.lastLoginAt),isAnonymous:!(ie.email&&ie.passwordHash||null!=Re&&Re.length)};return Object.assign(Rn,lr),Rn})()}}const et=new Map;function rn(I){kt(I instanceof Function,"Expected a class definition");let p=et.get(I);return p?(kt(p instanceof I,"Instance stored in cache mismatched with class"),p):(p=new I,et.set(I,p),p)}const Zn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(m,w){var ie=this;return(0,c.A)(function*(){ie.storage[m]=w})()}_get(m){var w=this;return(0,c.A)(function*(){const ie=w.storage[m];return void 0===ie?null:ie})()}_remove(m){var w=this;return(0,c.A)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return I.type="NONE",I})();function Ar(I,p,m){return`firebase:${I}:${p}:${m}`}class vt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:ie,name:Re}=this.auth;this.fullUserKey=Ar(this.userKey,ie.apiKey,Re),this.fullPersistenceKey=Ar("persistence",ie.apiKey,Re),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Xe._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.A)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.A)(function*(){if(!m.length)return new vt(rn(Zn),p,w);const ie=(yield Promise.all(m.map(function(){var lr=(0,c.A)(function*(Dr){if(yield Dr._isAvailable())return Dr});return function(Dr){return lr.apply(this,arguments)}}()))).filter(lr=>lr);let Re=ie[0]||rn(Zn);const Pt=Ar(w,p.config.apiKey,p.name);let nn=null;for(const lr of m)try{const Dr=yield lr._get(Pt);if(Dr){const mi=Xe._fromJSON(p,Dr);lr!==Re&&(nn=mi),Re=lr;break}}catch{}const Rn=ie.filter(lr=>lr._shouldAllowMigration);return Re._shouldAllowMigration&&Rn.length?(Re=Rn[0],nn&&(yield Re._set(Pt,nn.toJSON())),yield Promise.all(m.map(function(){var lr=(0,c.A)(function*(Dr){if(Dr!==Re)try{yield Dr._remove(Pt)}catch{}});return function(Dr){return lr.apply(this,arguments)}}())),new vt(Re,p,w)):new vt(Re,p,w)})()}}function Ir(I){const p=I.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Fi(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Mn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ji(p))return"Blackberry";if(Ei(p))return"Webos";if(Pr(p))return"Safari";if((p.includes("chrome/")||Ti(p))&&!p.includes("edge/"))return"Chrome";if(Xr(p))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Mn(I=(0,F.ZQ)()){return/firefox\//i.test(I)}function Pr(I=(0,F.ZQ)()){const p=I.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ti(I=(0,F.ZQ)()){return/crios\//i.test(I)}function Fi(I=(0,F.ZQ)()){return/iemobile/i.test(I)}function Xr(I=(0,F.ZQ)()){return/android/i.test(I)}function ji(I=(0,F.ZQ)()){return/blackberry/i.test(I)}function Ei(I=(0,F.ZQ)()){return/webos/i.test(I)}function Vi(I=(0,F.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Yi(I=(0,F.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function q(I=(0,F.ZQ)()){return Vi(I)||Xr(I)||Ei(I)||ji(I)||/windows phone/i.test(I)||Fi(I)}function Me(I,p=[]){let m;switch(I){case"Browser":m=Ir((0,F.ZQ)());break;case"Worker":m=`${Ir((0,F.ZQ)())}-${I}`;break;default:m=I}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${h.SDK_VERSION}/${w}`}class ne{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=Re=>new Promise((Pt,nn)=>{try{Pt(p(Re))}catch(Rn){nn(Rn)}});w.onAbort=m,this.queue.push(w);const ie=this.queue.length-1;return()=>{this.queue[ie]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.A)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const ie of m.queue)yield ie(p),ie.onAbort&&w.push(ie.onAbort)}catch(ie){w.reverse();for(const Re of w)try{Re()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==ie?void 0:ie.message})}})()}}function Ne(){return(Ne=(0,c.A)(function*(I,p={}){return yt(I,"GET","/v2/passwordPolicy",gt(I,p))})).apply(this,arguments)}class on{constructor(p){var m,w,ie,Re;const Pt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Pt.minPasswordLength)&&void 0!==m?m:6,Pt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Pt.maxPasswordLength),void 0!==Pt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Pt.containsLowercaseCharacter),void 0!==Pt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Pt.containsUppercaseCharacter),void 0!==Pt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Pt.containsNumericCharacter),void 0!==Pt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Pt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ie=null===(w=p.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==ie?ie:"",this.forceUpgradeOnSignin=null!==(Re=p.forceUpgradeOnSignin)&&void 0!==Re&&Re,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,w,ie,Re,Pt,nn;const Rn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Rn),this.validatePasswordCharacterOptions(p,Rn),Rn.isValid&&(Rn.isValid=null===(m=Rn.meetsMinPasswordLength)||void 0===m||m),Rn.isValid&&(Rn.isValid=null===(w=Rn.meetsMaxPasswordLength)||void 0===w||w),Rn.isValid&&(Rn.isValid=null===(ie=Rn.containsLowercaseLetter)||void 0===ie||ie),Rn.isValid&&(Rn.isValid=null===(Re=Rn.containsUppercaseLetter)||void 0===Re||Re),Rn.isValid&&(Rn.isValid=null===(Pt=Rn.containsNumericCharacter)||void 0===Pt||Pt),Rn.isValid&&(Rn.isValid=null===(nn=Rn.containsNonAlphanumericCharacter)||void 0===nn||nn),Rn}validatePasswordLengthOptions(p,m){const w=this.customStrengthOptions.minPasswordLength,ie=this.customStrengthOptions.maxPasswordLength;w&&(m.meetsMinPasswordLength=p.length>=w),ie&&(m.meetsMaxPasswordLength=p.length<=ie)}validatePasswordCharacterOptions(p,m){let w;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let ie=0;ie<p.length;ie++)w=p.charAt(ie),this.updatePasswordCharacterOptionsStatuses(m,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(p,m,w,ie,Re){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=ie)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Re))}}class gn{constructor(p,m,w,ie){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=ie,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $e(this),this.idTokenSubscription=new $e(this),this.beforeStateQueue=new ne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=ie.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=rn(m)),this._initializationPromise=this.queue((0,c.A)(function*(){var ie,Re;if(!w._deleted&&(w.persistenceManager=yield vt.create(w,p),!w._deleted)){if(null!==(ie=w._popupRedirectResolver)&&void 0!==ie&&ie._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(Re=w.currentUser)||void 0===Re?void 0:Re.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,c.A)(function*(){try{const w=yield en(m,{idToken:p}),ie=yield Xe._fromGetAccountInfoResponse(m,w,p);yield m.directlySetCurrentUser(ie)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,c.A)(function*(){var w;if((0,h._isFirebaseServerApp)(m.app)){const nn=m.app.settings.authIdToken;return nn?new Promise(Rn=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(nn).then(Rn,Rn))}):m.directlySetCurrentUser(null)}const ie=yield m.assertedPersistence.getCurrentUser();let Re=ie,Pt=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const nn=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Rn=null==Re?void 0:Re._redirectEventId,lr=yield m.tryRedirectSignIn(p);(!nn||nn===Rn)&&null!=lr&&lr.user&&(Re=lr.user,Pt=!0)}if(!Re)return m.directlySetCurrentUser(null);if(!Re._redirectEventId){if(Pt)try{yield m.beforeStateQueue.runMiddleware(Re)}catch(nn){Re=ie,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(nn))}return Re?m.reloadAndSetCurrentUserOrClear(Re):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Re._redirectEventId?m.directlySetCurrentUser(Re):m.reloadAndSetCurrentUserOrClear(Re)})()}tryRedirectSignIn(p){var m=this;return(0,c.A)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.A)(function*(){try{yield ni(p)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(m.app))return Promise.reject(Je(m));const w=p?(0,F.Ku)(p):null;return w&&Pe(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,c.A)(function*(){if(!w._deleted)return p&&Pe(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.A)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(Je(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(Je(this)):this.queue((0,c.A)(function*(){yield m.assertedPersistence.setPersistence(rn(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,c.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const w=m._getPasswordPolicyInternal();return w.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const m=yield function le(I){return Ne.apply(this,arguments)}(p),w=new on(m);null===p.tenantId?p._projectPasswordPolicy=w:p._tenantPasswordPolicies[p.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.FA("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const w=this.onAuthStateChanged(()=>{w(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,c.A)(function*(){if(m.currentUser){const w=yield m.currentUser.getIdToken(),ie={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:w};null!=m.tenantId&&(ie.tenantId=m.tenantId),yield function Kt(I,p){return Z.apply(this,arguments)}(m,ie)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.A)(function*(){const ie=yield w.getOrInitRedirectPersistenceManager(m);return null===p?ie.removeCurrentUser():ie.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.A)(function*(){if(!m.redirectPersistenceManager){const w=p&&rn(p)||m._popupRedirectResolver;Pe(w,m,"argument-error"),m.redirectPersistenceManager=yield vt.create(m,[rn(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.A)(function*(){var w,ie;return m._isInitialized&&(yield m.queue((0,c.A)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(ie=m.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.A)(function*(){if(p===m.currentUser)return m.queue((0,c.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,ie){if(this._deleted)return()=>{};const Re="function"==typeof m?m:m.next.bind(m);let Pt=!1;const nn=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(nn,this,"internal-error"),nn.then(()=>{Pt||Re(this.currentUser)}),"function"==typeof m){const Rn=p.addObserver(m,w,ie);return()=>{Pt=!0,Rn()}}{const Rn=p.addObserver(m);return()=>{Pt=!0,Rn()}}}directlySetCurrentUser(p){var m=this;return(0,c.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const ie=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();ie&&(w["X-Firebase-Client"]=ie);const Re=yield p._getAppCheckToken();return Re&&(w["X-Firebase-AppCheck"]=Re),w})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var m;const w=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=w&&w.error&&function Mt(I,...p){st.logLevel<=_e.$b.WARN&&st.warn(`Auth (${h.SDK_VERSION}): ${I}`,...p)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function he(I){return(0,F.Ku)(I)}class $e{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.tD)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nt={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zt(I){return Nt.loadJS(I)}function dr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class ai{constructor(p){this.type="recaptcha-enterprise",this.auth=he(p)}verify(p="verify",m=!1){var w=this;return(0,c.A)(function*(){function Re(){return Re=(0,c.A)(function*(nn){if(!m){if(null==nn.tenantId&&null!=nn._agentRecaptchaConfig)return nn._agentRecaptchaConfig.siteKey;if(null!=nn.tenantId&&void 0!==nn._tenantRecaptchaConfigs[nn.tenantId])return nn._tenantRecaptchaConfigs[nn.tenantId].siteKey}return new Promise(function(){var Rn=(0,c.A)(function*(lr,Dr){qe(nn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mi=>{if(void 0!==mi.recaptchaKey){const Ts=new bn(mi);return null==nn.tenantId?nn._agentRecaptchaConfig=Ts:nn._tenantRecaptchaConfigs[nn.tenantId]=Ts,lr(Ts.siteKey)}Dr(new Error("recaptcha Enterprise site key undefined"))}).catch(mi=>{Dr(mi)})});return function(lr,Dr){return Rn.apply(this,arguments)}}())}),Re.apply(this,arguments)}function Pt(nn,Rn,lr){const Dr=window.grecaptcha;Dt(Dr)?Dr.enterprise.ready(()=>{Dr.enterprise.execute(nn,{action:p}).then(mi=>{Rn(mi)}).catch(()=>{Rn("NO_RECAPTCHA")})}):lr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nn,Rn)=>{(function ie(nn){return Re.apply(this,arguments)})(w.auth).then(lr=>{if(!m&&Dt(window.grecaptcha))Pt(lr,nn,Rn);else{if(typeof window>"u")return void Rn(new Error("RecaptchaVerifier is only supported in browser"));let Dr=function $n(){return Nt.recaptchaEnterpriseScript}();0!==Dr.length&&(Dr+=lr),zt(Dr).then(()=>{Pt(lr,nn,Rn)}).catch(mi=>{Rn(mi)})}}).catch(lr=>{Rn(lr)})})})()}}function Ci(I,p,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.A)(function*(I,p,m,w=!1){const ie=new ai(I);let Re;try{Re=yield ie.verify(m)}catch{Re=yield ie.verify(m,!0)}const Pt=Object.assign({},p);return Object.assign(Pt,w?{captchaResp:Re}:{captchaResponse:Re}),Object.assign(Pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pt})).apply(this,arguments)}function ui(I,p,m,w){return wi.apply(this,arguments)}function wi(){return wi=(0,c.A)(function*(I,p,m,w){var ie;if(null!==(ie=I._getRecaptchaConfig())&&void 0!==ie&&ie.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Re=yield Ci(I,p,m,"getOobCode"===m);return w(I,Re)}return w(I,p).catch(function(){var Re=(0,c.A)(function*(Pt){if("auth/missing-recaptcha-token"===Pt.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nn=yield Ci(I,p,m,"getOobCode"===m);return w(I,nn)}return Promise.reject(Pt)});return function(Pt){return Re.apply(this,arguments)}}())}),wi.apply(this,arguments)}function Oi(I,p,m){const w=he(I);Pe(w._canInitEmulator,w,"emulator-config-failed"),Pe(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const ie=!(null==m||!m.disableWarnings),Re=qi(p),{host:Pt,port:nn}=function Zi(I){const p=qi(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",ie=/^(\[[^\]]+\])(:|$)/.exec(w);if(ie){const Re=ie[1];return{host:Re,port:fo(w.substr(Re.length+1))}}{const[Re,Pt]=w.split(":");return{host:Re,port:fo(Pt)}}}(p);w.config.emulator={url:`${Re}//${Pt}${null===nn?"":`:${nn}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Pt,port:nn,protocol:Re.replace(":",""),options:Object.freeze({disableWarnings:ie})}),ie||function po(){function I(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function qi(I){const p=I.indexOf(":");return p<0?"":I.substr(0,p+1)}function fo(I){if(!I)return null;const p=Number(I);return isNaN(p)?null:p}class go{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return pt("not implemented")}_getIdTokenResponse(p){return pt("not implemented")}_linkToIdToken(p,m){return pt("not implemented")}_getReauthenticationResolver(p){return pt("not implemented")}}function pi(I,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:resetPassword",gt(I,p))})).apply(this,arguments)}function ts(){return(ts=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jo(I,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function zi(){return(zi=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:update",gt(I,p))})).apply(this,arguments)}function ri(I,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithPassword",gt(I,p))})).apply(this,arguments)}function Fo(I,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:sendOobCode",gt(I,p))})).apply(this,arguments)}function te(){return(te=(0,c.A)(function*(I,p){return Fo(I,p)})).apply(this,arguments)}function pe(I,p){return N.apply(this,arguments)}function N(){return(N=(0,c.A)(function*(I,p){return Fo(I,p)})).apply(this,arguments)}function T(I,p){return V.apply(this,arguments)}function V(){return(V=(0,c.A)(function*(I,p){return Fo(I,p)})).apply(this,arguments)}function Ze(){return(Ze=(0,c.A)(function*(I,p){return Fo(I,p)})).apply(this,arguments)}function Tt(){return(Tt=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithEmailLink",gt(I,p))})).apply(this,arguments)}function mn(){return(mn=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithEmailLink",gt(I,p))})).apply(this,arguments)}class an extends go{constructor(p,m,w,ie=null){super("password",w),this._email=p,this._password=m,this._tenantId=ie}static _fromEmailAndPassword(p,m){return new an(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new an(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.A)(function*(){switch(m.signInMethod){case"password":return ui(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ri);case"emailLink":return function _t(I,p){return Tt.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.A)(function*(){switch(w.signInMethod){case"password":return ui(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jo);case"emailLink":return function cn(I,p){return mn.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function pn(I,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithIdp",gt(I,p))})).apply(this,arguments)}class tr extends go{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new tr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:ie}=m,Re=(0,Q.Tt)(m,["providerId","signInMethod"]);if(!w||!ie)return null;const Pt=new tr(w,ie);return Pt.idToken=Re.idToken||void 0,Pt.accessToken=Re.accessToken||void 0,Pt.secret=Re.secret,Pt.nonce=Re.nonce,Pt.pendingToken=Re.pendingToken||null,Pt}_getIdTokenResponse(p){return pn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,pn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,F.Am)(m)}return p}}function Fr(){return(Fr=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:sendVerificationCode",gt(I,p))})).apply(this,arguments)}function ii(){return(ii=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithPhoneNumber",gt(I,p))})).apply(this,arguments)}function Jr(){return(Jr=(0,c.A)(function*(I,p){const m=yield Ft(I,"POST","/v1/accounts:signInWithPhoneNumber",gt(I,p));if(m.temporaryProof)throw wn(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ho={USER_NOT_FOUND:"user-not-found"};function Qn(){return(Qn=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithPhoneNumber",gt(I,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ho)})).apply(this,arguments)}class so extends go{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new so({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new so({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function xi(I,p){return ii.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function vi(I,p){return Jr.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Xi(I,p){return Qn.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:ie}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:ie}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:ie,temporaryProof:Re}=p;return w||m||ie||Re?new so({verificationId:m,verificationCode:w,phoneNumber:ie,temporaryProof:Re}):null}}class hs{constructor(p){var m,w,ie,Re,Pt,nn;const Rn=(0,F.I9)((0,F.hp)(p)),lr=null!==(m=Rn.apiKey)&&void 0!==m?m:null,Dr=null!==(w=Rn.oobCode)&&void 0!==w?w:null,mi=function Oo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ie=Rn.mode)&&void 0!==ie?ie:null);Pe(lr&&Dr&&mi,"argument-error"),this.apiKey=lr,this.operation=mi,this.code=Dr,this.continueUrl=null!==(Re=Rn.continueUrl)&&void 0!==Re?Re:null,this.languageCode=null!==(Pt=Rn.languageCode)&&void 0!==Pt?Pt:null,this.tenantId=null!==(nn=Rn.tenantId)&&void 0!==nn?nn:null}static parseLink(p){const m=function Ps(I){const p=(0,F.I9)((0,F.hp)(I)).link,m=p?(0,F.I9)((0,F.hp)(p)).deep_link_id:null,w=(0,F.I9)((0,F.hp)(I)).deep_link_id;return(w?(0,F.I9)((0,F.hp)(w)).link:null)||w||m||p||I}(p);try{return new hs(m)}catch{return null}}}let xo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,w){return an._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const ie=hs.parseLink(w);return Pe(ie,"argument-error"),an._fromEmailAndCode(m,ie.code,ie.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ao{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Vo extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class zo extends Vo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),tr._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Pe(p.idToken||p.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return zo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return zo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:ie,pendingToken:Re,nonce:Pt,providerId:nn}=p;if(!w&&!ie&&!m&&!Re||!nn)return null;try{return new zo(nn)._credential({idToken:m,accessToken:w,nonce:Pt,pendingToken:Re})}catch{return null}}}let fs=(()=>{class I extends Vo{constructor(){super("facebook.com")}static credential(m){return tr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),va=(()=>{class I extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return tr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:ie}=m;if(!w&&!ie)return null;try{return I.credential(w,ie)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),lo=(()=>{class I extends Vo{constructor(){super("github.com")}static credential(m){return tr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class di extends go{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return pn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,pn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:ie,pendingToken:Re}=m;return w&&ie&&Re&&w===ie?new di(w,Re):null}static _create(p,m){return new di(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Uo extends ao{constructor(p){Pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Uo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Uo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=di.fromJSON(p);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return di._create(w,m)}catch{return null}}}let Hs=(()=>{class I extends Vo{constructor(){super("twitter.com")}static credential(m,w){return tr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:ie}=m;if(!w||!ie)return null;try{return I.credential(w,ie)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function re(I,p){return G.apply(this,arguments)}function G(){return(G=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signUp",gt(I,p))})).apply(this,arguments)}class A{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,ie=!1){return(0,c.A)(function*(){const Re=yield Xe._fromIdTokenResponse(p,w,ie),Pt=b(w);return new A({user:Re,providerId:Pt,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(w,!0);const ie=b(w);return new A({user:p,providerId:ie,_tokenResponse:w,operationType:m})})()}}function b(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function H(I){return ce.apply(this,arguments)}function ce(){return(ce=(0,c.A)(function*(I){var p;if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const m=he(I);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new A({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield re(m,{returnSecureToken:!0}),ie=yield A._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(ie.user),ie})).apply(this,arguments)}class be extends F.g{constructor(p,m,w,ie){var Re;super(m.code,m.message),this.operationType=w,this.user=ie,Object.setPrototypeOf(this,be.prototype),this.customData={appName:p.name,tenantId:null!==(Re=p.tenantId)&&void 0!==Re?Re:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,ie){return new be(p,m,w,ie)}}function Ce(I,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(Re=>{throw"auth/multi-factor-auth-required"===Re.code?be._fromErrorAndOperation(I,Re,p,w):Re})}function lt(I){return new Set(I.map(({providerId:p})=>p).filter(p=>!!p))}function At(I,p){return dt.apply(this,arguments)}function dt(){return dt=(0,c.A)(function*(I,p){const m=(0,F.Ku)(I);yield ar(!0,m,p);const{providerUserInfo:w}=yield function sr(I,p){return Un.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),ie=lt(w||[]);return m.providerData=m.providerData.filter(Re=>ie.has(Re.providerId)),ie.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),dt.apply(this,arguments)}function Tn(I,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.A)(function*(I,p,m=!1){const w=yield Yn(I,p._linkToIdToken(I.auth,yield I.getIdToken()),m);return A._forOperation(I,"link",w)})).apply(this,arguments)}function ar(I,p,m){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(I,p,m){yield ni(p);const ie=!1===I?"provider-already-linked":"no-such-provider";Pe(lt(p.providerData).has(m)===I,p.auth,ie)})).apply(this,arguments)}function Ni(I,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.A)(function*(I,p,m=!1){const{auth:w}=I;if((0,h._isFirebaseServerApp)(w.app))return Promise.reject(Je(w));const ie="reauthenticate";try{const Re=yield Yn(I,Ce(w,ie,p,I),m);Pe(Re.idToken,w,"internal-error");const Pt=Bn(Re.idToken);Pe(Pt,w,"internal-error");const{sub:nn}=Pt;return Pe(I.uid===nn,w,"user-mismatch"),A._forOperation(I,ie,Re)}catch(Re){throw"auth/user-not-found"===(null==Re?void 0:Re.code)&&Ee(w,"user-mismatch"),Re}})).apply(this,arguments)}function qo(I,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.A)(function*(I,p,m=!1){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w="signIn",ie=yield Ce(I,w,p),Re=yield A._fromIdTokenResponse(I,w,ie);return m||(yield I._updateCurrentUser(Re.user)),Re})).apply(this,arguments)}function K(I,p){return x.apply(this,arguments)}function x(){return(x=(0,c.A)(function*(I,p){return qo(he(I),p)})).apply(this,arguments)}function de(I,p){return j.apply(this,arguments)}function j(){return(j=(0,c.A)(function*(I,p){const m=(0,F.Ku)(I);return yield ar(!1,m,p.providerId),Tn(m,p)})).apply(this,arguments)}function ve(I,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.A)(function*(I,p){return Ni((0,F.Ku)(I),p)})).apply(this,arguments)}function ki(){return(ki=(0,c.A)(function*(I,p){return Ft(I,"POST","/v1/accounts:signInWithCustomToken",gt(I,p))})).apply(this,arguments)}function wo(I,p){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,c.A)(function*(I,p){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const m=he(I),w=yield function cr(I,p){return ki.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),ie=yield A._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(ie.user),ie}),Eo.apply(this,arguments)}class Nr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ma._fromServerResponse(p,m):"totpInfo"in m?Xo._fromServerResponse(p,m):Ee(p,"internal-error")}}class Ma extends Nr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ma(m)}}class Xo extends Nr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Xo(m)}}function zs(I,p,m){var w;Pe((null===(w=m.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),Pe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,I,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Oa(I){return na.apply(this,arguments)}function na(){return(na=(0,c.A)(function*(I){const p=he(I);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function $o(I,p,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.A)(function*(I,p,m){const w=he(I),ie={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&zs(w,ie,m),yield ui(w,ie,"getOobCode",pe)})).apply(this,arguments)}function _a(I,p,m){return ra.apply(this,arguments)}function ra(){return ra=(0,c.A)(function*(I,p,m){yield pi((0,F.Ku)(I),{oobCode:p,newPassword:m}).catch(function(){var w=(0,c.A)(function*(ie){throw"auth/password-does-not-meet-requirements"===ie.code&&Oa(I),ie});return function(ie){return w.apply(this,arguments)}}())}),ra.apply(this,arguments)}function Ya(I,p){return ia.apply(this,arguments)}function ia(){return ia=(0,c.A)(function*(I,p){yield function Wo(I,p){return zi.apply(this,arguments)}((0,F.Ku)(I),{oobCode:p})}),ia.apply(this,arguments)}function wr(I,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.A)(function*(I,p){const m=(0,F.Ku)(I),w=yield pi(m,{oobCode:p}),ie=w.requestType;switch(Pe(ie,m,"internal-error"),ie){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(w.mfaInfo,m,"internal-error");default:Pe(w.email,m,"internal-error")}let Re=null;return w.mfaInfo&&(Re=Nr._fromServerResponse(he(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Re},operation:ie}})).apply(this,arguments)}function xa(I,p){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.A)(function*(I,p){const{data:m}=yield wr((0,F.Ku)(I),p);return m.email})).apply(this,arguments)}function Bl(I,p,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.A)(function*(I,p,m){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w=he(I),Pt=yield ui(w,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",re).catch(Rn=>{throw"auth/password-does-not-meet-requirements"===Rn.code&&Oa(I),Rn}),nn=yield A._fromIdTokenResponse(w,"signIn",Pt);return yield w._updateCurrentUser(nn.user),nn})).apply(this,arguments)}function Ms(I,p,m){return(0,h._isFirebaseServerApp)(I.app)?Promise.reject(Je(I)):K((0,F.Ku)(I),xo.credential(p,m)).catch(function(){var w=(0,c.A)(function*(ie){throw"auth/password-does-not-meet-requirements"===ie.code&&Oa(I),ie});return function(ie){return w.apply(this,arguments)}}())}function lh(I,p,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.A)(function*(I,p,m){const w=he(I),ie={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Re(Pt,nn){Pe(nn.handleCodeInApp,w,"argument-error"),nn&&zs(w,Pt,nn)})(ie,m),yield ui(w,ie,"getOobCode",T)})).apply(this,arguments)}function Iu(I,p){const m=hs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function $l(I,p,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.A)(function*(I,p,m){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w=(0,F.Ku)(I),ie=xo.credentialWithLink(p,m||tn());return Pe(ie._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),K(w,ie)})).apply(this,arguments)}function Na(){return(Na=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:createAuthUri",gt(I,p))})).apply(this,arguments)}function ka(I,p){return Za.apply(this,arguments)}function Za(){return Za=(0,c.A)(function*(I,p){const w={identifier:p,continueUri:An()?tn():"http://localhost"},{signinMethods:ie}=yield function Jo(I,p){return Na.apply(this,arguments)}((0,F.Ku)(I),w);return ie||[]}),Za.apply(this,arguments)}function Ws(I,p){return kr.apply(this,arguments)}function kr(){return kr=(0,c.A)(function*(I,p){const m=(0,F.Ku)(I),ie={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};p&&zs(m.auth,ie,p);const{email:Re}=yield function M(I,p){return te.apply(this,arguments)}(m.auth,ie);Re!==I.email&&(yield I.reload())}),kr.apply(this,arguments)}function dc(I,p,m){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I),Re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:p};m&&zs(w.auth,Re,m);const{email:Pt}=yield function Ue(I,p){return Ze.apply(this,arguments)}(w.auth,Re);Pt!==I.email&&(yield I.reload())}),Mr.apply(this,arguments)}function Au(){return(Au=(0,c.A)(function*(I,p){return yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function La(I,p){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,c.A)(function*(I,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,F.Ku)(I),Re={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Pt=yield Yn(w,function Ii(I,p){return Au.apply(this,arguments)}(w.auth,Re));w.displayName=Pt.displayName||null,w.photoURL=Pt.photoUrl||null;const nn=w.providerData.find(({providerId:Rn})=>"password"===Rn);nn&&(nn.displayName=w.displayName,nn.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Pt)}),Fa.apply(this,arguments)}function hc(I,p){const m=(0,F.Ku)(I);return(0,h._isFirebaseServerApp)(m.auth.app)?Promise.reject(Je(m.auth)):Va(m,p,null)}function el(I,p){return Va((0,F.Ku)(I),null,p)}function Va(I,p,m){return zr.apply(this,arguments)}function zr(){return zr=(0,c.A)(function*(I,p,m){const{auth:w}=I,Re={idToken:yield I.getIdToken(),returnSecureToken:!0};p&&(Re.email=p),m&&(Re.password=m);const Pt=yield Yn(I,function mo(I,p){return ts.apply(this,arguments)}(w,Re));yield I._updateTokensIfNecessary(Pt,!0)}),zr.apply(this,arguments)}class oa{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Gi extends oa{constructor(p,m,w,ie){super(p,m,w),this.username=ie}}class bu extends oa{constructor(p,m){super(p,"facebook.com",m)}}class tl extends Gi{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class D extends oa{constructor(p,m){super(p,"google.com",m)}}class W extends Gi{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Be(I){const{user:p,_tokenResponse:m}=I;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function As(I){var p,m;if(!I)return null;const{providerId:w}=I,ie=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Re=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&null!=I&&I.idToken){const Pt=null===(m=null===(p=Bn(I.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Pt)return new oa(Re,"anonymous"!==Pt&&"custom"!==Pt?Pt:null)}if(!w)return null;switch(w){case"facebook.com":return new bu(Re,ie);case"github.com":return new tl(Re,ie);case"google.com":return new D(Re,ie);case"twitter.com":return new W(Re,ie,I.screenName||null);case"custom":case"anonymous":return new oa(Re,null);default:return new oa(Re,w,ie)}}(m)}class Bi{constructor(p,m,w){this.type=p,this.credential=m,this.user=w}static _fromIdtoken(p,m){return new Bi("enroll",p,m)}static _fromMfaPendingCredential(p){return new Bi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Bi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Bi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ns{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=he(p),ie=m.customData._serverResponse,Re=(ie.mfaInfo||[]).map(nn=>Nr._fromServerResponse(w,nn));Pe(ie.mfaPendingCredential,w,"internal-error");const Pt=Bi._fromMfaPendingCredential(ie.mfaPendingCredential);return new ns(Pt,Re,function(){var nn=(0,c.A)(function*(Rn){const lr=yield Rn._process(w,Pt);delete ie.mfaInfo,delete ie.mfaPendingCredential;const Dr=Object.assign(Object.assign({},ie),{idToken:lr.idToken,refreshToken:lr.refreshToken});switch(m.operationType){case"signIn":const mi=yield A._fromIdTokenResponse(w,m.operationType,Dr);return yield w._updateCurrentUser(mi.user),mi;case"reauthenticate":return Pe(m.user,w,"internal-error"),A._forOperation(m.user,m.operationType,Dr);default:Ee(w,"internal-error")}});return function(Rn){return nn.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.A)(function*(){return m.signInResolver(p)})()}}function rs(I,p){var m;const w=(0,F.Ku)(I),ie=p;return Pe(p.customData.operationType,w,"argument-error"),Pe(null===(m=ie.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ns._fromError(w,ie)}class jl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Nr._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new jl(p)}getSession(){var p=this;return(0,c.A)(function*(){return Bi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var w=this;return(0,c.A)(function*(){const ie=p,Re=yield w.getSession(),Pt=yield Yn(w.user,ie._process(w.user.auth,Re,m));return yield w.user._updateTokensIfNecessary(Pt),w.user.reload()})()}unenroll(p){var m=this;return(0,c.A)(function*(){const w="string"==typeof p?p:p.uid,ie=yield m.user.getIdToken();try{const Re=yield Yn(m.user,function uh(I,p){return yt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(I,p))}(m.user.auth,{idToken:ie,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Pt})=>Pt!==w),yield m.user._updateTokensIfNecessary(Re),yield m.user.reload()}catch(Re){throw Re}})()}}const Io=new WeakMap;function oi(I){const p=(0,F.Ku)(I);return Io.has(p)||Io.set(p,jl._fromUser(p)),Io.get(p)}const bl="__sak";class is{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hl=(()=>{class I extends is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const ie=this.storage.getItem(w),Re=this.localCache[w];ie!==Re&&m(w,Re,ie)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((nn,Rn,lr)=>{this.notifyListeners(nn,lr)});const ie=m.key;w?this.detachListener():this.stopPolling();const Re=()=>{const nn=this.storage.getItem(ie);!w&&this.localCache[ie]===nn||this.notifyListeners(ie,nn)},Pt=this.storage.getItem(ie);!function fe(){return(0,F.lT)()&&10===document.documentMode}()||Pt===m.newValue||m.newValue===m.oldValue?Re():setTimeout(Re,10)}notifyListeners(m,w){this.localCache[m]=w;const ie=this.listeners[m];if(ie)for(const Re of Array.from(ie))Re(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,ie)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:ie}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var ie=()=>super._set,Re=this;return(0,c.A)(function*(){yield ie().call(Re,m,w),Re.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,ie=this;return(0,c.A)(function*(){const Re=yield w().call(ie,m);return ie.localCache[m]=JSON.stringify(Re),Re})()}_remove(m){var w=()=>super._remove,ie=this;return(0,c.A)(function*(){yield w().call(ie,m),delete ie.localCache[m]})()}}return I.type="LOCAL",I})(),pc=(()=>{class I extends is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return I.type="SESSION",I})();let zl=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(Re=>Re.isListeningto(m));if(w)return w;const ie=new I(m);return this.receivers.push(ie),ie}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.A)(function*(){const ie=m,{eventId:Re,eventType:Pt,data:nn}=ie.data,Rn=w.handlersMap[Pt];if(null==Rn||!Rn.size)return;ie.ports[0].postMessage({status:"ack",eventId:Re,eventType:Pt});const lr=Array.from(Rn).map(function(){var mi=(0,c.A)(function*(Ts){return Ts(ie.origin,nn)});return function(Ts){return mi.apply(this,arguments)}}()),Dr=yield function nl(I){return Promise.all(I.map(function(){var p=(0,c.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(lr);ie.ports[0].postMessage({status:"done",eventId:Re,eventType:Pt,response:Dr})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function vo(I="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return I+m}class Tl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var ie=this;return(0,c.A)(function*(){const Re=typeof MessageChannel<"u"?new MessageChannel:null;if(!Re)throw new Error("connection_unavailable");let Pt,nn;return new Promise((Rn,lr)=>{const Dr=vo("",20);Re.port1.start();const mi=setTimeout(()=>{lr(new Error("unsupported_event"))},w);nn={messageChannel:Re,onMessage(Ts){const Da=Ts;if(Da.data.eventId===Dr)switch(Da.data.status){case"ack":clearTimeout(mi),Pt=setTimeout(()=>{lr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pt),Rn(Da.data.response);break;default:clearTimeout(mi),clearTimeout(Pt),lr(new Error("invalid_response"))}}},ie.handlers.add(nn),Re.port1.addEventListener("message",nn.onMessage),ie.target.postMessage({eventType:p,eventId:Dr,data:m},[Re.port2])}).finally(()=>{nn&&ie.removeMessageHandler(nn)})})()}}function eo(){return window}function Cl(){return typeof eo().WorkerGlobalScope<"u"&&"function"==typeof eo().importScripts}function Ai(){return(Ai=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tu="firebaseLocalStorageDb",Dl="firebaseLocalStorage",Ns="fbase_key";class Go{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Gl(I,p){return I.transaction([Dl],p?"readwrite":"readonly").objectStore(Dl)}function uo(){const I=indexedDB.open(Tu,1);return new Promise((p,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Dl,{keyPath:Ns})}catch(ie){m(ie)}}),I.addEventListener("success",(0,c.A)(function*(){const w=I.result;w.objectStoreNames.contains(Dl)?p(w):(w.close(),yield function gc(){const I=indexedDB.deleteDatabase(Tu);return new Go(I).toPromise()}(),p(yield uo()))}))})}function Wl(I,p,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.A)(function*(I,p,m){const w=Gl(I,!0).put({[Ns]:p,value:m});return new Go(w).toPromise()})).apply(this,arguments)}function Aa(){return(Aa=(0,c.A)(function*(I,p){const m=Gl(I,!1).get(p),w=yield new Go(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xs(I,p){const m=Gl(I,!0).delete(p);return new Go(m).toPromise()}const ks=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.A)(function*(){return m.db||(m.db=yield uo()),m.db})()}_withRetries(m){var w=this;return(0,c.A)(function*(){let ie=0;for(;;)try{const Re=yield w._openDb();return yield m(Re)}catch(Re){if(ie++>3)throw Re;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.A)(function*(){return Cl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.A)(function*(){m.receiver=zl._getInstance(function ch(){return Cl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.A)(function*(ie,Re){return{keyProcessed:(yield m._poll()).includes(Re.key)}});return function(ie,Re){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.A)(function*(ie,Re){return["keyChanged"]});return function(ie,Re){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.A)(function*(){var w,ie;if(m.activeServiceWorker=yield function aa(){return Ai.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Tl(m.activeServiceWorker);const Re=yield m.sender._send("ping",{},800);Re&&null!==(w=Re[0])&&void 0!==w&&w.fulfilled&&null!==(ie=Re[0])&&void 0!==ie&&ie.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.A)(function*(){if(w.sender&&w.activeServiceWorker&&function qs(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const m=yield uo();return yield Wl(m,bl,"1"),yield Xs(m,bl),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,c.A)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var ie=this;return(0,c.A)(function*(){return ie._withPendingWrite((0,c.A)(function*(){return yield ie._withRetries(Re=>Wl(Re,m,w)),ie.localCache[m]=w,ie.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.A)(function*(){const ie=yield w._withRetries(Re=>function mc(I,p){return Aa.apply(this,arguments)}(Re,m));return w.localCache[m]=ie,ie})()}_remove(m){var w=this;return(0,c.A)(function*(){return w._withPendingWrite((0,c.A)(function*(){return yield w._withRetries(ie=>Xs(ie,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.A)(function*(){const w=yield m._withRetries(Pt=>{const nn=Gl(Pt,!1).getAll();return new Go(nn).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const ie=[],Re=new Set;if(0!==w.length)for(const{fbase_key:Pt,value:nn}of w)Re.add(Pt),JSON.stringify(m.localCache[Pt])!==JSON.stringify(nn)&&(m.notifyListeners(Pt,nn),ie.push(Pt));for(const Pt of Object.keys(m.localCache))m.localCache[Pt]&&!Re.has(Pt)&&(m.notifyListeners(Pt,null),ie.push(Pt));return ie})()}notifyListeners(m,w){this.localCache[m]=w;const ie=this.listeners[m];if(ie)for(const Re of Array.from(ie))Re(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),S=1e12;class B{constructor(p){this.auth=p,this.counter=S,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ie(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||S;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||S))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.A)(function*(){var w;return null===(w=m._widgets.get(p||S))||void 0===w||w.execute(),""})()}}class Ie{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ie="string"==typeof p?document.getElementById(p):p;Pe(ie,"argument-error",{appName:m}),this.container=ie,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Se(I){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<I;w++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vt=dr("rcb"),vn=new Ve(3e4,6e4);class jt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=eo().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Pe(function er(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Jt(eo().grecaptcha)?Promise.resolve(eo().grecaptcha):new Promise((w,ie)=>{const Re=eo().setTimeout(()=>{ie(we(p,"network-request-failed"))},vn.get());eo()[Vt]=()=>{eo().clearTimeout(Re),delete eo()[Vt];const nn=eo().grecaptcha;if(!nn||!Jt(nn))return void ie(we(p,"internal-error"));const Rn=nn.render;nn.render=(lr,Dr)=>{const mi=Rn(lr,Dr);return this.counter++,mi},this.hostLanguage=m,w(nn)},zt(`${function En(){return Nt.recaptchaV2Script}()}?${(0,F.Am)({onload:Vt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Re),ie(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=eo().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Or{load(p){return(0,c.A)(function*(){return new B(p)})()}clearedOneInstance(){}}const bi="recaptcha",jr={theme:"light",type:"image"};class $i{constructor(p,m,w=Object.assign({},jr)){this.parameters=w,this.type=bi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=he(p),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ie="string"==typeof m?document.getElementById(m):m;Pe(ie,this.auth,"argument-error"),this.container=ie,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Or:new jt,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(Re=>{const Pt=nn=>{nn&&(p.tokenChangeListeners.delete(Pt),Re(nn))};p.tokenChangeListeners.add(Pt),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=eo()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){Pe(An()&&!Cl(),p.auth,"internal-error"),yield function Tr(){let I=null;return new Promise(p=>{"complete"!==document.readyState?(I=()=>p(),window.addEventListener("load",I)):p()}).catch(p=>{throw I&&window.removeEventListener("load",I),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ot(I){return Le.apply(this,arguments)}(p.auth);Pe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Si{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=so._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function So(I,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.A)(function*(I,p,m){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w=he(I),ie=yield la(w,p,(0,F.Ku)(m));return new Si(ie,Re=>K(w,Re))})).apply(this,arguments)}function Qi(I,p,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);yield ar(!1,w,"phone");const ie=yield la(w.auth,p,(0,F.Ku)(m));return new Si(ie,Re=>de(w,Re))})).apply(this,arguments)}function Du(I,p,m){return il.apply(this,arguments)}function il(){return(il=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);if((0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth));const ie=yield la(w.auth,p,(0,F.Ku)(m));return new Si(ie,Re=>ve(w,Re))})).apply(this,arguments)}function la(I,p,m){return ol.apply(this,arguments)}function ol(){return ol=(0,c.A)(function*(I,p,m){var w;const ie=yield m.verify();try{let Re;if(Pe("string"==typeof ie,I,"argument-error"),Pe(m.type===bi,I,"argument-error"),Re="string"==typeof p?{phoneNumber:p}:p,"session"in Re){const Pt=Re.session;if("phoneNumber"in Re)return Pe("enroll"===Pt.type,I,"internal-error"),(yield function gs(I,p){return yt(I,"POST","/v2/accounts/mfaEnrollment:start",gt(I,p))}(I,{idToken:Pt.credential,phoneEnrollmentInfo:{phoneNumber:Re.phoneNumber,recaptchaToken:ie}})).phoneSessionInfo.sessionInfo;{Pe("signin"===Pt.type,I,"internal-error");const nn=(null===(w=Re.multiFactorHint)||void 0===w?void 0:w.uid)||Re.multiFactorUid;return Pe(nn,I,"missing-multi-factor-info"),(yield function fh(I,p){return yt(I,"POST","/v2/accounts/mfaSignIn:start",gt(I,p))}(I,{mfaPendingCredential:Pt.credential,mfaEnrollmentId:nn,phoneSignInInfo:{recaptchaToken:ie}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pt}=yield function ur(I,p){return Fr.apply(this,arguments)}(I,{phoneNumber:Re.phoneNumber,recaptchaToken:ie});return Pt}}finally{m._reset()}}),ol.apply(this,arguments)}function ba(I,p){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.A)(function*(I,p){const m=(0,F.Ku)(I);if((0,h._isFirebaseServerApp)(m.auth.app))return Promise.reject(Je(m.auth));yield Tn(m,p)})).apply(this,arguments)}let Kl=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=he(m)}verifyPhoneNumber(m,w){return la(this.auth,m,(0,F.Ku)(w))}static credential(m,w){return so._fromVerification(m,w)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:ie}=m;return w&&ie?so._fromTokenResponse(w,ie):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function al(I,p){return p?rn(p):(Pe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class wl extends go{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return pn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return pn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return pn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Vf(I){return qo(I.auth,new wl(I),I.bypassAuthState)}function ud(I){const{auth:p,user:m}=I;return Pe(m,p,"internal-error"),Ni(m,new wl(I),I.bypassAuthState)}function Uf(I){return _c.apply(this,arguments)}function _c(){return(_c=(0,c.A)(function*(I){const{auth:p,user:m}=I;return Pe(m,p,"internal-error"),Tn(m,new wl(I),I.bypassAuthState)})).apply(this,arguments)}class cd{constructor(p,m,w,ie,Re=!1){this.auth=p,this.resolver=w,this.user=ie,this.bypassAuthState=Re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.A)(function*(w,ie){p.pendingPromise={resolve:w,reject:ie};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Re){p.reject(Re)}});return function(w,ie){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.A)(function*(){const{urlResponse:w,sessionId:ie,postBody:Re,tenantId:Pt,error:nn,type:Rn}=p;if(nn)return void m.reject(nn);const lr={auth:m.auth,requestUri:w,sessionId:ie,tenantId:Pt||void 0,postBody:Re||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Rn)(lr))}catch(Dr){m.reject(Dr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Vf;case"linkViaPopup":case"linkViaRedirect":return Uf;case"reauthViaPopup":case"reauthViaRedirect":return ud;default:Ee(this.auth,"internal-error")}}resolve(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ph=new Ve(2e3,1e4);function Ua(I,p,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.A)(function*(I,p,m){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(we(I,"operation-not-supported-in-this-environment"));const w=he(I);tt(I,p,ao);const ie=al(w,m);return new Su(w,"signInViaPopup",p,ie).executeNotNull()})).apply(this,arguments)}function gh(I,p,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);if((0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(we(w.auth,"operation-not-supported-in-this-environment"));tt(w.auth,p,ao);const ie=al(w.auth,m);return new Su(w.auth,"reauthViaPopup",p,ie,w).executeNotNull()})).apply(this,arguments)}function Vg(I,p,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);tt(w.auth,p,ao);const ie=al(w.auth,m);return new Su(w.auth,"linkViaPopup",p,ie,w).executeNotNull()})).apply(this,arguments)}let Su=(()=>{class I extends cd{constructor(m,w,ie,Re,Pt){super(m,w,Re,Pt),this.provider=ie,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.A)(function*(){const w=yield m.execute();return Pe(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.A)(function*(){kt(1===m.filter.length,"Popup operations only handle one event");const w=vo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(ie=>{m.reject(ie)}),m.resolver._isIframeWebStorageSupported(m.auth,ie=>{ie||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,ie;this.pollId=null!==(ie=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==ie&&ie.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,ph.get())};m()}}return I.currentPopupAction=null,I})();const ca="pendingRedirect",Ba=new Map;class Xl extends cd{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.A)(function*(){let w=Ba.get(m.auth._key());if(!w){try{const Re=(yield function Ql(I,p){return $a.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(Re)}catch(ie){w=()=>Promise.reject(ie)}Ba.set(m.auth._key(),w)}return m.bypassAuthState||Ba.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const ie=yield w.auth._redirectUserForId(p.eventId);if(ie)return w.user=ie,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,c.A)(function*(I,p){const m=Ru(p),w=dd(I);if(!(yield w._isAvailable()))return!1;const ie="true"===(yield w._get(m));return yield w._remove(m),ie})).apply(this,arguments)}function yc(I,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(I,p){return dd(I)._set(Ru(p),"true")})).apply(this,arguments)}function Bf(){Ba.clear()}function $f(I,p){Ba.set(I._key(),p)}function dd(I){return rn(I._redirectPersistence)}function Ru(I){return Ar(ca,I.config.apiKey,I.name)}function jf(I,p,m){return function hd(I,p,m){return Jl.apply(this,arguments)}(I,p,m)}function Jl(){return(Jl=(0,c.A)(function*(I,p,m){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w=he(I);tt(I,p,ao),yield w._initializationPromise;const ie=al(w,m);return yield yc(ie,w),ie._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Yl(I,p,m){return function fd(I,p,m){return mh.apply(this,arguments)}(I,p,m)}function mh(){return(mh=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);if(tt(w.auth,p,ao),(0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(Je(w.auth));yield w.auth._initializationPromise;const ie=al(w.auth,m);yield yc(ie,w.auth);const Re=yield _h(w);return ie._openRedirect(w.auth,p,"reauthViaRedirect",Re)})).apply(this,arguments)}function No(I,p,m){return function Ec(I,p,m){return vh.apply(this,arguments)}(I,p,m)}function vh(){return(vh=(0,c.A)(function*(I,p,m){const w=(0,F.Ku)(I);tt(w.auth,p,ao),yield w.auth._initializationPromise;const ie=al(w.auth,m);yield ar(!1,w,p.providerId),yield yc(ie,w.auth);const Re=yield _h(w);return ie._openRedirect(w.auth,p,"linkViaRedirect",Re)})).apply(this,arguments)}function Pu(I,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.A)(function*(I,p){return yield he(I)._initializationPromise,Zl(I,p,!1)})).apply(this,arguments)}function Zl(I,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.A)(function*(I,p,m=!1){if((0,h._isFirebaseServerApp)(I.app))return Promise.reject(Je(I));const w=he(I),ie=al(w,p),Pt=yield new Xl(w,ie,m).execute();return Pt&&!m&&(delete Pt.user._redirectEventId,yield w._persistUserIfCurrent(Pt.user),yield w._setRedirectUser(null,p)),Pt})).apply(this,arguments)}function _h(I){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.A)(function*(I){const p=vo(`${I.uid}:::`);return I._redirectEventId=p,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),p})).apply(this,arguments)}class Ic{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Kn(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(I);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!to(p)){const ie=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(we(this.auth,ie))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pl(p))}saveEventToCache(p){this.cachedEventUids.add(Pl(p)),this.lastProcessedEventTime=Date.now()}}function Pl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(p=>p).join("-")}function to({type:I,error:p}){return"unknown"===I&&"auth/no-auth-event"===(null==p?void 0:p.code)}function mr(I){return no.apply(this,arguments)}function no(){return(no=(0,c.A)(function*(I,p={}){return yt(I,"GET","/v1/projects",p)})).apply(this,arguments)}const da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ro=/^https?/;function Ls(){return(Ls=(0,c.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:p}=yield mr(I);for(const m of p)try{if(ro(m))return}catch{}Ee(I,"unauthorized-domain")})).apply(this,arguments)}function ro(I){const p=tn(),{protocol:m,hostname:w}=new URL(p);if(I.startsWith("chrome-extension://")){const Pt=new URL(I);return""===Pt.hostname&&""===w?"chrome-extension:"===m&&I.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Pt.hostname===w}if(!Ro.test(m))return!1;if(da.test(I))return w===I;const ie=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ie+"|"+ie+")$","i").test(w)}const io=new Ve(3e4,6e4);function ha(){const I=eo().___jsl;if(null!=I&&I.H)for(const p of Object.keys(I.H))if(I.H[p].r=I.H[p].r||[],I.H[p].L=I.H[p].L||[],I.H[p].r=[...I.H[p].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let ul=null;const eu=new Ve(5e3,15e3),bo="__/auth/iframe",ja="emulator/auth/iframe",tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nu(I){const p=I.config;Pe(p.authDomain,I,"auth-domain-config-required");const m=p.emulator?ae(p,ja):`https://${I.config.authDomain}/${bo}`,w={apiKey:p.apiKey,appName:I.name,v:h.SDK_VERSION},ie=Ha.get(I.config.apiHost);ie&&(w.eid=ie);const Re=I._getFrameworks();return Re.length&&(w.fw=Re.join(",")),`${m}?${(0,F.Am)(w).slice(1)}`}function Ta(){return Ta=(0,c.A)(function*(I){const p=yield function Hf(I){return ul=ul||function Hr(I){return new Promise((p,m)=>{var w,ie,Re;function Pt(){ha(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ha(),m(we(I,"network-request-failed"))},timeout:io.get()})}if(null!==(ie=null===(w=eo().gapi)||void 0===w?void 0:w.iframes)&&void 0!==ie&&ie.Iframe)p(gapi.iframes.getContext());else{if(null===(Re=eo().gapi)||void 0===Re||!Re.load){const nn=dr("iframefcb");return eo()[nn]=()=>{gapi.load?Pt():m(we(I,"network-request-failed"))},zt(`${function Ln(){return Nt.gapiScript}()}?onload=${nn}`).catch(Rn=>m(Rn))}Pt()}}).catch(p=>{throw ul=null,p})}(I),ul}(I),m=eo().gapi;return Pe(m,I,"internal-error"),p.open({where:document.body,url:nu(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tu,dontclear:!0},w=>new Promise(function(){var ie=(0,c.A)(function*(Re,Pt){yield w.restyle({setHideOnLeave:!1});const nn=we(I,"network-request-failed"),Rn=eo().setTimeout(()=>{Pt(nn)},eu.get());function lr(){eo().clearTimeout(Rn),Re(w)}w.ping(lr).then(lr,()=>{Pt(nn)})});return function(Re,Pt){return ie.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const Ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ko="__/auth/handler",Ou="emulator/auth/handler",Ri=encodeURIComponent("fac");function Zo(I,p,m,w,ie,Re){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.A)(function*(I,p,m,w,ie,Re){Pe(I.config.authDomain,I,"auth-domain-config-required"),Pe(I.config.apiKey,I,"invalid-api-key");const Pt={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:w,v:h.SDK_VERSION,eventId:ie};if(p instanceof ao){p.setDefaultLanguage(I.languageCode),Pt.providerId=p.providerId||"",(0,F.Im)(p.getCustomParameters())||(Pt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Dr,mi]of Object.entries(Re||{}))Pt[Dr]=mi}if(p instanceof Vo){const Dr=p.getScopes().filter(mi=>""!==mi);Dr.length>0&&(Pt.scopes=Dr.join(","))}I.tenantId&&(Pt.tid=I.tenantId);const nn=Pt;for(const Dr of Object.keys(nn))void 0===nn[Dr]&&delete nn[Dr];const Rn=yield I._getAppCheckToken(),lr=Rn?`#${Ri}=${encodeURIComponent(Rn)}`:"";return`${function ru({config:I}){return I.emulator?ae(I,Ou):`https://${I.authDomain}/${ko}`}(I)}?${(0,F.Am)(nn).slice(1)}${lr}`})).apply(this,arguments)}const xu="webStorageSupport",Nu=class Qs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pc,this._completeRedirectFn=Zl,this._overrideRedirectResult=$f}_openPopup(p,m,w,ie){var Re=this;return(0,c.A)(function*(){var Pt;kt(null===(Pt=Re.eventManagers[p._key()])||void 0===Pt?void 0:Pt.manager,"_initialize() not called before _openPopup()");const nn=yield Zo(p,m,w,tn(),ie);return function md(I,p,m,w=500,ie=600){const Re=Math.max((window.screen.availHeight-ie)/2,0).toString(),Pt=Math.max((window.screen.availWidth-w)/2,0).toString();let nn="";const Rn=Object.assign(Object.assign({},Ca),{width:w.toString(),height:ie.toString(),top:Re,left:Pt}),lr=(0,F.ZQ)().toLowerCase();m&&(nn=Ti(lr)?"_blank":m),Mn(lr)&&(p=p||"http://localhost",Rn.scrollbars="yes");const Dr=Object.entries(Rn).reduce((Ts,[Da,Cc])=>`${Ts}${Da}=${Cc},`,"");if(function Wi(I=(0,F.ZQ)()){var p;return Vi(I)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(lr)&&"_self"!==nn)return function Mu(I,p){const m=document.createElement("a");m.href=I,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",nn),new fa(null);const mi=window.open(p||"",nn,Dr);Pe(mi,I,"popup-blocked");try{mi.focus()}catch{}return new fa(mi)}(p,nn,vo())})()}_openRedirect(p,m,w,ie){var Re=this;return(0,c.A)(function*(){return yield Re._originValidation(p),function Ff(I){eo().location.href=I}(yield Zo(p,m,w,tn(),ie)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:ie,promise:Re}=this.eventManagers[m];return ie?Promise.resolve(ie):(kt(Re,"If manager is not set, promise should be"),Re)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.A)(function*(){const w=yield function zf(I){return Ta.apply(this,arguments)}(p),ie=new Ic(p);return w.register("authEvent",Re=>(Pe(null==Re?void 0:Re.authEvent,p,"invalid-auth-event"),{status:ie.onEvent(Re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:ie},m.iframes[p._key()]=w,ie})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(xu,{type:xu},ie=>{var Re;const Pt=null===(Re=null==ie?void 0:ie[0])||void 0===Re?void 0:Re[xu];void 0!==Pt&&m(!!Pt),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function bs(I){return Ls.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return q()||Pr()||Vi()}};class ku{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return pt("unexpected MultiFactorSessionType")}}}class Lu extends ku{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Lu(p)}_finalizeEnroll(p,m,w){return function Os(I,p){return yt(I,"POST","/v2/accounts/mfaEnrollment:finalize",gt(I,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ld(I,p){return yt(I,"POST","/v2/accounts/mfaSignIn:finalize",gt(I,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yh=(()=>{class I{constructor(){}static assertion(m){return Lu._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var vd="@firebase/auth";class Wf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,F.XA)("authIdTokenMaxAge"),function wt(I){Nt=I}({loadJS:I=>new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=p,w.onerror=ie=>{const Re=we("internal-error");Re.customData=ie,m(Re)},w.type="text/javascript",w.charset="UTF-8",function $g(){var I,p;return null!==(p=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==p?p:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ug(I){(0,h._registerComponent)(new ee.uA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),ie=p.getProvider("heartbeat"),Re=p.getProvider("app-check-internal"),{apiKey:Pt,authDomain:nn}=w.options;Pe(Pt&&!Pt.includes(":"),"invalid-api-key",{appName:w.name});const Rn={apiKey:Pt,authDomain:nn,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Me(I)},lr=new gn(w,ie,Re,Rn);return function rr(I,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(rn);null!=p&&p.errorMap&&I._updateErrorMap(p.errorMap),I._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(lr,m),lr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ee.uA("auth-internal",p=>{const m=he(p.getProvider("auth").getImmediate());return new Wf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(vd,"1.7.9",function Zv(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,h.registerVersion)(vd,"1.7.9","esm2017")}("Browser")},1076:(Cn,it,O)=>{"use strict";O.d(it,{Am:()=>sr,Bd:()=>pt,FA:()=>Wt,Fy:()=>Je,I9:()=>Un,Im:()=>Le,Ku:()=>Kt,Ll:()=>Pe,T9:()=>Ee,Uj:()=>We,XA:()=>we,ZQ:()=>tt,bD:()=>un,c1:()=>tn,cY:()=>ke,eX:()=>je,g:()=>ft,gR:()=>bn,hp:()=>en,jZ:()=>Ot,lT:()=>Gt,lV:()=>hn,mS:()=>Ke,nr:()=>ue,p7:()=>kt,sr:()=>An,tD:()=>pr,u:()=>Oe,zW:()=>ge,zw:()=>ze});const _e=function(Z){const X=[];let se=0;for(let Xe=0;Xe<Z.length;Xe++){let et=Z.charCodeAt(Xe);et<128?X[se++]=et:et<2048?(X[se++]=et>>6|192,X[se++]=63&et|128):55296==(64512&et)&&Xe+1<Z.length&&56320==(64512&Z.charCodeAt(Xe+1))?(et=65536+((1023&et)<<10)+(1023&Z.charCodeAt(++Xe)),X[se++]=et>>18|240,X[se++]=et>>12&63|128,X[se++]=et>>6&63|128,X[se++]=63&et|128):(X[se++]=et>>12|224,X[se++]=et>>6&63|128,X[se++]=63&et|128)}return X},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,X){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[];for(let et=0;et<Z.length;et+=3){const rn=Z[et],Sn=et+1<Z.length,Zn=Sn?Z[et+1]:0,Ar=et+2<Z.length,vt=Ar?Z[et+2]:0;let Pr=(15&Zn)<<2|vt>>6,Ti=63&vt;Ar||(Ti=64,Sn||(Pr=64)),Xe.push(se[rn>>2],se[(3&rn)<<4|Zn>>4],se[Pr],se[Ti])}return Xe.join("")},encodeString(Z,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(Z):this.encodeByteArray(_e(Z),X)},decodeString(Z,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(Z):function(Z){const X=[];let se=0,Xe=0;for(;se<Z.length;){const et=Z[se++];if(et<128)X[Xe++]=String.fromCharCode(et);else if(et>191&&et<224){const rn=Z[se++];X[Xe++]=String.fromCharCode((31&et)<<6|63&rn)}else if(et>239&&et<365){const Ar=((7&et)<<18|(63&Z[se++])<<12|(63&Z[se++])<<6|63&Z[se++])-65536;X[Xe++]=String.fromCharCode(55296+(Ar>>10)),X[Xe++]=String.fromCharCode(56320+(1023&Ar))}else{const rn=Z[se++],Sn=Z[se++];X[Xe++]=String.fromCharCode((15&et)<<12|(63&rn)<<6|63&Sn)}}return X.join("")}(this.decodeStringToByteArray(Z,X))},decodeStringToByteArray(Z,X){this.init_();const se=X?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[];for(let et=0;et<Z.length;){const rn=se[Z.charAt(et++)],Zn=et<Z.length?se[Z.charAt(et)]:0;++et;const vt=et<Z.length?se[Z.charAt(et)]:64;++et;const Mn=et<Z.length?se[Z.charAt(et)]:64;if(++et,null==rn||null==Zn||null==vt||null==Mn)throw new Ae;Xe.push(rn<<2|Zn>>4),64!==vt&&(Xe.push(Zn<<4&240|vt>>2),64!==Mn&&Xe.push(vt<<6&192|Mn))}return Xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(Z){return function(Z){const X=_e(Z);return ee.encodeByteArray(X,!0)}(Z).replace(/\./g,"")},Oe=function(Z){try{return ee.decodeString(Z,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function ze(Z,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return X}for(const se in X)!X.hasOwnProperty(se)||!Qe(se)||(Z[se]=ze(Z[se],X[se]));return Z}function Qe(Z){return"__proto__"!==Z}function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const st=()=>{try{return Ke().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=Z&&Oe(Z[1]);return X&&JSON.parse(X)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Ee=()=>{var Z;return null===(Z=st())||void 0===Z?void 0:Z.config},we=Z=>{var X;return null===(X=st())||void 0===X?void 0:X[`_${Z}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,se)=>{this.resolve=X,this.reject=se})}wrapCallback(X){return(se,Xe)=>{se?this.reject(se):this.resolve(Xe),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(se):X(se,Xe))}}}function Je(Z,X){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Xe=X||"demo-project",et=Z.iat||0,rn=Z.sub||Z.user_id;if(!rn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Sn=Object.assign({iss:`https://securetoken.google.com/${Xe}`,aud:Xe,iat:et,exp:et+3600,auth_time:et,sub:rn,user_id:rn,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(Sn)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Pe(){var Z;const X=null===(Z=st())||void 0===Z?void 0:Z.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return typeof window<"u"||kt()}function kt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function An(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gt(){const Z=tt();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ue(){return!Pe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((Z,X)=>{try{let se=!0;const Xe="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(Xe);et.onsuccess=()=>{et.result.close(),se||self.indexedDB.deleteDatabase(Xe),Z(!0)},et.onupgradeneeded=()=>{se=!1},et.onerror=()=>{var rn;X((null===(rn=et.error)||void 0===rn?void 0:rn.message)||"")}}catch(se){X(se)}})}class ft extends Error{constructor(X,se,Xe){super(se),this.code=X,this.customData=Xe,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(X,se,Xe){this.service=X,this.serviceName=se,this.errors=Xe}create(X,...se){const Xe=se[0]||{},et=`${this.service}/${X}`,rn=this.errors[X],Sn=rn?function Lt(Z,X){return Z.replace(Ft,(se,Xe)=>{const et=X[Xe];return null!=et?String(et):`<${Xe}?>`})}(rn,Xe):"Error";return new ft(et,`${this.serviceName}: ${Sn} (${et}).`,Xe)}}const Ft=/\{\$([^}]+)}/g;function bn(Z,X){return Object.prototype.hasOwnProperty.call(Z,X)}function Le(Z){for(const X in Z)if(Object.prototype.hasOwnProperty.call(Z,X))return!1;return!0}function un(Z,X){if(Z===X)return!0;const se=Object.keys(Z),Xe=Object.keys(X);for(const et of se){if(!Xe.includes(et))return!1;const rn=Z[et],Sn=X[et];if(jn(rn)&&jn(Sn)){if(!un(rn,Sn))return!1}else if(rn!==Sn)return!1}for(const et of Xe)if(!se.includes(et))return!1;return!0}function jn(Z){return null!==Z&&"object"==typeof Z}function sr(Z){const X=[];for(const[se,Xe]of Object.entries(Z))Array.isArray(Xe)?Xe.forEach(et=>{X.push(encodeURIComponent(se)+"="+encodeURIComponent(et))}):X.push(encodeURIComponent(se)+"="+encodeURIComponent(Xe));return X.length?"&"+X.join("&"):""}function Un(Z){const X={};return Z.replace(/^\?/,"").split("&").forEach(Xe=>{if(Xe){const[et,rn]=Xe.split("=");X[decodeURIComponent(et)]=decodeURIComponent(rn)}}),X}function en(Z){const X=Z.indexOf("?");if(!X)return"";const se=Z.indexOf("#",X);return Z.substring(X,se>0?se:void 0)}function pr(Z,X){const se=new gr(Z,X);return se.subscribe.bind(se)}class gr{constructor(X,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{X(this)}).catch(Xe=>{this.error(Xe)})}next(X){this.forEachObserver(se=>{se.next(X)})}error(X){this.forEachObserver(se=>{se.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,se,Xe){let et;if(void 0===X&&void 0===se&&void 0===Xe)throw new Error("Missing Observer.");et=function ti(Z,X){if("object"!=typeof Z||null===Z)return!1;for(const se of X)if(se in Z&&"function"==typeof Z[se])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:se,complete:Xe},void 0===et.next&&(et.next=_i),void 0===et.error&&(et.error=_i),void 0===et.complete&&(et.complete=_i);const rn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),rn}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,X)}sendOne(X,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{se(this.observers[X])}catch(Xe){typeof console<"u"&&console.error&&console.error(Xe)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _i(){}function Kt(Z){return Z&&Z._delegate?Z._delegate:Z}},4442:(Cn,it,O)=>{"use strict";O.d(it,{L:()=>Q,a:()=>ee,b:()=>Ae,c:()=>xe,d:()=>We,g:()=>Gt}),O(5531);const Q="ionViewWillEnter",ee="ionViewDidEnter",Ae="ionViewWillLeave",xe="ionViewDidLeave",We="ionViewWillUnload",Gt=Ve=>Ve.classList.contains("ion-page")?Ve:Ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ve},5531:(Cn,it,O)=>{"use strict";O.d(it,{a:()=>Oe,c:()=>h,g:()=>We});class c{constructor(){this.m=new Map}reset(Ve){this.m=new Map(Object.entries(Ve))}get(Ve,ae){const ue=this.m.get(Ve);return void 0!==ue?ue:ae}getBoolean(Ve,ae=!1){const ue=this.m.get(Ve);return void 0===ue?ae:"string"==typeof ue?"true"===ue:!!ue}getNumber(Ve,ae){const ue=parseFloat(this.m.get(Ve));return isNaN(ue)?void 0!==ae?ae:NaN:ue}set(Ve,ae){this.m.set(Ve,ae)}}const h=new c,We=Gt=>ye(Gt),Oe=(Gt,Ve)=>("string"==typeof Gt&&(Ve=Gt,Gt=void 0),We(Gt).includes(Ve)),ye=(Gt=window)=>{if(typeof Gt>"u")return[];Gt.Ionic=Gt.Ionic||{};let Ve=Gt.Ionic.platforms;return null==Ve&&(Ve=Gt.Ionic.platforms=ze(Gt),Ve.forEach(ae=>Gt.document.documentElement.classList.add(`plt-${ae}`))),Ve},ze=Gt=>{const Ve=h.get("platform");return Object.keys(tn).filter(ae=>{const ue=null==Ve?void 0:Ve[ae];return"function"==typeof ue?ue(Gt):tn[ae](Gt)})},Ke=Gt=>!!(pt(Gt,/iPad/i)||pt(Gt,/Macintosh/i)&&Ee(Gt)),rt=Gt=>pt(Gt,/android|sink/i),Ee=Gt=>kt(Gt,"(any-pointer:coarse)"),ke=Gt=>Je(Gt)||tt(Gt),Je=Gt=>!!(Gt.cordova||Gt.phonegap||Gt.PhoneGap),tt=Gt=>{const Ve=Gt.Capacitor;return!(null==Ve||!Ve.isNative)},pt=(Gt,Ve)=>Ve.test(Gt.navigator.userAgent),kt=(Gt,Ve)=>{var ae;return null===(ae=Gt.matchMedia)||void 0===ae?void 0:ae.call(Gt,Ve).matches},tn={ipad:Ke,iphone:Gt=>pt(Gt,/iPhone/i),ios:Gt=>pt(Gt,/iPhone|iPod/i)||Ke(Gt),android:rt,phablet:Gt=>{const Ve=Gt.innerWidth,ae=Gt.innerHeight,ue=Math.min(Ve,ae),ge=Math.max(Ve,ae);return ue>390&&ue<520&&ge>620&&ge<800},tablet:Gt=>{const Ve=Gt.innerWidth,ae=Gt.innerHeight,ue=Math.min(Ve,ae),ge=Math.max(Ve,ae);return Ke(Gt)||(Gt=>rt(Gt)&&!pt(Gt,/mobile/i))(Gt)||ue>460&&ue<820&&ge>780&&ge<1400},cordova:Je,capacitor:tt,electron:Gt=>pt(Gt,/electron/i),pwa:Gt=>{var Ve;return!!(null!==(Ve=Gt.matchMedia)&&void 0!==Ve&&Ve.call(Gt,"(display-mode: standalone)").matches||Gt.navigator.standalone)},mobile:Ee,mobileweb:Gt=>Ee(Gt)&&!ke(Gt),desktop:Gt=>!Ee(Gt),hybrid:ke}},9986:(Cn,it,O)=>{"use strict";O.d(it,{c:()=>ee});var c=O(8476);let h;const _e=(Ae,xe,We)=>{const Oe=xe.startsWith("animation")?(Ae=>(void 0===h&&(h=void 0===Ae.style.animationName&&void 0!==Ae.style.webkitAnimationName?"-webkit-":""),h))(Ae):"";Ae.style.setProperty(Oe+xe,We)},Q=(Ae=[],xe)=>{if(void 0!==xe){const We=Array.isArray(xe)?xe:[xe];return[...Ae,...We]}return Ae},ee=Ae=>{let xe,We,Oe,ye,ze,Qe,st,Ot,Pe,pt,hn,Ke=[],at=[],mt=[],rt=!1,Mt={},It=[],Ee=[],we={},ke=0,Je=!1,tt=!1,kt=!0,tn=!1,An=!0,Gn=!1;const Gt=Ae,Ve=[],ae=[],ue=[],ge=[],je=[],gt=[],yt=[],ft=[],Wt=[],Lt=[],Ft=[],Fn="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,xt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Fn,kn=()=>Ft,bn=(le,Ne)=>{const St=Ne.findIndex(on=>on.c===le);St>-1&&Ne.splice(St,1)},Le=(le,Ne)=>((null!=Ne&&Ne.oneTimeCallback?ae:Ve).push({c:le,o:Ne}),hn),un=()=>{xt&&(Ft.forEach(le=>{le.cancel()}),Ft.length=0)},jn=()=>{gt.forEach(le=>{null!=le&&le.parentNode&&le.parentNode.removeChild(le)}),gt.length=0},Yn=()=>void 0!==ze?ze:st?st.getFill():"both",nr=()=>void 0!==Ot?Ot:void 0!==Qe?Qe:st?st.getDirection():"normal",qn=()=>Je?"linear":void 0!==Oe?Oe:st?st.getEasing():"linear",yi=()=>tt?0:void 0!==Pe?Pe:void 0!==We?We:st?st.getDuration():0,Xn=()=>void 0!==ye?ye:st?st.getIterations():1,ni=()=>void 0!==pt?pt:void 0!==xe?xe:st?st.getDelay():0,Sn=()=>{0!==ke&&(ke--,0===ke&&((()=>{Wt.forEach(gn=>gn()),Lt.forEach(gn=>gn());const le=kt?1:0,Ne=It,St=Ee,on=we;ge.forEach(gn=>{const he=gn.classList;Ne.forEach($e=>he.add($e)),St.forEach($e=>he.remove($e));for(const $e in on)on.hasOwnProperty($e)&&_e(gn,$e,on[$e])}),Pe=void 0,Ot=void 0,pt=void 0,Ve.forEach(gn=>gn.c(le,hn)),ae.forEach(gn=>gn.c(le,hn)),ae.length=0,An=!0,kt&&(tn=!0),kt=!0})(),st&&st.animationFinish()))},Ar=()=>{(()=>{yt.forEach(on=>on()),ft.forEach(on=>on());const le=at,Ne=mt,St=Mt;ge.forEach(on=>{const gn=on.classList;le.forEach(he=>gn.add(he)),Ne.forEach(he=>gn.remove(he));for(const he in St)St.hasOwnProperty(he)&&_e(on,he,St[he])})})(),Ke.length>0&&xt&&(ge.forEach(le=>{const Ne=le.animate(Ke,{id:Gt,delay:ni(),duration:yi(),easing:qn(),iterations:Xn(),fill:Yn(),direction:nr()});Ne.pause(),Ft.push(Ne)}),Ft.length>0&&(Ft[0].onfinish=()=>{Sn()})),rt=!0},vt=le=>{le=Math.min(Math.max(le,0),.9999),xt&&Ft.forEach(Ne=>{Ne.currentTime=Ne.effect.getComputedTiming().delay+yi()*le,Ne.pause()})},Ir=le=>{Ft.forEach(Ne=>{Ne.effect.updateTiming({delay:ni(),duration:yi(),easing:qn(),iterations:Xn(),fill:Yn(),direction:nr()})}),void 0!==le&&vt(le)},Mn=(le=!1,Ne=!0,St)=>(le&&je.forEach(on=>{on.update(le,Ne,St)}),xt&&Ir(St),hn),Xr=()=>{rt&&(xt?Ft.forEach(le=>{le.pause()}):ge.forEach(le=>{_e(le,"animation-play-state","paused")}),Gn=!0)},Wi=le=>new Promise(Ne=>{null!=le&&le.sync&&(tt=!0,Le(()=>tt=!1,{oneTimeCallback:!0})),rt||Ar(),tn&&(xt&&(vt(0),Ir()),tn=!1),An&&(ke=je.length+1,An=!1);const St=()=>{bn(on,ae),Ne()},on=()=>{bn(St,ue),Ne()};Le(on,{oneTimeCallback:!0}),(le=>{ue.push({c:le,o:{oneTimeCallback:!0}})})(St),je.forEach(gn=>{gn.play()}),xt?(Ft.forEach(le=>{le.play()}),(0===Ke.length||0===ge.length)&&Sn()):Sn(),Gn=!1}),q=(le,Ne)=>{const St=Ke[0];return void 0===St||void 0!==St.offset&&0!==St.offset?Ke=[{offset:0,[le]:Ne},...Ke]:St[le]=Ne,hn};return hn={parentAnimation:st,elements:ge,childAnimations:je,id:Gt,animationFinish:Sn,from:q,to:(le,Ne)=>{const St=Ke[Ke.length-1];return void 0===St||void 0!==St.offset&&1!==St.offset?Ke=[...Ke,{offset:1,[le]:Ne}]:St[le]=Ne,hn},fromTo:(le,Ne,St)=>q(le,Ne).to(le,St),parent:le=>(st=le,hn),play:Wi,pause:()=>(je.forEach(le=>{le.pause()}),Xr(),hn),stop:()=>{je.forEach(le=>{le.stop()}),rt&&(un(),rt=!1),Je=!1,tt=!1,An=!0,Ot=void 0,Pe=void 0,pt=void 0,ke=0,tn=!1,kt=!0,Gn=!1,ue.forEach(le=>le.c(0,hn)),ue.length=0},destroy:le=>(je.forEach(Ne=>{Ne.destroy(le)}),(le=>{un(),le&&jn()})(le),ge.length=0,je.length=0,Ke.length=0,Ve.length=0,ae.length=0,rt=!1,An=!0,hn),keyframes:le=>{const Ne=Ke!==le;return Ke=le,Ne&&(le=>{xt&&kn().forEach(Ne=>{const St=Ne.effect;if(St.setKeyframes)St.setKeyframes(le);else{const on=new KeyframeEffect(St.target,le,St.getTiming());Ne.effect=on}})})(Ke),hn},addAnimation:le=>{if(null!=le)if(Array.isArray(le))for(const Ne of le)Ne.parent(hn),je.push(Ne);else le.parent(hn),je.push(le);return hn},addElement:le=>{if(null!=le)if(1===le.nodeType)ge.push(le);else if(le.length>=0)for(let Ne=0;Ne<le.length;Ne++)ge.push(le[Ne]);else console.error("Invalid addElement value");return hn},update:Mn,fill:le=>(ze=le,Mn(!0),hn),direction:le=>(Qe=le,Mn(!0),hn),iterations:le=>(ye=le,Mn(!0),hn),duration:le=>(!xt&&0===le&&(le=1),We=le,Mn(!0),hn),easing:le=>(Oe=le,Mn(!0),hn),delay:le=>(xe=le,Mn(!0),hn),getWebAnimations:kn,getKeyframes:()=>Ke,getFill:Yn,getDirection:nr,getDelay:ni,getIterations:Xn,getEasing:qn,getDuration:yi,afterAddRead:le=>(Wt.push(le),hn),afterAddWrite:le=>(Lt.push(le),hn),afterClearStyles:(le=[])=>{for(const Ne of le)we[Ne]="";return hn},afterStyles:(le={})=>(we=le,hn),afterRemoveClass:le=>(Ee=Q(Ee,le),hn),afterAddClass:le=>(It=Q(It,le),hn),beforeAddRead:le=>(yt.push(le),hn),beforeAddWrite:le=>(ft.push(le),hn),beforeClearStyles:(le=[])=>{for(const Ne of le)Mt[Ne]="";return hn},beforeStyles:(le={})=>(Mt=le,hn),beforeRemoveClass:le=>(mt=Q(mt,le),hn),beforeAddClass:le=>(at=Q(at,le),hn),onFinish:Le,isRunning:()=>0!==ke&&!Gn,progressStart:(le=!1,Ne)=>(je.forEach(St=>{St.progressStart(le,Ne)}),Xr(),Je=le,rt||Ar(),Mn(!1,!0,Ne),hn),progressStep:le=>(je.forEach(Ne=>{Ne.progressStep(le)}),vt(le),hn),progressEnd:(le,Ne,St)=>(Je=!1,je.forEach(on=>{on.progressEnd(le,Ne,St)}),void 0!==St&&(Pe=St),tn=!1,kt=!0,0===le?(Ot="reverse"===nr()?"normal":"reverse","reverse"===Ot&&(kt=!1),xt?(Mn(),vt(1-Ne)):(pt=(1-Ne)*yi()*-1,Mn(!1,!1))):1===le&&(xt?(Mn(),vt(Ne)):(pt=Ne*yi()*-1,Mn(!1,!1))),void 0!==le&&!st&&Wi(),hn)}}},464:(Cn,it,O)=>{"use strict";O.d(it,{E:()=>Oe,a:()=>c,s:()=>xe});const c=ye=>{try{if(ye instanceof Ae)return ye.value;if(!_e()||"string"!=typeof ye||""===ye)return ye;if(ye.includes("onload="))return"";const ze=document.createDocumentFragment(),Qe=document.createElement("div");ze.appendChild(Qe),Qe.innerHTML=ye,ee.forEach(rt=>{const st=ze.querySelectorAll(rt);for(let Mt=st.length-1;Mt>=0;Mt--){const It=st[Mt];It.parentNode?It.parentNode.removeChild(It):ze.removeChild(It);const Ee=F(It);for(let we=0;we<Ee.length;we++)h(Ee[we])}});const Ke=F(ze);for(let rt=0;rt<Ke.length;rt++)h(Ke[rt]);const at=document.createElement("div");at.appendChild(ze);const mt=at.querySelector("div");return null!==mt?mt.innerHTML:at.innerHTML}catch(ze){return console.error(ze),""}},h=ye=>{if(ye.nodeType&&1!==ye.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ye.attributes instanceof NamedNodeMap))return void ye.remove();for(let Qe=ye.attributes.length-1;Qe>=0;Qe--){const Ke=ye.attributes.item(Qe),at=Ke.name;if(!Q.includes(at.toLowerCase())){ye.removeAttribute(at);continue}const mt=Ke.value,rt=ye[at];(null!=mt&&mt.toLowerCase().includes("javascript:")||null!=rt&&rt.toLowerCase().includes("javascript:"))&&ye.removeAttribute(at)}const ze=F(ye);for(let Qe=0;Qe<ze.length;Qe++)h(ze[Qe])},F=ye=>null!=ye.children?ye.children:ye.childNodes,_e=()=>{var ye;const ze=window,Qe=null===(ye=null==ze?void 0:ze.Ionic)||void 0===ye?void 0:ye.config;return!Qe||(Qe.get?Qe.get("sanitizerEnabled",!0):!0===Qe.sanitizerEnabled||void 0===Qe.sanitizerEnabled)},Q=["class","id","href","src","name","slot"],ee=["script","style","iframe","meta","link","object","embed"];class Ae{constructor(ze){this.value=ze}}const xe=ye=>{const ze=window,Qe=ze.Ionic;if(!Qe||!Qe.config||"Object"===Qe.config.constructor.name)return ze.Ionic=ze.Ionic||{},ze.Ionic.config=Object.assign(Object.assign({},ze.Ionic.config),ye),ze.Ionic.config},Oe=!1},8621:(Cn,it,O)=>{"use strict";O.d(it,{C:()=>Q,a:()=>F,d:()=>_e});var c=O(467),h=O(4920);const F=function(){var ee=(0,c.A)(function*(Ae,xe,We,Oe,ye,ze){var Qe;if(Ae)return Ae.attachViewToDom(xe,We,ye,Oe);if(!(ze||"string"==typeof We||We instanceof HTMLElement))throw new Error("framework delegate is missing");const Ke="string"==typeof We?null===(Qe=xe.ownerDocument)||void 0===Qe?void 0:Qe.createElement(We):We;return Oe&&Oe.forEach(at=>Ke.classList.add(at)),ye&&Object.assign(Ke,ye),xe.appendChild(Ke),yield new Promise(at=>(0,h.c)(Ke,at)),Ke});return function(xe,We,Oe,ye,ze,Qe){return ee.apply(this,arguments)}}(),_e=(ee,Ae)=>{if(Ae){if(ee)return ee.removeViewFromDom(Ae.parentElement,Ae);Ae.remove()}return Promise.resolve()},Q=()=>{let ee,Ae;return{attachViewToDom:function(){var Oe=(0,c.A)(function*(ye,ze,Qe={},Ke=[]){var at,mt;let rt;if(ee=ye,ze){const Mt="string"==typeof ze?null===(at=ee.ownerDocument)||void 0===at?void 0:at.createElement(ze):ze;Ke.forEach(It=>Mt.classList.add(It)),Object.assign(Mt,Qe),ee.appendChild(Mt),rt=Mt,yield new Promise(It=>(0,h.c)(Mt,It))}else if(ee.children.length>0&&("ION-MODAL"===ee.tagName||"ION-POPOVER"===ee.tagName)&&!(rt=ee.children[0]).classList.contains("ion-delegate-host")){const It=null===(mt=ee.ownerDocument)||void 0===mt?void 0:mt.createElement("div");It.classList.add("ion-delegate-host"),Ke.forEach(Ee=>It.classList.add(Ee)),It.append(...ee.children),ee.appendChild(It),rt=It}const st=document.querySelector("ion-app")||document.body;return Ae=document.createComment("ionic teleport"),ee.parentNode.insertBefore(Ae,ee),st.appendChild(ee),null!=rt?rt:ee});return function(ze,Qe){return Oe.apply(this,arguments)}}(),removeViewFromDom:()=>(ee&&Ae&&(Ae.parentNode.insertBefore(ee,Ae),Ae.remove()),Promise.resolve())}}},1970:(Cn,it,O)=>{"use strict";O.d(it,{B:()=>_e,G:()=>Q});class h{constructor(Ae,xe,We,Oe,ye){this.id=xe,this.name=We,this.disableScroll=ye,this.priority=1e6*Oe+xe,this.ctrl=Ae}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ae=this.ctrl.capture(this.name,this.id,this.priority);return Ae&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ae}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class F{constructor(Ae,xe,We,Oe){this.id=xe,this.disable=We,this.disableScroll=Oe,this.ctrl=Ae}block(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.disableGesture(Ae,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.enableGesture(Ae,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const _e="backdrop-no-scroll",Q=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ae){var xe;return new h(this,this.newID(),Ae.name,null!==(xe=Ae.priority)&&void 0!==xe?xe:0,!!Ae.disableScroll)}createBlocker(Ae={}){return new F(this,this.newID(),Ae.disable,!!Ae.disableScroll)}start(Ae,xe,We){return this.canStart(Ae)?(this.requestedStart.set(xe,We),!0):(this.requestedStart.delete(xe),!1)}capture(Ae,xe,We){if(!this.start(Ae,xe,We))return!1;const Oe=this.requestedStart;let ye=-1e4;if(Oe.forEach(ze=>{ye=Math.max(ye,ze)}),ye===We){this.capturedId=xe,Oe.clear();const ze=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ae}});return document.dispatchEvent(ze),!0}return Oe.delete(xe),!1}release(Ae){this.requestedStart.delete(Ae),this.capturedId===Ae&&(this.capturedId=void 0)}disableGesture(Ae,xe){let We=this.disabledGestures.get(Ae);void 0===We&&(We=new Set,this.disabledGestures.set(Ae,We)),We.add(xe)}enableGesture(Ae,xe){const We=this.disabledGestures.get(Ae);void 0!==We&&We.delete(xe)}disableScroll(Ae){this.disabledScroll.add(Ae),1===this.disabledScroll.size&&document.body.classList.add(_e)}enableScroll(Ae){this.disabledScroll.delete(Ae),0===this.disabledScroll.size&&document.body.classList.remove(_e)}canStart(Ae){return!(void 0!==this.capturedId||this.isDisabled(Ae))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ae){const xe=this.disabledGestures.get(Ae);return!!(xe&&xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{MENU_BACK_BUTTON_PRIORITY:()=>We,OVERLAY_BACK_BUTTON_PRIORITY:()=>xe,blockHardwareBackButton:()=>ee,shouldUseCloseWatcher:()=>Q,startHardwareBackButton:()=>Ae});var c=O(467),h=O(8476),F=O(9483);O(4261);const Q=()=>F.c.get("experimentalCloseWatcher",!1)&&void 0!==h.w&&"CloseWatcher"in h.w,ee=()=>{document.addEventListener("backbutton",()=>{})},Ae=()=>{const Oe=document;let ye=!1;const ze=()=>{if(ye)return;let Qe=0,Ke=[];const at=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(st,Mt){Ke.push({priority:st,handler:Mt,id:Qe++})}}});Oe.dispatchEvent(at);const mt=function(){var st=(0,c.A)(function*(Mt){try{if(null!=Mt&&Mt.handler){const It=Mt.handler(rt);null!=It&&(yield It)}}catch(It){console.error(It)}});return function(It){return st.apply(this,arguments)}}(),rt=()=>{if(Ke.length>0){let st={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ke.forEach(Mt=>{Mt.priority>=st.priority&&(st=Mt)}),ye=!0,Ke=Ke.filter(Mt=>Mt.id!==st.id),mt(st).then(()=>ye=!1)}};rt()};if(Q()){let Qe;const Ke=()=>{null==Qe||Qe.destroy(),Qe=new h.w.CloseWatcher,Qe.onclose=()=>{ze(),Ke()}};Ke()}else Oe.addEventListener("backbutton",ze)},xe=100,We=99},4920:(Cn,it,O)=>{"use strict";O.d(it,{a:()=>xe,b:()=>We,c:()=>F,d:()=>Ke,e:()=>Mt,f:()=>Qe,g:()=>Oe,h:()=>Q,i:()=>Ae,j:()=>at,k:()=>_e,l:()=>ze,m:()=>mt,n:()=>st,o:()=>It,p:()=>rt,r:()=>ye,s:()=>Ee,t:()=>c});const c=(we,ke=0)=>new Promise(Je=>{h(we,ke,Je)}),h=(we,ke=0,Je)=>{let tt,Ot;const Pe={passive:!0},kt=()=>{tt&&tt()},tn=An=>{(void 0===An||we===An.target)&&(kt(),Je(An))};return we&&(we.addEventListener("webkitTransitionEnd",tn,Pe),we.addEventListener("transitionend",tn,Pe),Ot=setTimeout(tn,ke+500),tt=()=>{void 0!==Ot&&(clearTimeout(Ot),Ot=void 0),we.removeEventListener("webkitTransitionEnd",tn,Pe),we.removeEventListener("transitionend",tn,Pe)}),kt},F=(we,ke)=>{we.componentOnReady?we.componentOnReady().then(Je=>ke(Je)):ye(()=>ke(we))},_e=we=>void 0!==we.componentOnReady,Q=(we,ke=[])=>{const Je={};return ke.forEach(tt=>{we.hasAttribute(tt)&&(null!==we.getAttribute(tt)&&(Je[tt]=we.getAttribute(tt)),we.removeAttribute(tt))}),Je},ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ae=(we,ke)=>{let Je=ee;return ke&&ke.length>0&&(Je=Je.filter(tt=>!ke.includes(tt))),Q(we,Je)},xe=(we,ke,Je,tt)=>{var Ot;if(typeof window<"u"){const Pe=window,pt=null===(Ot=null==Pe?void 0:Pe.Ionic)||void 0===Ot?void 0:Ot.config;if(pt){const kt=pt.get("_ael");if(kt)return kt(we,ke,Je,tt);if(pt._ael)return pt._ael(we,ke,Je,tt)}}return we.addEventListener(ke,Je,tt)},We=(we,ke,Je,tt)=>{var Ot;if(typeof window<"u"){const Pe=window,pt=null===(Ot=null==Pe?void 0:Pe.Ionic)||void 0===Ot?void 0:Ot.config;if(pt){const kt=pt.get("_rel");if(kt)return kt(we,ke,Je,tt);if(pt._rel)return pt._rel(we,ke,Je,tt)}}return we.removeEventListener(ke,Je,tt)},Oe=(we,ke=we)=>we.shadowRoot||ke,ye=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we),ze=we=>!!we.shadowRoot&&!!we.attachShadow,Qe=we=>{if(we.focus(),we.classList.contains("ion-focusable")){const ke=we.closest("ion-app");ke&&ke.setFocus([we])}},Ke=(we,ke,Je,tt,Ot)=>{if(we||ze(ke)){let Pe=ke.querySelector("input.aux-input");Pe||(Pe=ke.ownerDocument.createElement("input"),Pe.type="hidden",Pe.classList.add("aux-input"),ke.appendChild(Pe)),Pe.disabled=Ot,Pe.name=Je,Pe.value=tt||""}},at=(we,ke,Je)=>Math.max(we,Math.min(ke,Je)),mt=(we,ke)=>{if(!we){const Je="ASSERT: "+ke;throw console.error(Je),new Error(Je)}},rt=we=>{if(we){const ke=we.changedTouches;if(ke&&ke.length>0){const Je=ke[0];return{x:Je.clientX,y:Je.clientY}}if(void 0!==we.pageX)return{x:we.pageX,y:we.pageY}}return{x:0,y:0}},st=we=>{const ke="rtl"===document.dir;switch(we){case"start":return ke;case"end":return!ke;default:throw new Error(`"${we}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Mt=(we,ke)=>{const Je=we._original||we;return{_original:we,emit:It(Je.emit.bind(Je),ke)}},It=(we,ke=0)=>{let Je;return(...tt)=>{clearTimeout(Je),Je=setTimeout(we,ke,...tt)}},Ee=(we,ke)=>{if(null!=we||(we={}),null!=ke||(ke={}),we===ke)return!0;const Je=Object.keys(we);if(Je.length!==Object.keys(ke).length)return!1;for(const tt of Je)if(!(tt in ke)||we[tt]!==ke[tt])return!1;return!0}},4261:(Cn,it,O)=>{"use strict";O.d(it,{B:()=>ee,a:()=>An,b:()=>Fo,c:()=>Yn,d:()=>Xn,e:()=>Wt,f:()=>en,g:()=>nr,h:()=>sr,i:()=>yi,j:()=>dr,k:()=>Ft,r:()=>We,w:()=>Lt});var c=O(467);var _e=Object.defineProperty,ee={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ae=new WeakMap,xe=T=>Ae.get(T),We=(T,V)=>Ae.set(V.$lazyInstance$=T,V),ye=(T,V)=>V in T,ze=(T,V)=>(0,console.error)(T,V),Qe=new Map,at=new Map,mt=[],Ee="s-id",tt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ot="http://www.w3.org/1999/xlink",Pe=typeof window<"u"?window:{},pt=Pe.document||{head:{}},tn={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,V,Ue,Ze)=>T.addEventListener(V,Ue,Ze),rel:(T,V,Ue,Ze)=>T.removeEventListener(V,Ue,Ze),ce:(T,V)=>new CustomEvent(T,V)},An=T=>{Object.assign(tn,T)},Gn=(()=>{let T=!1;try{pt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){T=!0}}))}catch{}return T})(),Ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),ae=!1,ue=[],ge=[],je=(T,V)=>Ue=>{T.push(Ue),ae||(ae=!0,V&&4&tn.$flags$?ft(yt):tn.raf(yt))},gt=T=>{for(let V=0;V<T.length;V++)try{T[V](performance.now())}catch(Ue){ze(Ue)}T.length=0},yt=()=>{gt(ue),gt(ge),(ae=ue.length>0)&&tn.raf(yt)},ft=T=>Promise.resolve(void 0).then(T),Wt=je(ue,!1),Lt=je(ge,!0),Ft=T=>{const V=new URL(T,tn.$resourcesUrl$);return V.origin!==Pe.location.origin?V.href:V.pathname},Fn={},wn=T=>"object"==(T=typeof T)||"function"===T;function Jt(T){var V,Ue,Ze;return null!=(Ze=null==(Ue=null==(V=T.head)?void 0:V.querySelector('meta[name="csp-nonce"]'))?void 0:Ue.getAttribute("content"))?Ze:void 0}((T,V)=>{for(var Ue in V)_e(T,Ue,{get:V[Ue],enumerable:!0})})({},{err:()=>ot,map:()=>Le,ok:()=>bn,unwrap:()=>qe,unwrapErr:()=>un});var bn=T=>({isOk:!0,isErr:!1,value:T}),ot=T=>({isOk:!1,isErr:!0,value:T});function Le(T,V){if(T.isOk){const Ue=V(T.value);return Ue instanceof Promise?Ue.then(Ze=>bn(Ze)):bn(Ue)}if(T.isErr)return ot(T.value);throw"should never get here"}var qe=T=>{if(T.isOk)return T.value;throw T.value},un=T=>{if(T.isErr)return T.value;throw T.value},sr=(T,V,...Ue)=>{let Ze=null,_t=null,Tt=null,cn=!1,mn=!1;const an=[],pn=Wn=>{for(let tr=0;tr<Wn.length;tr++)Ze=Wn[tr],Array.isArray(Ze)?pn(Ze):null!=Ze&&"boolean"!=typeof Ze&&((cn="function"!=typeof T&&!wn(Ze))&&(Ze=String(Ze)),cn&&mn?an[an.length-1].$text$+=Ze:an.push(cn?Un(null,Ze):Ze),mn=cn)};if(pn(Ue),V){V.key&&(_t=V.key),V.name&&(Tt=V.name);{const Wn=V.className||V.class;Wn&&(V.class="object"!=typeof Wn?Wn:Object.keys(Wn).filter(tr=>Wn[tr]).join(" "))}}if("function"==typeof T)return T(null===V?{}:V,an,pr);const Hn=Un(T,null);return Hn.$attrs$=V,an.length>0&&(Hn.$children$=an),Hn.$key$=_t,Hn.$name$=Tt,Hn},Un=(T,V)=>({$flags$:0,$tag$:T,$text$:V,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),en={},pr={forEach:(T,V)=>T.map(gr).forEach(V),map:(T,V)=>T.map(gr).map(V).map(hr)},gr=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),hr=T=>{if("function"==typeof T.vtag){const Ue={...T.vattrs};return T.vkey&&(Ue.key=T.vkey),T.vname&&(Ue.name=T.vname),sr(T.vtag,Ue,...T.vchildren||[])}const V=Un(T.vtag,T.vtext);return V.$attrs$=T.vattrs,V.$children$=T.vchildren,V.$key$=T.vkey,V.$name$=T.vname,V},_i=(T,V,Ue,Ze,_t,Tt,cn)=>{let mn,an,pn,Hn;if(1===Tt.nodeType){if(mn=Tt.getAttribute("c-id"),mn&&(an=mn.split("."),(an[0]===cn||"0"===an[0])&&(pn={$flags$:0,$hostId$:an[0],$nodeId$:an[1],$depth$:an[2],$index$:an[3],$tag$:Tt.tagName.toLowerCase(),$elm$:Tt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},V.push(pn),Tt.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn,T=pn,Ze&&"0"===pn.$depth$&&(Ze[pn.$index$]=pn.$elm$))),Tt.shadowRoot)for(Hn=Tt.shadowRoot.childNodes.length-1;Hn>=0;Hn--)_i(T,V,Ue,Ze,_t,Tt.shadowRoot.childNodes[Hn],cn);for(Hn=Tt.childNodes.length-1;Hn>=0;Hn--)_i(T,V,Ue,Ze,_t,Tt.childNodes[Hn],cn)}else if(8===Tt.nodeType)an=Tt.nodeValue.split("."),(an[1]===cn||"0"===an[1])&&(mn=an[0],pn={$flags$:0,$hostId$:an[1],$nodeId$:an[2],$depth$:an[3],$index$:an[4],$elm$:Tt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===mn?(pn.$elm$=Tt.nextSibling,pn.$elm$&&3===pn.$elm$.nodeType&&(pn.$text$=pn.$elm$.textContent,V.push(pn),Tt.remove(),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn,Ze&&"0"===pn.$depth$&&(Ze[pn.$index$]=pn.$elm$))):pn.$hostId$===cn&&("s"===mn?(pn.$tag$="slot",Tt["s-sn"]=an[5]?pn.$name$=an[5]:"",Tt["s-sr"]=!0,Ze&&(pn.$elm$=pt.createElement(pn.$tag$),pn.$name$&&pn.$elm$.setAttribute("name",pn.$name$),Tt.parentNode.insertBefore(pn.$elm$,Tt),Tt.remove(),"0"===pn.$depth$&&(Ze[pn.$index$]=pn.$elm$)),Ue.push(pn),T.$children$||(T.$children$=[]),T.$children$[pn.$index$]=pn):"r"===mn&&(Ze?Tt.remove():(_t["s-cr"]=Tt,Tt["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Wn=Un(null,Tt.textContent);Wn.$elm$=Tt,Wn.$index$="0",T.$children$=[Wn]}},Bn=(T,V)=>{if(1===T.nodeType){let Ue=0;if(T.shadowRoot)for(;Ue<T.shadowRoot.childNodes.length;Ue++)Bn(T.shadowRoot.childNodes[Ue],V);for(Ue=0;Ue<T.childNodes.length;Ue++)Bn(T.childNodes[Ue],V)}else if(8===T.nodeType){const Ue=T.nodeValue.split(".");"o"===Ue[0]&&(V.set(Ue[1]+"."+Ue[2],T),T.nodeValue="",T["s-en"]=Ue[3])}},Yn=T=>mt.push(T),nr=T=>xe(T).$modeName$,yi=T=>xe(T).$hostElement$,Xn=(T,V,Ue)=>{const Ze=yi(T);return{emit:_t=>ni(Ze,V,{bubbles:!!(4&Ue),composed:!!(2&Ue),cancelable:!!(1&Ue),detail:_t})}},ni=(T,V,Ue)=>{const Ze=tn.ce(V,Ue);return T.dispatchEvent(Ze),Ze},Er=new WeakMap,si=(T,V,Ue)=>{var Ze;const _t=bt(V,Ue),Tt=at.get(_t);if(T=11===T.nodeType?T:pt,Tt)if("string"==typeof Tt){let mn,cn=Er.get(T=T.head||T);if(cn||Er.set(T,cn=new Set),!cn.has(_t)){if(T.host&&(mn=T.querySelector(`[sty-id="${_t}"]`)))mn.innerHTML=Tt;else{mn=pt.createElement("style"),mn.innerHTML=Tt;const an=null!=(Ze=tn.$nonce$)?Ze:Jt(pt);null!=an&&mn.setAttribute("nonce",an),(!(1&V.$flags$)||1&V.$flags$&&"HEAD"!==T.nodeName)&&T.insertBefore(mn,T.querySelector("link"))}4&V.$flags$&&(mn.innerHTML+=tt),cn&&cn.add(_t)}}else T.adoptedStyleSheets.includes(Tt)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,Tt]);return _t},bt=(T,V)=>"sc-"+(V&&32&T.$flags$?T.$tagName$+"-"+V:T.$tagName$),qt=(T,V,Ue,Ze,_t,Tt)=>{if(Ue!==Ze){let cn=ye(T,V),mn=V.toLowerCase();if("class"===V){const an=T.classList,pn=Kt(Ue),Hn=Kt(Ze);an.remove(...pn.filter(Wn=>Wn&&!Hn.includes(Wn))),an.add(...Hn.filter(Wn=>Wn&&!pn.includes(Wn)))}else if("style"===V){for(const an in Ue)(!Ze||null==Ze[an])&&(an.includes("-")?T.style.removeProperty(an):T.style[an]="");for(const an in Ze)(!Ue||Ze[an]!==Ue[an])&&(an.includes("-")?T.style.setProperty(an,Ze[an]):T.style[an]=Ze[an])}else if("key"!==V)if("ref"===V)Ze&&Ze(T);else if(cn||"o"!==V[0]||"n"!==V[1]){const an=wn(Ze);if((cn||an&&null!==Ze)&&!_t)try{if(T.tagName.includes("-"))T[V]=Ze;else{const Hn=null==Ze?"":Ze;"list"===V?cn=!1:(null==Ue||T[V]!=Hn)&&(T[V]=Hn)}}catch{}let pn=!1;mn!==(mn=mn.replace(/^xlink\:?/,""))&&(V=mn,pn=!0),null==Ze||!1===Ze?(!1!==Ze||""===T.getAttribute(V))&&(pn?T.removeAttributeNS(Ot,V):T.removeAttribute(V)):(!cn||4&Tt||_t)&&!an&&(Ze=!0===Ze?"":Ze,pn?T.setAttributeNS(Ot,V,Ze):T.setAttribute(V,Ze))}else if(V="-"===V[2]?V.slice(3):ye(Pe,mn)?mn.slice(2):mn[2]+V.slice(3),Ue||Ze){const an=V.endsWith(Z);V=V.replace(X,""),Ue&&tn.rel(T,V,Ue,an),Ze&&tn.ael(T,V,Ze,an)}}},ut=/\s/,Kt=T=>T?T.split(ut):[],Z="Capture",X=new RegExp(Z+"$"),se=(T,V,Ue)=>{const Ze=11===V.$elm$.nodeType&&V.$elm$.host?V.$elm$.host:V.$elm$,_t=T&&T.$attrs$||Fn,Tt=V.$attrs$||Fn;for(const cn of Xe(Object.keys(_t)))cn in Tt||qt(Ze,cn,_t[cn],void 0,Ue,V.$flags$);for(const cn of Xe(Object.keys(Tt)))qt(Ze,cn,_t[cn],Tt[cn],Ue,V.$flags$)};function Xe(T){return T.includes("ref")?[...T.filter(V=>"ref"!==V),"ref"]:T}var et,rn,Sn,Zn=!1,Ar=!1,vt=!1,Ir=!1,Mn=(T,V,Ue,Ze)=>{var _t;const Tt=V.$children$[Ue];let mn,an,pn,cn=0;if(Zn||(vt=!0,"slot"===Tt.$tag$&&(et&&Ze.classList.add(et+"-s"),Tt.$flags$|=Tt.$children$?2:1)),null!==Tt.$text$)mn=Tt.$elm$=pt.createTextNode(Tt.$text$);else if(1&Tt.$flags$)mn=Tt.$elm$=pt.createTextNode("");else{if(Ir||(Ir="svg"===Tt.$tag$),mn=Tt.$elm$=pt.createElementNS(Ir?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Zn&&2&Tt.$flags$?"slot-fb":Tt.$tag$),Ir&&"foreignObject"===Tt.$tag$&&(Ir=!1),se(null,Tt,Ir),!!mn.getRootNode().querySelector("body")&&(T=>null!=T)(et)&&mn["s-si"]!==et&&mn.classList.add(mn["s-si"]=et),on(mn,Ze),Tt.$children$)for(cn=0;cn<Tt.$children$.length;++cn)an=Mn(T,Tt,cn,mn),an&&mn.appendChild(an);"svg"===Tt.$tag$?Ir=!1:"foreignObject"===mn.tagName&&(Ir=!0)}return mn["s-hn"]=Sn,3&Tt.$flags$&&(mn["s-sr"]=!0,mn["s-cr"]=rn,mn["s-sn"]=Tt.$name$||"",mn["s-rf"]=null==(_t=Tt.$attrs$)?void 0:_t.ref,pn=T&&T.$children$&&T.$children$[Ue],pn&&pn.$tag$===Tt.$tag$&&T.$elm$&&Pr(T.$elm$)),mn},Pr=T=>{tn.$flags$|=1;const V=T.closest(Sn.toLowerCase());if(null!=V){const Ue=Array.from(V.childNodes).find(_t=>_t["s-cr"]),Ze=Array.from(T.childNodes);for(const _t of Ue?Ze.reverse():Ze)null!=_t["s-sh"]&&(Ne(V,_t,null!=Ue?Ue:null),_t["s-sh"]=void 0,vt=!0)}tn.$flags$&=-2},Ti=(T,V)=>{tn.$flags$|=1;const Ue=Array.from(T.childNodes);if(T["s-sr"]){let Ze=T;for(;Ze=Ze.nextSibling;)Ze&&Ze["s-sn"]===T["s-sn"]&&Ze["s-sh"]===Sn&&Ue.push(Ze)}for(let Ze=Ue.length-1;Ze>=0;Ze--){const _t=Ue[Ze];_t["s-hn"]!==Sn&&_t["s-ol"]&&(Ne(Yi(_t),_t,Vi(_t)),_t["s-ol"].remove(),_t["s-ol"]=void 0,_t["s-sh"]=void 0,vt=!0),V&&Ti(_t,V)}tn.$flags$&=-2},Fi=(T,V,Ue,Ze,_t,Tt)=>{let mn,cn=T["s-cr"]&&T["s-cr"].parentNode||T;for(cn.shadowRoot&&cn.tagName===Sn&&(cn=cn.shadowRoot);_t<=Tt;++_t)Ze[_t]&&(mn=Mn(null,Ue,_t,T),mn&&(Ze[_t].$elm$=mn,Ne(cn,mn,Vi(V))))},Xr=(T,V,Ue)=>{for(let Ze=V;Ze<=Ue;++Ze){const _t=T[Ze];if(_t){const Tt=_t.$elm$;le(_t),Tt&&(Ar=!0,Tt["s-ol"]?Tt["s-ol"].remove():Ti(Tt,!0),Tt.remove())}}},Ei=(T,V,Ue=!1)=>!(T.$tag$!==V.$tag$||("slot"===T.$tag$?"$nodeId$"in T&&Ue&&8!==T.$elm$.nodeType||T.$name$!==V.$name$:!Ue&&T.$key$!==V.$key$)),Vi=T=>T&&T["s-ol"]||T,Yi=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,Wi=(T,V,Ue=!1)=>{const Ze=V.$elm$=T.$elm$,_t=T.$children$,Tt=V.$children$,cn=V.$tag$,mn=V.$text$;let an;null===mn?(Ir="svg"===cn||"foreignObject"!==cn&&Ir,"slot"!==cn||Zn?se(T,V,Ir):T.$name$!==V.$name$&&(V.$elm$["s-sn"]=V.$name$||"",Pr(V.$elm$.parentElement)),null!==_t&&null!==Tt?((T,V,Ue,Ze,_t=!1)=>{let xi,ii,Tt=0,cn=0,mn=0,an=0,pn=V.length-1,Hn=V[0],Wn=V[pn],tr=Ze.length-1,ur=Ze[0],Fr=Ze[tr];for(;Tt<=pn&&cn<=tr;)if(null==Hn)Hn=V[++Tt];else if(null==Wn)Wn=V[--pn];else if(null==ur)ur=Ze[++cn];else if(null==Fr)Fr=Ze[--tr];else if(Ei(Hn,ur,_t))Wi(Hn,ur,_t),Hn=V[++Tt],ur=Ze[++cn];else if(Ei(Wn,Fr,_t))Wi(Wn,Fr,_t),Wn=V[--pn],Fr=Ze[--tr];else if(Ei(Hn,Fr,_t))("slot"===Hn.$tag$||"slot"===Fr.$tag$)&&Ti(Hn.$elm$.parentNode,!1),Wi(Hn,Fr,_t),Ne(T,Hn.$elm$,Wn.$elm$.nextSibling),Hn=V[++Tt],Fr=Ze[--tr];else if(Ei(Wn,ur,_t))("slot"===Hn.$tag$||"slot"===Fr.$tag$)&&Ti(Wn.$elm$.parentNode,!1),Wi(Wn,ur,_t),Ne(T,Wn.$elm$,Hn.$elm$),Wn=V[--pn],ur=Ze[++cn];else{for(mn=-1,an=Tt;an<=pn;++an)if(V[an]&&null!==V[an].$key$&&V[an].$key$===ur.$key$){mn=an;break}mn>=0?(ii=V[mn],ii.$tag$!==ur.$tag$?xi=Mn(V&&V[cn],Ue,mn,T):(Wi(ii,ur,_t),V[mn]=void 0,xi=ii.$elm$),ur=Ze[++cn]):(xi=Mn(V&&V[cn],Ue,cn,T),ur=Ze[++cn]),xi&&Ne(Yi(Hn.$elm$),xi,Vi(Hn.$elm$))}Tt>pn?Fi(T,null==Ze[tr+1]?null:Ze[tr+1].$elm$,Ue,Ze,cn,tr):cn>tr&&Xr(V,Tt,pn)})(Ze,_t,V,Tt,Ue):null!==Tt?(null!==T.$text$&&(Ze.textContent=""),Fi(Ze,null,V,Tt,0,Tt.length-1)):!Ue&&null!==_t&&Xr(_t,0,_t.length-1),Ir&&"svg"===cn&&(Ir=!1)):(an=Ze["s-cr"])?an.parentNode.textContent=mn:T.$text$!==mn&&(Ze.data=mn)},fe=T=>{const V=T.childNodes;for(const Ue of V)if(1===Ue.nodeType){if(Ue["s-sr"]){const Ze=Ue["s-sn"];Ue.hidden=!1;for(const _t of V)if(_t!==Ue)if(_t["s-hn"]!==Ue["s-hn"]||""!==Ze){if(1===_t.nodeType&&(Ze===_t.getAttribute("slot")||Ze===_t["s-sn"])||3===_t.nodeType&&Ze===_t["s-sn"]){Ue.hidden=!0;break}}else if(1===_t.nodeType||3===_t.nodeType&&""!==_t.textContent.trim()){Ue.hidden=!0;break}}fe(Ue)}},q=[],Me=T=>{let V,Ue,Ze;for(const _t of T.childNodes){if(_t["s-sr"]&&(V=_t["s-cr"])&&V.parentNode){Ue=V.parentNode.childNodes;const Tt=_t["s-sn"];for(Ze=Ue.length-1;Ze>=0;Ze--)if(V=Ue[Ze],!(V["s-cn"]||V["s-nr"]||V["s-hn"]===_t["s-hn"]||V["s-sh"]&&V["s-sh"]===_t["s-hn"]))if(ne(V,Tt)){let cn=q.find(mn=>mn.$nodeToRelocate$===V);Ar=!0,V["s-sn"]=V["s-sn"]||Tt,cn?(cn.$nodeToRelocate$["s-sh"]=_t["s-hn"],cn.$slotRefNode$=_t):(V["s-sh"]=_t["s-hn"],q.push({$slotRefNode$:_t,$nodeToRelocate$:V})),V["s-sr"]&&q.map(mn=>{ne(mn.$nodeToRelocate$,V["s-sn"])&&(cn=q.find(an=>an.$nodeToRelocate$===V),cn&&!mn.$slotRefNode$&&(mn.$slotRefNode$=cn.$slotRefNode$))})}else q.some(cn=>cn.$nodeToRelocate$===V)||q.push({$nodeToRelocate$:V})}1===_t.nodeType&&Me(_t)}},ne=(T,V)=>1===T.nodeType?null===T.getAttribute("slot")&&""===V||T.getAttribute("slot")===V:T["s-sn"]===V||""===V,le=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(le)},Ne=(T,V,Ue)=>{const Ze=null==T?void 0:T.insertBefore(V,Ue);return on(V,T),Ze},St=T=>{const V=[];return T&&V.push(...T["s-scs"]||[],T["s-si"],T["s-sc"],...St(T.parentElement)),V},on=(T,V,Ue=!1)=>{var Ze;if(T&&V&&1===T.nodeType){const _t=new Set(St(V).filter(Boolean));if(_t.size&&(null==(Ze=T.classList)||Ze.add(...T["s-scs"]=[..._t]),T["s-ol"]||Ue))for(const Tt of Array.from(T.childNodes))on(Tt,T,!0)}},he=(T,V)=>{V&&!T.$onRenderResolve$&&V["s-p"]&&V["s-p"].push(new Promise(Ue=>T.$onRenderResolve$=Ue))},$e=(T,V)=>{if(T.$flags$|=16,!(4&T.$flags$))return he(T,T.$ancestorComponent$),Lt(()=>Nt(T,V));T.$flags$|=512},Nt=(T,V)=>{const _t=T.$lazyInstance$;if(!_t)throw new Error(`Can't render component <${T.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Tt;return V&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([cn,mn])=>xr(_t,cn,mn)),T.$queuedListeners$=void 0),Tt=xr(_t,"componentWillLoad")),Tt=wt(Tt,()=>xr(_t,"componentWillRender")),wt(Tt,()=>En(T,_t,V))},wt=(T,V)=>zt(T)?T.then(V).catch(Ue=>{console.error(Ue),V()}):V(),zt=T=>T instanceof Promise||T&&T.then&&"function"==typeof T.then,En=function(){var T=(0,c.A)(function*(V,Ue,Ze){var _t;const Tt=V.$hostElement$,mn=Tt["s-rc"];Ze&&(T=>{const V=T.$cmpMeta$,Ue=T.$hostElement$,Ze=V.$flags$,Tt=si(Ue.shadowRoot?Ue.shadowRoot:Ue.getRootNode(),V,T.$modeName$);10&Ze&&2&Ze&&(Ue["s-sc"]=Tt,Ue.classList.add(Tt+"-h"),2&Ze&&Ue.classList.add(Tt+"-s"))})(V);$n(V,Ue,Tt,Ze),mn&&(mn.map(pn=>pn()),Tt["s-rc"]=void 0);{const pn=null!=(_t=Tt["s-p"])?_t:[],Hn=()=>Ln(V);0===pn.length?Hn():(Promise.all(pn).then(Hn),V.$flags$|=4,pn.length=0)}});return function(Ue,Ze,_t){return T.apply(this,arguments)}}(),$n=(T,V,Ue,Ze)=>{try{V=V.render&&V.render(),T.$flags$&=-17,T.$flags$|=2,((T,V,Ue=!1)=>{var Ze,_t,Tt,cn,mn;const an=T.$hostElement$,pn=T.$cmpMeta$,Hn=T.$vnode$||Un(null,null),Wn=(T=>T&&T.$tag$===en)(V)?V:sr(null,null,V);if(Sn=an.tagName,pn.$attrsToReflect$&&(Wn.$attrs$=Wn.$attrs$||{},pn.$attrsToReflect$.map(([tr,ur])=>Wn.$attrs$[ur]=an[tr])),Ue&&Wn.$attrs$)for(const tr of Object.keys(Wn.$attrs$))an.hasAttribute(tr)&&!["key","ref","style","class"].includes(tr)&&(Wn.$attrs$[tr]=an[tr]);if(Wn.$tag$=null,Wn.$flags$|=4,T.$vnode$=Wn,Wn.$elm$=Hn.$elm$=an.shadowRoot||an,et=an["s-sc"],Zn=!!(1&pn.$flags$),rn=an["s-cr"],Ar=!1,Wi(Hn,Wn,Ue),tn.$flags$|=1,vt){Me(Wn.$elm$);for(const tr of q){const ur=tr.$nodeToRelocate$;if(!ur["s-ol"]){const Fr=pt.createTextNode("");Fr["s-nr"]=ur,Ne(ur.parentNode,ur["s-ol"]=Fr,ur)}}for(const tr of q){const ur=tr.$nodeToRelocate$,Fr=tr.$slotRefNode$;if(Fr){const xi=Fr.parentNode;let ii=Fr.nextSibling;if(ii&&1===ii.nodeType){let vi=null==(Ze=ur["s-ol"])?void 0:Ze.previousSibling;for(;vi;){let Jr=null!=(_t=vi["s-nr"])?_t:null;if(Jr&&Jr["s-sn"]===ur["s-sn"]&&xi===Jr.parentNode){for(Jr=Jr.nextSibling;Jr===ur||null!=Jr&&Jr["s-sr"];)Jr=null==Jr?void 0:Jr.nextSibling;if(!Jr||!Jr["s-nr"]){ii=Jr;break}}vi=vi.previousSibling}}(!ii&&xi!==ur.parentNode||ur.nextSibling!==ii)&&ur!==ii&&(Ne(xi,ur,ii),1===ur.nodeType&&(ur.hidden=null!=(Tt=ur["s-ih"])&&Tt)),ur&&"function"==typeof Fr["s-rf"]&&Fr["s-rf"](ur)}else 1===ur.nodeType&&(Ue&&(ur["s-ih"]=null!=(cn=ur.hidden)&&cn),ur.hidden=!0)}}if(Ar&&fe(Wn.$elm$),tn.$flags$&=-2,q.length=0,2&pn.$flags$)for(const tr of Wn.$elm$.childNodes)tr["s-hn"]!==Sn&&!tr["s-sh"]&&(Ue&&null==tr["s-ih"]&&(tr["s-ih"]=null!=(mn=tr.hidden)&&mn),tr.hidden=!0);rn=void 0})(T,V,Ze)}catch(_t){ze(_t,T.$hostElement$)}return null},Ln=T=>{const Ue=T.$hostElement$,_t=T.$lazyInstance$,Tt=T.$ancestorComponent$;xr(_t,"componentDidRender"),64&T.$flags$?xr(_t,"componentDidUpdate"):(T.$flags$|=64,ai(Ue),xr(_t,"componentDidLoad"),T.$onReadyResolve$(Ue),Tt||or()),T.$onInstanceResolve$(Ue),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&ft(()=>$e(T,!1)),T.$flags$&=-517},dr=T=>{{const V=xe(T),Ue=V.$hostElement$.isConnected;return Ue&&2==(18&V.$flags$)&&$e(V,!1),Ue}},or=T=>{ai(pt.documentElement),ft(()=>ni(Pe,"appload",{detail:{namespace:"ionic"}}))},xr=(T,V,Ue)=>{if(T&&T[V])try{return T[V](Ue)}catch(Ze){ze(Ze)}},ai=T=>T.classList.add("hydrated"),ui=(T,V,Ue)=>{var Ze,_t;const Tt=T.prototype;if(V.$members$||V.$watchers$||T.watchers){T.watchers&&!V.$watchers$&&(V.$watchers$=T.watchers);const cn=Object.entries(null!=(Ze=V.$members$)?Ze:{});if(cn.map(([mn,[an]])=>{31&an||2&Ue&&32&an?Object.defineProperty(Tt,mn,{get(){return((T,V)=>xe(this).$instanceValues$.get(V))(0,mn)},set(pn){((T,V,Ue,Ze)=>{const _t=xe(T);if(!_t)throw new Error(`Couldn't find host element for "${Ze.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Tt=_t.$hostElement$,cn=_t.$instanceValues$.get(V),mn=_t.$flags$,an=_t.$lazyInstance$;Ue=((T,V)=>null==T||wn(T)?T:4&V?"false"!==T&&(""===T||!!T):2&V?parseFloat(T):1&V?String(T):T)(Ue,Ze.$members$[V][0]);const pn=Number.isNaN(cn)&&Number.isNaN(Ue);if((!(8&mn)||void 0===cn)&&Ue!==cn&&!pn&&(_t.$instanceValues$.set(V,Ue),an)){if(Ze.$watchers$&&128&mn){const Wn=Ze.$watchers$[V];Wn&&Wn.map(tr=>{try{an[tr](Ue,cn,V)}catch(ur){ze(ur,Tt)}})}2==(18&mn)&&$e(_t,!1)}})(this,mn,pn,V)},configurable:!0,enumerable:!0}):1&Ue&&64&an&&Object.defineProperty(Tt,mn,{value(...pn){var Hn;const Wn=xe(this);return null==(Hn=null==Wn?void 0:Wn.$onInstancePromise$)?void 0:Hn.then(()=>{var tr;return null==(tr=Wn.$lazyInstance$)?void 0:tr[mn](...pn)})}})}),1&Ue){const mn=new Map;Tt.attributeChangedCallback=function(an,pn,Hn){tn.jmp(()=>{var Wn;const tr=mn.get(an);if(this.hasOwnProperty(tr))Hn=this[tr],delete this[tr];else{if(Tt.hasOwnProperty(tr)&&"number"==typeof this[tr]&&this[tr]==Hn)return;if(null==tr){const ur=xe(this),Fr=null==ur?void 0:ur.$flags$;if(Fr&&!(8&Fr)&&128&Fr&&Hn!==pn){const xi=ur.$lazyInstance$,ii=null==(Wn=V.$watchers$)?void 0:Wn[an];null==ii||ii.forEach(vi=>{null!=xi[vi]&&xi[vi].call(xi,Hn,pn,an)})}return}}this[tr]=(null!==Hn||"boolean"!=typeof this[tr])&&Hn})},T.observedAttributes=Array.from(new Set([...Object.keys(null!=(_t=V.$watchers$)?_t:{}),...cn.filter(([an,pn])=>15&pn[0]).map(([an,pn])=>{var Hn;const Wn=pn[1]||an;return mn.set(Wn,an),512&pn[0]&&(null==(Hn=V.$attrsToReflect$)||Hn.push([an,Wn])),Wn})]))}}return T},wi=function(){var T=(0,c.A)(function*(V,Ue,Ze,_t){let Tt;if(!(32&Ue.$flags$)){if(Ue.$flags$|=32,Ze.$lazyBundleId$){const pn=(T=>{const Ze=T.$tagName$.replace(/-/g,"_"),_t=T.$lazyBundleId$;if(!_t)return;const Tt=Qe.get(_t);return Tt?Tt[Ze]:O(8996)(`./${_t}.entry.js`).then(cn=>(Qe.set(_t,cn),cn[Ze]),ze)})(Ze);if(pn&&"then"in pn){const Wn=()=>{};Tt=yield pn,Wn()}else Tt=pn;if(!Tt)throw new Error(`Constructor for "${Ze.$tagName$}#${Ue.$modeName$}" was not found`);Tt.isProxied||(Ze.$watchers$=Tt.watchers,ui(Tt,Ze,2),Tt.isProxied=!0);const Hn=()=>{};Ue.$flags$|=8;try{new Tt(Ue)}catch(Wn){ze(Wn)}Ue.$flags$&=-9,Ue.$flags$|=128,Hn(),Br(Ue.$lazyInstance$)}else Tt=V.constructor,customElements.whenDefined(V.localName).then(()=>Ue.$flags$|=128);if(Tt&&Tt.style){let pn;"string"==typeof Tt.style?pn=Tt.style:"string"!=typeof Tt.style&&(Ue.$modeName$=(T=>mt.map(V=>V(T)).find(V=>!!V))(V),Ue.$modeName$&&(pn=Tt.style[Ue.$modeName$]));const Hn=bt(Ze,Ue.$modeName$);if(!at.has(Hn)){const Wn=()=>{};((T,V,Ue)=>{let Ze=at.get(T);Ve&&Ue?(Ze=Ze||new CSSStyleSheet,"string"==typeof Ze?Ze=V:Ze.replaceSync(V)):Ze=V,at.set(T,Ze)})(Hn,pn,!!(1&Ze.$flags$)),Wn()}}}const cn=Ue.$ancestorComponent$,mn=()=>$e(Ue,!0);cn&&cn["s-rc"]?cn["s-rc"].push(mn):mn()});return function(Ue,Ze,_t,Tt){return T.apply(this,arguments)}}(),Br=T=>{xr(T,"connectedCallback")},Ki=T=>{const V=T["s-cr"]=pt.createComment("");V["s-cn"]=!0,Ne(T,V,T.firstChild)},rr=T=>{xr(T,"disconnectedCallback")},Oi=function(){var T=(0,c.A)(function*(V){if(!(1&tn.$flags$)){const Ue=xe(V);Ue.$rmListeners$&&(Ue.$rmListeners$.map(Ze=>Ze()),Ue.$rmListeners$=void 0),null!=Ue&&Ue.$lazyInstance$?rr(Ue.$lazyInstance$):null!=Ue&&Ue.$onReadyPromise$&&Ue.$onReadyPromise$.then(()=>rr(Ue.$lazyInstance$))}});return function(Ue){return T.apply(this,arguments)}}(),Zi=T=>{const V=T.cloneNode;T.cloneNode=function(Ue){const Ze=this,_t=Ze.shadowRoot&&true,Tt=V.call(Ze,!!_t&&Ue);if(!_t&&Ue){let mn,an,cn=0;const pn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;cn<Ze.childNodes.length;cn++)mn=Ze.childNodes[cn]["s-nr"],an=pn.every(Hn=>!Ze.childNodes[cn][Hn]),mn&&(Tt.__appendChild?Tt.__appendChild(mn.cloneNode(!0)):Tt.appendChild(mn.cloneNode(!0))),an&&Tt.appendChild(Ze.childNodes[cn].cloneNode(!0))}return Tt}},fo=T=>{T.__appendChild=T.appendChild,T.appendChild=function(V){const Ue=V["s-sn"]=zi(V),Ze=ri(this.childNodes,Ue,this.tagName);if(Ze){const _t=Do(Ze,Ue),Tt=_t[_t.length-1],cn=Ne(Tt.parentNode,V,Tt.nextSibling);return fe(this),cn}return this.__appendChild(V)}},po=T=>{T.__removeChild=T.removeChild,T.removeChild=function(V){if(V&&typeof V["s-sn"]<"u"){const Ue=ri(this.childNodes,V["s-sn"],this.tagName);if(Ue){const _t=Do(Ue,V["s-sn"]).find(Tt=>Tt===V);if(_t)return _t.remove(),void fe(this)}}return this.__removeChild(V)}},go=T=>{const V=T.prepend;T.prepend=function(...Ue){Ue.forEach(Ze=>{"string"==typeof Ze&&(Ze=this.ownerDocument.createTextNode(Ze));const _t=Ze["s-sn"]=zi(Ze),Tt=ri(this.childNodes,_t,this.tagName);if(Tt){const cn=document.createTextNode("");cn["s-nr"]=Ze,Tt["s-cr"].parentNode.__appendChild(cn),Ze["s-ol"]=cn;const an=Do(Tt,_t)[0];return Ne(an.parentNode,Ze,an.nextSibling)}return 1===Ze.nodeType&&Ze.getAttribute("slot")&&(Ze.hidden=!0),V.call(this,Ze)})}},pi=T=>{T.append=function(...V){V.forEach(Ue=>{"string"==typeof Ue&&(Ue=this.ownerDocument.createTextNode(Ue)),this.appendChild(Ue)})}},yo=T=>{const V=T.insertAdjacentHTML;T.insertAdjacentHTML=function(Ue,Ze){if("afterbegin"!==Ue&&"beforeend"!==Ue)return V.call(this,Ue,Ze);const _t=this.ownerDocument.createElement("_");let Tt;if(_t.innerHTML=Ze,"afterbegin"===Ue)for(;Tt=_t.firstChild;)this.prepend(Tt);else if("beforeend"===Ue)for(;Tt=_t.firstChild;)this.append(Tt)}},mo=T=>{T.insertAdjacentText=function(V,Ue){this.insertAdjacentHTML(V,Ue)}},ts=T=>{const V=T.insertAdjacentElement;T.insertAdjacentElement=function(Ue,Ze){return"afterbegin"!==Ue&&"beforeend"!==Ue?V.call(this,Ue,Ze):"afterbegin"===Ue?(this.prepend(Ze),Ze):("beforeend"===Ue&&this.append(Ze),Ze)}},jo=T=>{const V=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(T,"__textContent",V),Object.defineProperty(T,"textContent",{get(){return" "+Wo(this.childNodes).map(_t=>{var Tt,cn;const mn=[];let an=_t.nextSibling;for(;an&&an["s-sn"]===_t["s-sn"];)(3===an.nodeType||1===an.nodeType)&&mn.push(null!=(cn=null==(Tt=an.textContent)?void 0:Tt.trim())?cn:""),an=an.nextSibling;return mn.filter(pn=>""!==pn).join(" ")}).filter(_t=>""!==_t).join(" ")+" "},set(Ue){Wo(this.childNodes).forEach(_t=>{let Tt=_t.nextSibling;for(;Tt&&Tt["s-sn"]===_t["s-sn"];){const cn=Tt;Tt=Tt.nextSibling,cn.remove()}if(""===_t["s-sn"]){const cn=this.ownerDocument.createTextNode(Ue);cn["s-sn"]="",Ne(_t.parentElement,cn,_t.nextSibling)}else _t.remove()})}})},Qr=(T,V)=>{class Ue extends Array{item(_t){return this[_t]}}if(8&V.$flags$){const Ze=T.__lookupGetter__("childNodes");Object.defineProperty(T,"children",{get(){return this.childNodes.map(_t=>1===_t.nodeType)}}),Object.defineProperty(T,"childElementCount",{get:()=>T.children.length}),Object.defineProperty(T,"childNodes",{get(){const _t=Ze.call(this);if(!(1&tn.$flags$)&&2&xe(this).$flags$){const Tt=new Ue;for(let cn=0;cn<_t.length;cn++){const mn=_t[cn]["s-nr"];mn&&Tt.push(mn)}return Tt}return Ue.from(_t)}})}},Wo=T=>{const V=[];for(const Ue of Array.from(T))Ue["s-sr"]&&V.push(Ue),V.push(...Wo(Ue.childNodes));return V},zi=T=>T["s-sn"]||1===T.nodeType&&T.getAttribute("slot")||"",ri=(T,V,Ue)=>{let _t,Ze=0;for(;Ze<T.length;Ze++)if(_t=T[Ze],_t["s-sr"]&&_t["s-sn"]===V&&_t["s-hn"]===Ue||(_t=ri(_t.childNodes,V,Ue),_t))return _t;return null},Do=(T,V)=>{const Ue=[T];for(;(T=T.nextSibling)&&T["s-sn"]===V;)Ue.push(T);return Ue},Fo=(T,V={})=>{var Ue;const _t=[],Tt=V.exclude||[],cn=Pe.customElements,mn=pt.head,an=mn.querySelector("meta[charset]"),pn=pt.createElement("style"),Hn=[];let Wn,tr=!0;Object.assign(tn,V),tn.$resourcesUrl$=new URL(V.resourcesUrl||"./",pt.baseURI).href,tn.$flags$|=2;let ur=!1;if(T.map(Fr=>{Fr[1].map(xi=>{var ii;const vi={$flags$:xi[0],$tagName$:xi[1],$members$:xi[2],$listeners$:xi[3]};4&vi.$flags$&&(ur=!0),vi.$members$=xi[2],vi.$listeners$=xi[3],vi.$attrsToReflect$=[],vi.$watchers$=null!=(ii=xi[4])?ii:{};const Jr=vi.$tagName$,Ho=class extends HTMLElement{constructor(Xi){if(super(Xi),this.hasRegisteredEventListeners=!1,((T,V)=>{const Ue={$flags$:0,$hostElement$:T,$cmpMeta$:V,$instanceValues$:new Map};Ue.$onInstancePromise$=new Promise(Ze=>Ue.$onInstanceResolve$=Ze),Ue.$onReadyPromise$=new Promise(Ze=>Ue.$onReadyResolve$=Ze),T["s-p"]=[],T["s-rc"]=[],Ae.set(T,Ue)})(Xi=this,vi),1&vi.$flags$)if(Xi.shadowRoot){if("open"!==Xi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${vi.$tagName$}! Mode is set to ${Xi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Xi.attachShadow({mode:"open",delegatesFocus:!!(16&vi.$flags$)})}connectedCallback(){const Xi=xe(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ci(this,Xi,vi.$listeners$)),Wn&&(clearTimeout(Wn),Wn=null),tr?Hn.push(this):tn.jmp(()=>(T=>{if(!(1&tn.$flags$)){const V=xe(T),Ue=V.$cmpMeta$,Ze=()=>{};if(1&V.$flags$)ci(T,V,Ue.$listeners$),null!=V&&V.$lazyInstance$?Br(V.$lazyInstance$):null!=V&&V.$onReadyPromise$&&V.$onReadyPromise$.then(()=>Br(V.$lazyInstance$));else{let _t;if(V.$flags$|=1,_t=T.getAttribute(Ee),_t){if(1&Ue.$flags$){const Tt=si(T.shadowRoot,Ue,T.getAttribute("s-mode"));T.classList.remove(Tt+"-h",Tt+"-s")}((T,V,Ue,Ze)=>{const Tt=T.shadowRoot,cn=[],an=Tt?[]:null,pn=Ze.$vnode$=Un(V,null);tn.$orgLocNodes$||Bn(pt.body,tn.$orgLocNodes$=new Map),T[Ee]=Ue,T.removeAttribute(Ee),_i(pn,cn,[],an,T,T,Ue),cn.map(Hn=>{const Wn=Hn.$hostId$+"."+Hn.$nodeId$,tr=tn.$orgLocNodes$.get(Wn),ur=Hn.$elm$;tr&&""===tr["s-en"]&&tr.parentNode.insertBefore(ur,tr.nextSibling),Tt||(ur["s-hn"]=V,tr&&(ur["s-ol"]=tr,ur["s-ol"]["s-nr"]=ur)),tn.$orgLocNodes$.delete(Wn)}),Tt&&an.map(Hn=>{Hn&&Tt.appendChild(Hn)})})(T,Ue.$tagName$,_t,V)}_t||12&Ue.$flags$&&Ki(T);{let Tt=T;for(;Tt=Tt.parentNode||Tt.host;)if(1===Tt.nodeType&&Tt.hasAttribute("s-id")&&Tt["s-p"]||Tt["s-p"]){he(V,V.$ancestorComponent$=Tt);break}}Ue.$members$&&Object.entries(Ue.$members$).map(([Tt,[cn]])=>{if(31&cn&&T.hasOwnProperty(Tt)){const mn=T[Tt];delete T[Tt],T[Tt]=mn}}),wi(T,V,Ue)}Ze()}})(this))}disconnectedCallback(){tn.jmp(()=>Oi(this))}componentOnReady(){return xe(this).$onReadyPromise$}};2&vi.$flags$&&((T,V)=>{Zi(T),fo(T),pi(T),go(T),ts(T),yo(T),mo(T),jo(T),Qr(T,V),po(T)})(Ho.prototype,vi),vi.$lazyBundleId$=Fr[0],!Tt.includes(Jr)&&!cn.get(Jr)&&(_t.push(Jr),cn.define(Jr,ui(Ho,vi,1)))})}),_t.length>0&&(ur&&(pn.textContent+=tt),pn.textContent+=_t.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",pn.innerHTML.length)){pn.setAttribute("data-styles","");const Fr=null!=(Ue=tn.$nonce$)?Ue:Jt(pt);null!=Fr&&pn.setAttribute("nonce",Fr),mn.insertBefore(pn,an?an.nextSibling:mn.firstChild)}tr=!1,Hn.length?Hn.map(Fr=>Fr.connectedCallback()):tn.jmp(()=>Wn=setTimeout(or,30))},ci=(T,V,Ue,Ze)=>{Ue&&Ue.map(([_t,Tt,cn])=>{const mn=te(T,_t),an=M(V,cn),pn=pe(_t);tn.ael(mn,Tt,an,pn),(V.$rmListeners$=V.$rmListeners$||[]).push(()=>tn.rel(mn,Tt,an,pn))})},M=(T,V)=>Ue=>{var Ze;try{256&T.$flags$?null==(Ze=T.$lazyInstance$)||Ze[V](Ue):(T.$queuedListeners$=T.$queuedListeners$||[]).push([V,Ue])}catch(_t){ze(_t)}},te=(T,V)=>4&V?pt:8&V?Pe:16&V?pt.body:T,pe=T=>Gn?{passive:!!(1&T),capture:!!(2&T)}:!!(2&T)},8607:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>We});var c=O(1970);const h=(Qe,Ke,at,mt)=>{const rt=F(Qe)?{capture:!!mt.capture,passive:!!mt.passive}:!!mt.capture;let st,Mt;return Qe.__zone_symbol__addEventListener?(st="__zone_symbol__addEventListener",Mt="__zone_symbol__removeEventListener"):(st="addEventListener",Mt="removeEventListener"),Qe[st](Ke,at,rt),()=>{Qe[Mt](Ke,at,rt)}},F=Qe=>{if(void 0===_e)try{const Ke=Object.defineProperty({},"passive",{get:()=>{_e=!0}});Qe.addEventListener("optsTest",()=>{},Ke)}catch{_e=!1}return!!_e};let _e;const Ae=Qe=>Qe instanceof Document?Qe:Qe.ownerDocument,We=Qe=>{let Ke=!1,at=!1,mt=!0,rt=!1;const st=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Qe),Mt=st.canStart,It=st.onWillStart,Ee=st.onStart,we=st.onEnd,ke=st.notCaptured,Je=st.onMove,tt=st.threshold,Ot=st.passive,Pe=st.blurOnStart,pt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},kt=((Qe,Ke,at)=>{const mt=at*(Math.PI/180),rt="x"===Qe,st=Math.cos(mt),Mt=Ke*Ke;let It=0,Ee=0,we=!1,ke=0;return{start(Je,tt){It=Je,Ee=tt,ke=0,we=!0},detect(Je,tt){if(!we)return!1;const Ot=Je-It,Pe=tt-Ee,pt=Ot*Ot+Pe*Pe;if(pt<Mt)return!1;const kt=Math.sqrt(pt),tn=(rt?Ot:Pe)/kt;return ke=tn>st?1:tn<-st?-1:0,we=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(st.direction,st.threshold,st.maxAngle),tn=c.G.createGesture({name:Qe.gestureName,priority:Qe.gesturePriority,disableScroll:Qe.disableScroll}),Gn=()=>{Ke&&(rt=!1,Je&&Je(pt))},Gt=()=>!!tn.capture()&&(Ke=!0,mt=!1,pt.startX=pt.currentX,pt.startY=pt.currentY,pt.startTime=pt.currentTime,It?It(pt).then(ae):ae(),!0),ae=()=>{Pe&&(()=>{if(typeof document<"u"){const yt=document.activeElement;null!=yt&&yt.blur&&yt.blur()}})(),Ee&&Ee(pt),mt=!0},ue=()=>{Ke=!1,at=!1,rt=!1,mt=!0,tn.release()},ge=yt=>{const ft=Ke,Wt=mt;if(ue(),Wt){if(Oe(pt,yt),ft)return void(we&&we(pt));ke&&ke(pt)}},je=((Qe,Ke,at,mt,rt)=>{let st,Mt,It,Ee,we,ke,Je,tt=0;const Ot=Ve=>{tt=Date.now()+2e3,Ke(Ve)&&(!Mt&&at&&(Mt=h(Qe,"touchmove",at,rt)),It||(It=h(Ve.target,"touchend",pt,rt)),Ee||(Ee=h(Ve.target,"touchcancel",pt,rt)))},Pe=Ve=>{tt>Date.now()||Ke(Ve)&&(!ke&&at&&(ke=h(Ae(Qe),"mousemove",at,rt)),Je||(Je=h(Ae(Qe),"mouseup",kt,rt)))},pt=Ve=>{tn(),mt&&mt(Ve)},kt=Ve=>{An(),mt&&mt(Ve)},tn=()=>{Mt&&Mt(),It&&It(),Ee&&Ee(),Mt=It=Ee=void 0},An=()=>{ke&&ke(),Je&&Je(),ke=Je=void 0},hn=()=>{tn(),An()},Gn=(Ve=!0)=>{Ve?(st||(st=h(Qe,"touchstart",Ot,rt)),we||(we=h(Qe,"mousedown",Pe,rt))):(st&&st(),we&&we(),st=we=void 0,hn())};return{enable:Gn,stop:hn,destroy:()=>{Gn(!1),mt=at=Ke=void 0}}})(st.el,yt=>{const ft=ze(yt);return!(at||!mt||(ye(yt,pt),pt.startX=pt.currentX,pt.startY=pt.currentY,pt.startTime=pt.currentTime=ft,pt.velocityX=pt.velocityY=pt.deltaX=pt.deltaY=0,pt.event=yt,Mt&&!1===Mt(pt))||(tn.release(),!tn.start()))&&(at=!0,0===tt?Gt():(kt.start(pt.startX,pt.startY),!0))},yt=>{Ke?!rt&&mt&&(rt=!0,Oe(pt,yt),requestAnimationFrame(Gn)):(Oe(pt,yt),kt.detect(pt.currentX,pt.currentY)&&(!kt.isGesture()||!Gt())&&gt())},ge,{capture:!1,passive:Ot}),gt=()=>{ue(),je.stop(),ke&&ke(pt)};return{enable(yt=!0){yt||(Ke&&ge(void 0),ue()),je.enable(yt)},destroy(){tn.destroy(),je.destroy()}}},Oe=(Qe,Ke)=>{if(!Ke)return;const at=Qe.currentX,mt=Qe.currentY,rt=Qe.currentTime;ye(Ke,Qe);const st=Qe.currentX,Mt=Qe.currentY,Ee=(Qe.currentTime=ze(Ke))-rt;if(Ee>0&&Ee<100){const ke=(Mt-mt)/Ee;Qe.velocityX=(st-at)/Ee*.7+.3*Qe.velocityX,Qe.velocityY=.7*ke+.3*Qe.velocityY}Qe.deltaX=st-Qe.startX,Qe.deltaY=Mt-Qe.startY,Qe.event=Ke},ye=(Qe,Ke)=>{let at=0,mt=0;if(Qe){const rt=Qe.changedTouches;if(rt&&rt.length>0){const st=rt[0];at=st.clientX,mt=st.clientY}else void 0!==Qe.pageX&&(at=Qe.pageX,mt=Qe.pageY)}Ke.currentX=at,Ke.currentY=mt},ze=Qe=>Qe.timeStamp||Date.now()},3604:(Cn,it,O)=>{"use strict";O.d(it,{b:()=>xe,c:()=>We,d:()=>Oe,e:()=>hn,g:()=>Ve,l:()=>tn,s:()=>Gn,t:()=>st,w:()=>An});var c=O(467),h=O(9483),F=O(4261),_e=O(4929),Q=O(4920);const xe="ionViewWillLeave",We="ionViewDidLeave",Oe="ionViewWillUnload",ye=ae=>{ae.tabIndex=-1,ae.focus()},ze=ae=>null!==ae.offsetParent,Ke="ion-last-focus",rt_saveViewFocus=ge=>{if(h.c.get("focusManagerPriority",!1)){const gt=document.activeElement;null!==gt&&null!=ge&&ge.contains(gt)&&gt.setAttribute(Ke,"true")}},rt_setViewFocus=ge=>{const je=h.c.get("focusManagerPriority",!1);if(Array.isArray(je)&&!ge.contains(document.activeElement)){const gt=ge.querySelector(`[${Ke}]`);if(gt&&ze(gt))return void ye(gt);for(const yt of je)switch(yt){case"content":const ft=ge.querySelector('main, [role="main"]');if(ft&&ze(ft))return void ye(ft);break;case"heading":const Wt=ge.querySelector('h1, [role="heading"][aria-level="1"]');if(Wt&&ze(Wt))return void ye(Wt);break;case"banner":const Lt=ge.querySelector('header, [role="banner"]');if(Lt&&ze(Lt))return void ye(Lt);break;default:(0,_e.p)(`Unrecognized focus manager priority value ${yt}`)}ye(ge)}},st=ae=>new Promise((ue,ge)=>{(0,F.w)(()=>{Mt(ae),It(ae).then(je=>{je.animation&&je.animation.destroy(),Ee(ae),ue(je)},je=>{Ee(ae),ge(je)})})}),Mt=ae=>{const ue=ae.enteringEl,ge=ae.leavingEl;rt_saveViewFocus(ge),Gt(ue,ge,ae.direction),ae.showGoBack?ue.classList.add("can-go-back"):ue.classList.remove("can-go-back"),Gn(ue,!1),ue.style.setProperty("pointer-events","none"),ge&&(Gn(ge,!1),ge.style.setProperty("pointer-events","none"))},It=function(){var ae=(0,c.A)(function*(ue){const ge=yield we(ue);return ge&&F.B.isBrowser?ke(ge,ue):Je(ue)});return function(ge){return ae.apply(this,arguments)}}(),Ee=ae=>{const ue=ae.enteringEl,ge=ae.leavingEl;ue.classList.remove("ion-page-invisible"),ue.style.removeProperty("pointer-events"),void 0!==ge&&(ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events")),rt_setViewFocus(ue)},we=function(){var ae=(0,c.A)(function*(ue){return ue.leavingEl&&ue.animated&&0!==ue.duration?ue.animationBuilder?ue.animationBuilder:"ios"===ue.mode?(yield Promise.resolve().then(O.bind(O,5022))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,3615))).mdTransitionAnimation:void 0});return function(ge){return ae.apply(this,arguments)}}(),ke=function(){var ae=(0,c.A)(function*(ue,ge){yield tt(ge,!0);const je=ue(ge.baseEl,ge);pt(ge.enteringEl,ge.leavingEl);const gt=yield Pe(je,ge);return ge.progressCallback&&ge.progressCallback(void 0),gt&&kt(ge.enteringEl,ge.leavingEl),{hasCompleted:gt,animation:je}});return function(ge,je){return ae.apply(this,arguments)}}(),Je=function(){var ae=(0,c.A)(function*(ue){const ge=ue.enteringEl,je=ue.leavingEl,gt=h.c.get("focusManagerPriority",!1);return yield tt(ue,gt),pt(ge,je),kt(ge,je),{hasCompleted:!0}});return function(ge){return ae.apply(this,arguments)}}(),tt=function(){var ae=(0,c.A)(function*(ue,ge){(void 0!==ue.deepWait?ue.deepWait:ge)&&(yield Promise.all([hn(ue.enteringEl),hn(ue.leavingEl)])),yield Ot(ue.viewIsReady,ue.enteringEl)});return function(ge,je){return ae.apply(this,arguments)}}(),Ot=function(){var ae=(0,c.A)(function*(ue,ge){ue&&(yield ue(ge))});return function(ge,je){return ae.apply(this,arguments)}}(),Pe=(ae,ue)=>{const ge=ue.progressCallback,je=new Promise(gt=>{ae.onFinish(yt=>gt(1===yt))});return ge?(ae.progressStart(!0),ge(ae)):ae.play(),je},pt=(ae,ue)=>{tn(ue,xe),tn(ae,"ionViewWillEnter")},kt=(ae,ue)=>{tn(ae,"ionViewDidEnter"),tn(ue,We)},tn=(ae,ue)=>{if(ae){const ge=new CustomEvent(ue,{bubbles:!1,cancelable:!1});ae.dispatchEvent(ge)}},An=()=>new Promise(ae=>(0,Q.r)(()=>(0,Q.r)(()=>ae()))),hn=function(){var ae=(0,c.A)(function*(ue){const ge=ue;if(ge){if(null!=ge.componentOnReady){if(null!=(yield ge.componentOnReady()))return}else if(null!=ge.__registerHost)return void(yield new Promise(gt=>(0,Q.r)(gt)));yield Promise.all(Array.from(ge.children).map(hn))}});return function(ge){return ae.apply(this,arguments)}}(),Gn=(ae,ue)=>{ue?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},Gt=(ae,ue,ge)=>{void 0!==ae&&(ae.style.zIndex="back"===ge?"99":"101"),void 0!==ue&&(ue.style.zIndex="100")},Ve=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},4929:(Cn,it,O)=>{"use strict";O.d(it,{a:()=>h,b:()=>F,p:()=>c});const c=(_e,...Q)=>console.warn(`[Ionic Warning]: ${_e}`,...Q),h=(_e,...Q)=>console.error(`[Ionic Error]: ${_e}`,...Q),F=(_e,...Q)=>console.error(`<${_e.tagName.toLowerCase()}> must be used inside ${Q.join(" or ")}.`)},8476:(Cn,it,O)=>{"use strict";O.d(it,{d:()=>h,w:()=>c});const c=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},9568:(Cn,it,O)=>{"use strict";O.d(it,{m:()=>Qe});var c=O(467),h=O(8476),F=O(7192),_e=O(4929),Q=O(4920),ee=O(9483),Ae=O(9986);const xe=Ke=>(0,Ae.c)().duration(Ke?400:300),We=Ke=>{let at,mt;const rt=Ke.width+8,st=(0,Ae.c)(),Mt=(0,Ae.c)();Ke.isEndSide?(at=rt+"px",mt="0px"):(at=-rt+"px",mt="0px"),st.addElement(Ke.menuInnerEl).fromTo("transform",`translateX(${at})`,`translateX(${mt})`);const Ee="ios"===(0,ee.b)(Ke),we=Ee?.2:.25;return Mt.addElement(Ke.backdropEl).fromTo("opacity",.01,we),xe(Ee).addAnimation([st,Mt])},Oe=Ke=>{let at,mt;const rt=(0,ee.b)(Ke),st=Ke.width;Ke.isEndSide?(at=-st+"px",mt=st+"px"):(at=st+"px",mt=-st+"px");const Mt=(0,Ae.c)().addElement(Ke.menuInnerEl).fromTo("transform",`translateX(${mt})`,"translateX(0px)"),It=(0,Ae.c)().addElement(Ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${at})`),Ee=(0,Ae.c)().addElement(Ke.backdropEl).fromTo("opacity",.01,.32);return xe("ios"===rt).addAnimation([Mt,It,Ee])},ye=Ke=>{const at=(0,ee.b)(Ke),mt=Ke.width*(Ke.isEndSide?-1:1)+"px",rt=(0,Ae.c)().addElement(Ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${mt})`);return xe("ios"===at).addAnimation(rt)},Qe=(()=>{const Ke=new Map,at=[],mt=function(){var ue=(0,c.A)(function*(ge){const je=yield ke(ge,!0);return!!je&&je.open()});return function(je){return ue.apply(this,arguments)}}(),rt=function(){var ue=(0,c.A)(function*(ge){const je=yield void 0!==ge?ke(ge,!0):Je();return void 0!==je&&je.close()});return function(je){return ue.apply(this,arguments)}}(),st=function(){var ue=(0,c.A)(function*(ge){const je=yield ke(ge,!0);return!!je&&je.toggle()});return function(je){return ue.apply(this,arguments)}}(),Mt=function(){var ue=(0,c.A)(function*(ge,je){const gt=yield ke(je);return gt&&(gt.disabled=!ge),gt});return function(je,gt){return ue.apply(this,arguments)}}(),It=function(){var ue=(0,c.A)(function*(ge,je){const gt=yield ke(je);return gt&&(gt.swipeGesture=ge),gt});return function(je,gt){return ue.apply(this,arguments)}}(),Ee=function(){var ue=(0,c.A)(function*(ge){if(null!=ge){const je=yield ke(ge);return void 0!==je&&je.isOpen()}return void 0!==(yield Je())});return function(je){return ue.apply(this,arguments)}}(),we=function(){var ue=(0,c.A)(function*(ge){const je=yield ke(ge);return!!je&&!je.disabled});return function(je){return ue.apply(this,arguments)}}(),ke=function(){var ue=(0,c.A)(function*(ge,je=!1){if(yield ae(),"start"===ge||"end"===ge){const yt=at.filter(Wt=>Wt.side===ge&&!Wt.disabled);if(yt.length>=1)return yt.length>1&&je&&(0,_e.p)(`menuController queried for a menu on the "${ge}" side, but ${yt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,yt.map(Wt=>Wt.el)),yt[0].el;const ft=at.filter(Wt=>Wt.side===ge);if(ft.length>=1)return ft.length>1&&je&&(0,_e.p)(`menuController queried for a menu on the "${ge}" side, but ${ft.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ft.map(Wt=>Wt.el)),ft[0].el}else if(null!=ge)return Ve(yt=>yt.menuId===ge);return Ve(yt=>!yt.disabled)||(at.length>0?at[0].el:void 0)});return function(je){return ue.apply(this,arguments)}}(),Je=function(){var ue=(0,c.A)(function*(){return yield ae(),hn()});return function(){return ue.apply(this,arguments)}}(),tt=function(){var ue=(0,c.A)(function*(){return yield ae(),Gn()});return function(){return ue.apply(this,arguments)}}(),Ot=function(){var ue=(0,c.A)(function*(){return yield ae(),Gt()});return function(){return ue.apply(this,arguments)}}(),Pe=(ue,ge)=>{Ke.set(ue,ge)},tn=function(){var ue=(0,c.A)(function*(ge,je,gt){if(Gt())return!1;if(je){const yt=yield Je();yt&&ge.el!==yt&&(yield yt.setOpen(!1,!1))}return ge._setOpen(je,gt)});return function(je,gt,yt){return ue.apply(this,arguments)}}(),hn=()=>Ve(ue=>ue._isOpen),Gn=()=>at.map(ue=>ue.el),Gt=()=>at.some(ue=>ue.isAnimating),Ve=ue=>{const ge=at.find(ue);if(void 0!==ge)return ge.el},ae=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ue=>new Promise(ge=>(0,Q.c)(ue,ge))));return Pe("reveal",ye),Pe("push",Oe),Pe("overlay",We),null==h.d||h.d.addEventListener("ionBackButton",ue=>{const ge=hn();ge&&ue.detail.register(F.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:Pe,get:ke,getMenus:tt,getOpen:Je,isEnabled:we,swipeGesture:It,isAnimating:Ot,isOpen:Ee,enable:Mt,toggle:st,close:rt,open:mt,_getOpenSync:hn,_createAnimation:(ue,ge)=>{const je=Ke.get(ue);if(!je)throw new Error("animation not registered");return je(ge)},_register:ue=>{at.indexOf(ue)<0&&at.push(ue)},_unregister:ue=>{const ge=at.indexOf(ue);ge>-1&&at.splice(ge,1)},_setOpen:tn}})()},9483:(Cn,it,O)=>{"use strict";O.d(it,{a:()=>ye,b:()=>Gn,c:()=>F,i:()=>Gt});var c=O(4261);class h{constructor(){this.m=new Map}reset(ae){this.m=new Map(Object.entries(ae))}get(ae,ue){const ge=this.m.get(ae);return void 0!==ge?ge:ue}getBoolean(ae,ue=!1){const ge=this.m.get(ae);return void 0===ge?ue:"string"==typeof ge?"true"===ge:!!ge}getNumber(ae,ue){const ge=parseFloat(this.m.get(ae));return isNaN(ge)?void 0!==ue?ue:NaN:ge}set(ae,ue){this.m.set(ae,ue)}}const F=new h,We="ionic-persist-config",ye=(Ve,ae)=>("string"==typeof Ve&&(ae=Ve,Ve=void 0),(Ve=>ze(Ve))(Ve).includes(ae)),ze=(Ve=window)=>{if(typeof Ve>"u")return[];Ve.Ionic=Ve.Ionic||{};let ae=Ve.Ionic.platforms;return null==ae&&(ae=Ve.Ionic.platforms=Qe(Ve),ae.forEach(ue=>Ve.document.documentElement.classList.add(`plt-${ue}`))),ae},Qe=Ve=>{const ae=F.get("platform");return Object.keys(An).filter(ue=>{const ge=null==ae?void 0:ae[ue];return"function"==typeof ge?ge(Ve):An[ue](Ve)})},at=Ve=>!!(kt(Ve,/iPad/i)||kt(Ve,/Macintosh/i)&&we(Ve)),st=Ve=>kt(Ve,/android|sink/i),we=Ve=>tn(Ve,"(any-pointer:coarse)"),Je=Ve=>tt(Ve)||Ot(Ve),tt=Ve=>!!(Ve.cordova||Ve.phonegap||Ve.PhoneGap),Ot=Ve=>{const ae=Ve.Capacitor;return!(null==ae||!ae.isNative)},kt=(Ve,ae)=>ae.test(Ve.navigator.userAgent),tn=(Ve,ae)=>{var ue;return null===(ue=Ve.matchMedia)||void 0===ue?void 0:ue.call(Ve,ae).matches},An={ipad:at,iphone:Ve=>kt(Ve,/iPhone/i),ios:Ve=>kt(Ve,/iPhone|iPod/i)||at(Ve),android:st,phablet:Ve=>{const ae=Ve.innerWidth,ue=Ve.innerHeight,ge=Math.min(ae,ue),je=Math.max(ae,ue);return ge>390&&ge<520&&je>620&&je<800},tablet:Ve=>{const ae=Ve.innerWidth,ue=Ve.innerHeight,ge=Math.min(ae,ue),je=Math.max(ae,ue);return at(Ve)||(Ve=>st(Ve)&&!kt(Ve,/mobile/i))(Ve)||ge>460&&ge<820&&je>780&&je<1400},cordova:tt,capacitor:Ot,electron:Ve=>kt(Ve,/electron/i),pwa:Ve=>{var ae;return!!(null!==(ae=Ve.matchMedia)&&void 0!==ae&&ae.call(Ve,"(display-mode: standalone)").matches||Ve.navigator.standalone)},mobile:we,mobileweb:Ve=>we(Ve)&&!Je(Ve),desktop:Ve=>!we(Ve),hybrid:Je};let hn;const Gn=Ve=>Ve&&(0,c.g)(Ve)||hn,Gt=(Ve={})=>{if(typeof window>"u")return;const ae=window.document,ue=window,ge=ue.Ionic=ue.Ionic||{},je={};Ve._ael&&(je.ael=Ve._ael),Ve._rel&&(je.rel=Ve._rel),Ve._ce&&(je.ce=Ve._ce),(0,c.a)(je);const gt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ve=>{try{const ae=Ve.sessionStorage.getItem(We);return null!==ae?JSON.parse(ae):{}}catch{return{}}})(ue)),{persistConfig:!1}),ge.config),(Ve=>{const ae={};return Ve.location.search.slice(1).split("&").map(ue=>ue.split("=")).map(([ue,ge])=>{try{return[decodeURIComponent(ue),decodeURIComponent(ge)]}catch{return["",""]}}).filter(([ue])=>((Ve,ae)=>Ve.substr(0,ae.length)===ae)(ue,"ionic:")).map(([ue,ge])=>[ue.slice(6),ge]).forEach(([ue,ge])=>{ae[ue]=ge}),ae})(ue)),Ve);F.reset(gt),F.getBoolean("persistConfig")&&((Ve,ae)=>{try{Ve.sessionStorage.setItem(We,JSON.stringify(ae))}catch{return}})(ue,gt),ze(ue),ge.config=F,ge.mode=hn=F.get("mode",ae.documentElement.getAttribute("mode")||(ye(ue,"ios")?"ios":"md")),F.set("mode",hn),ae.documentElement.setAttribute("mode",hn),ae.documentElement.classList.add(hn),F.getBoolean("_testing")&&F.set("animated",!1);const yt=Wt=>{var Lt;return null===(Lt=Wt.tagName)||void 0===Lt?void 0:Lt.startsWith("ION-")},ft=Wt=>["ios","md"].includes(Wt);(0,c.c)(Wt=>{for(;Wt;){const Lt=Wt.mode||Wt.getAttribute("mode");if(Lt){if(ft(Lt))return Lt;yt(Wt)&&console.warn('Invalid ionic mode: "'+Lt+'", expected: "ios" or "md"')}Wt=Wt.parentElement}return hn})}},5022:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{iosTransitionAnimation:()=>Ke,shadow:()=>xe});var c=O(9986),h=O(3604);O(8476),O(9483),O(4261);const Ae=mt=>document.querySelector(`${mt}.ion-cloned-element`),xe=mt=>mt.shadowRoot||mt,We=mt=>{const rt="ION-TABS"===mt.tagName?mt:mt.querySelector("ion-tabs"),st="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Mt=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Mt?Mt.querySelector(st):null}return mt.querySelector(st)},Oe=(mt,rt)=>{const st="ION-TABS"===mt.tagName?mt:mt.querySelector("ion-tabs");let Mt=[];if(null!=st){const It=st.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=It&&(Mt=It.querySelectorAll("ion-buttons"))}else Mt=mt.querySelectorAll("ion-buttons");for(const It of Mt){const Ee=It.closest("ion-header"),we=Ee&&!Ee.classList.contains("header-collapse-condense-inactive"),ke=It.querySelector("ion-back-button"),Je=It.classList.contains("buttons-collapse");if(null!==ke&&("start"===It.slot||""===It.slot)&&(Je&&we&&rt||!Je))return ke}return null},ze=(mt,rt,st,Mt,It,Ee,we,ke,Je)=>{var tt,Ot;const Pe=rt?`calc(100% - ${It.right+4}px)`:It.left-4+"px",pt=rt?"right":"left",kt=rt?"left":"right",tn=rt?"right":"left";let An=1,hn=1,Gn=`scale(${hn})`;const Gt="scale(1)";if(Ee&&we){const qe=(null===(tt=Ee.textContent)||void 0===tt?void 0:tt.trim())===(null===(Ot=ke.textContent)||void 0===Ot?void 0:Ot.trim());An=Je.width/we.width,hn=(Je.height-at)/we.height,Gn=qe?`scale(${An}, ${hn})`:`scale(${hn})`}const ae=xe(Mt).querySelector("ion-icon").getBoundingClientRect(),ue=rt?ae.width/2-(ae.right-It.right)+"px":It.left-ae.width/2+"px",ge=rt?`-${window.innerWidth-It.right}px`:`${It.left}px`,je=`${Je.top}px`,gt=`${It.top}px`,Wt=st?[{offset:0,transform:`translate3d(${ge}, ${gt}, 0)`},{offset:1,transform:`translate3d(${ue}, ${je}, 0)`}]:[{offset:0,transform:`translate3d(${ue}, ${je}, 0)`},{offset:1,transform:`translate3d(${ge}, ${gt}, 0)`}],Fn=st?[{offset:0,opacity:1,transform:Gt},{offset:1,opacity:0,transform:Gn}]:[{offset:0,opacity:0,transform:Gn},{offset:1,opacity:1,transform:Gt}],Ht=st?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],wn=(0,c.c)(),Jt=(0,c.c)(),Dt=(0,c.c)(),bn=Ae("ion-back-button"),ot=xe(bn).querySelector(".button-text"),Le=xe(bn).querySelector("ion-icon");bn.text=Mt.text,bn.mode=Mt.mode,bn.icon=Mt.icon,bn.color=Mt.color,bn.disabled=Mt.disabled,bn.style.setProperty("display","block"),bn.style.setProperty("position","fixed"),Jt.addElement(Le),wn.addElement(ot),Dt.addElement(bn),Dt.beforeStyles({position:"absolute",top:"0px",[tn]:"0px"}).beforeAddWrite(()=>{Mt.style.setProperty("display","none"),bn.style.setProperty(pt,Pe)}).afterAddWrite(()=>{Mt.style.setProperty("display",""),bn.style.setProperty("display","none"),bn.style.removeProperty(pt)}).keyframes(Wt),wn.beforeStyles({"transform-origin":`${pt} top`}).keyframes(Fn),Jt.beforeStyles({"transform-origin":`${kt} center`}).keyframes(Ht),mt.addAnimation([wn,Jt,Dt])},Qe=(mt,rt,st,Mt,It,Ee,we,ke,Je)=>{var tt,Ot;const Pe=rt?"right":"left",pt=rt?`calc(100% - ${It.right}px)`:`${It.left}px`,tn=`${It.top}px`;let hn=rt?`-${window.innerWidth-we.right-8}px`:`${we.x+8}px`,Gn=.5;const Gt="scale(1)";let Ve=`scale(${Gn})`;if(ke&&Je){hn=rt?`-${window.innerWidth-Je.right-8}px`:Je.x-8+"px";const Lt=(null===(tt=ke.textContent)||void 0===tt?void 0:tt.trim())===(null===(Ot=Mt.textContent)||void 0===Ot?void 0:Ot.trim());Gn=Je.height/(Ee.height-at),Ve=Lt?`scale(${Je.width/Ee.width}, ${Gn})`:`scale(${Gn})`}const ge=we.top+we.height/2-It.height*Gn/2+"px",yt=st?[{offset:0,opacity:0,transform:`translate3d(${hn}, ${ge}, 0) ${Ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${tn}, 0) ${Gt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${tn}, 0) ${Gt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${hn}, ${ge}, 0) ${Ve}`}],ft=Ae("ion-title"),Wt=(0,c.c)();ft.innerText=Mt.innerText,ft.size=Mt.size,ft.color=Mt.color,Wt.addElement(ft),Wt.beforeStyles({"transform-origin":`${Pe} top`,height:`${It.height}px`,display:"",position:"relative",[Pe]:pt}).beforeAddWrite(()=>{Mt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Mt.style.setProperty("opacity",""),ft.style.setProperty("display","none")}).keyframes(yt),mt.addAnimation(Wt)},Ke=(mt,rt)=>{var st;try{const Mt="cubic-bezier(0.32,0.72,0,1)",It="opacity",Ee="transform",we="0%",Je="rtl"===mt.ownerDocument.dir,tt=Je?"-99.5%":"99.5%",Ot=Je?"33%":"-33%",Pe=rt.enteringEl,pt=rt.leavingEl,kt="back"===rt.direction,tn=Pe.querySelector(":scope > ion-content"),An=Pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),hn=Pe.querySelectorAll(":scope > ion-header > ion-toolbar"),Gn=(0,c.c)(),Gt=(0,c.c)();if(Gn.addElement(Pe).duration((null!==(st=rt.duration)&&void 0!==st?st:0)||540).easing(rt.easing||Mt).fill("both").beforeRemoveClass("ion-page-invisible"),pt&&null!=mt){const ge=(0,c.c)();ge.addElement(mt),Gn.addAnimation(ge)}if(tn||0!==hn.length||0!==An.length?(Gt.addElement(tn),Gt.addElement(An)):Gt.addElement(Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Gn.addAnimation(Gt),kt?Gt.beforeClearStyles([It]).fromTo("transform",`translateX(${Ot})`,`translateX(${we})`).fromTo(It,.8,1):Gt.beforeClearStyles([It]).fromTo("transform",`translateX(${tt})`,`translateX(${we})`),tn){const ge=xe(tn).querySelector(".transition-effect");if(ge){const je=ge.querySelector(".transition-cover"),gt=ge.querySelector(".transition-shadow"),yt=(0,c.c)(),ft=(0,c.c)(),Wt=(0,c.c)();yt.addElement(ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ft.addElement(je).beforeClearStyles([It]).fromTo(It,0,.1),Wt.addElement(gt).beforeClearStyles([It]).fromTo(It,.03,.7),yt.addAnimation([ft,Wt]),Gt.addAnimation([yt])}}const Ve=Pe.querySelector("ion-header.header-collapse-condense"),{forward:ae,backward:ue}=((mt,rt,st,Mt,It)=>{const Ee=Oe(Mt,st),we=We(It),ke=We(Mt),Je=Oe(It,st),tt=null!==Ee&&null!==we&&!st,Ot=null!==ke&&null!==Je&&st;if(tt){const Pe=we.getBoundingClientRect(),pt=Ee.getBoundingClientRect(),kt=xe(Ee).querySelector(".button-text"),tn=null==kt?void 0:kt.getBoundingClientRect(),hn=xe(we).querySelector(".toolbar-title").getBoundingClientRect();Qe(mt,rt,st,we,Pe,hn,pt,kt,tn),ze(mt,rt,st,Ee,pt,kt,tn,we,hn)}else if(Ot){const Pe=ke.getBoundingClientRect(),pt=Je.getBoundingClientRect(),kt=xe(Je).querySelector(".button-text"),tn=null==kt?void 0:kt.getBoundingClientRect(),hn=xe(ke).querySelector(".toolbar-title").getBoundingClientRect();Qe(mt,rt,st,ke,Pe,hn,pt,kt,tn),ze(mt,rt,st,Je,pt,kt,tn,ke,hn)}return{forward:tt,backward:Ot}})(Gn,Je,kt,Pe,pt);if(hn.forEach(ge=>{const je=(0,c.c)();je.addElement(ge),Gn.addAnimation(je);const gt=(0,c.c)();gt.addElement(ge.querySelector("ion-title"));const yt=(0,c.c)(),ft=Array.from(ge.querySelectorAll("ion-buttons,[menuToggle]")),Wt=ge.closest("ion-header"),Lt=null==Wt?void 0:Wt.classList.contains("header-collapse-condense-inactive");let Ft;Ft=ft.filter(kt?wn=>{const Jt=wn.classList.contains("buttons-collapse");return Jt&&!Lt||!Jt}:wn=>!wn.classList.contains("buttons-collapse")),yt.addElement(Ft);const Fn=(0,c.c)();Fn.addElement(ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const xt=(0,c.c)();xt.addElement(xe(ge).querySelector(".toolbar-background"));const kn=(0,c.c)(),Ht=ge.querySelector("ion-back-button");if(Ht&&kn.addElement(Ht),je.addAnimation([gt,yt,Fn,xt,kn]),yt.fromTo(It,.01,1),Fn.fromTo(It,.01,1),kt)Lt||gt.fromTo("transform",`translateX(${Ot})`,`translateX(${we})`).fromTo(It,.01,1),Fn.fromTo("transform",`translateX(${Ot})`,`translateX(${we})`),kn.fromTo(It,.01,1);else if(Ve||gt.fromTo("transform",`translateX(${tt})`,`translateX(${we})`).fromTo(It,.01,1),Fn.fromTo("transform",`translateX(${tt})`,`translateX(${we})`),xt.beforeClearStyles([It,"transform"]),(null==Wt?void 0:Wt.translucent)?xt.fromTo("transform",Je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):xt.fromTo(It,.01,"var(--opacity)"),ae||kn.fromTo(It,.01,1),Ht&&!ae){const Jt=(0,c.c)();Jt.addElement(xe(Ht).querySelector(".button-text")).fromTo("transform",Je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(Jt)}}),pt){const ge=(0,c.c)(),je=pt.querySelector(":scope > ion-content"),gt=pt.querySelectorAll(":scope > ion-header > ion-toolbar"),yt=pt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==gt.length||0!==yt.length?(ge.addElement(je),ge.addElement(yt)):ge.addElement(pt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Gn.addAnimation(ge),kt){ge.beforeClearStyles([It]).fromTo("transform",`translateX(${we})`,Je?"translateX(-100%)":"translateX(100%)");const ft=(0,h.g)(pt);Gn.afterAddWrite(()=>{"normal"===Gn.getDirection()&&ft.style.setProperty("display","none")})}else ge.fromTo("transform",`translateX(${we})`,`translateX(${Ot})`).fromTo(It,1,.8);if(je){const ft=xe(je).querySelector(".transition-effect");if(ft){const Wt=ft.querySelector(".transition-cover"),Lt=ft.querySelector(".transition-shadow"),Ft=(0,c.c)(),Fn=(0,c.c)(),xt=(0,c.c)();Ft.addElement(ft).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Fn.addElement(Wt).beforeClearStyles([It]).fromTo(It,.1,0),xt.addElement(Lt).beforeClearStyles([It]).fromTo(It,.7,.03),Ft.addAnimation([Fn,xt]),ge.addAnimation([Ft])}}gt.forEach(ft=>{const Wt=(0,c.c)();Wt.addElement(ft);const Lt=(0,c.c)();Lt.addElement(ft.querySelector("ion-title"));const Ft=(0,c.c)(),Fn=ft.querySelectorAll("ion-buttons,[menuToggle]"),xt=ft.closest("ion-header"),kn=null==xt?void 0:xt.classList.contains("header-collapse-condense-inactive"),Ht=Array.from(Fn).filter(Le=>{const qe=Le.classList.contains("buttons-collapse");return qe&&!kn||!qe});Ft.addElement(Ht);const wn=(0,c.c)(),Jt=ft.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jt.length>0&&wn.addElement(Jt);const Dt=(0,c.c)();Dt.addElement(xe(ft).querySelector(".toolbar-background"));const bn=(0,c.c)(),ot=ft.querySelector("ion-back-button");if(ot&&bn.addElement(ot),Wt.addAnimation([Lt,Ft,wn,bn,Dt]),Gn.addAnimation(Wt),bn.fromTo(It,.99,0),Ft.fromTo(It,.99,0),wn.fromTo(It,.99,0),kt){if(kn||Lt.fromTo("transform",`translateX(${we})`,Je?"translateX(-100%)":"translateX(100%)").fromTo(It,.99,0),wn.fromTo("transform",`translateX(${we})`,Je?"translateX(-100%)":"translateX(100%)"),Dt.beforeClearStyles([It,"transform"]),(null==xt?void 0:xt.translucent)?Dt.fromTo("transform","translateX(0px)",Je?"translateX(-100%)":"translateX(100%)"):Dt.fromTo(It,"var(--opacity)",0),ot&&!ue){const qe=(0,c.c)();qe.addElement(xe(ot).querySelector(".button-text")).fromTo("transform",`translateX(${we})`,`translateX(${(Je?-124:124)+"px"})`),Wt.addAnimation(qe)}}else kn||Lt.fromTo("transform",`translateX(${we})`,`translateX(${Ot})`).fromTo(It,.99,0).afterClearStyles([Ee,It]),wn.fromTo("transform",`translateX(${we})`,`translateX(${Ot})`).afterClearStyles([Ee,It]),bn.afterClearStyles([It]),Lt.afterClearStyles([It]),Ft.afterClearStyles([It])})}return Gn}catch(Mt){throw Mt}},at=10},3615:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{mdTransitionAnimation:()=>ee});var c=O(9986),h=O(3604);O(8476),O(9483),O(4261);const ee=(Ae,xe)=>{var We,Oe,ye;const Ke="back"===xe.direction,mt=xe.leavingEl,rt=(0,h.g)(xe.enteringEl),st=rt.querySelector("ion-toolbar"),Mt=(0,c.c)();if(Mt.addElement(rt).fill("both").beforeRemoveClass("ion-page-invisible"),Ke?Mt.duration((null!==(We=xe.duration)&&void 0!==We?We:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Mt.duration((null!==(Oe=xe.duration)&&void 0!==Oe?Oe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),st){const It=(0,c.c)();It.addElement(st),Mt.addAnimation(It)}if(mt&&Ke){Mt.duration((null!==(ye=xe.duration)&&void 0!==ye?ye:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const It=(0,c.c)();It.addElement((0,h.g)(mt)).onFinish(Ee=>{1===Ee&&It.elements.length>0&&It.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Mt.addAnimation(It)}return Mt}},9440:(Cn,it,O)=>{"use strict";O.d(it,{B:()=>Fn,F:()=>bn,G:()=>xt,O:()=>kn,a:()=>rt,b:()=>st,c:()=>we,d:()=>Ht,e:()=>wn,f:()=>ae,g:()=>ge,h:()=>yt,i:()=>Wt,j:()=>Je,k:()=>tt,l:()=>Mt,m:()=>It,n:()=>Oe,o:()=>Gt,q:()=>ye,s:()=>Ft});var c=O(467),h=O(8476),F=O(4920),_e=O(7192),Q=O(9483),ee=O(8621),Ae=O(1970),xe=O(4929);const We='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Oe=(ot,Le)=>{const qe=ot.querySelector(We);ze(qe,null!=Le?Le:ot)},ye=(ot,Le)=>{const qe=Array.from(ot.querySelectorAll(We));ze(qe.length>0?qe[qe.length-1]:null,null!=Le?Le:ot)},ze=(ot,Le)=>{let qe=ot;const un=null==ot?void 0:ot.shadowRoot;un&&(qe=un.querySelector(We)||ot),qe?(0,F.f)(qe):Le.focus()};let Qe=0,Ke=0;const at=new WeakMap,mt=ot=>({create:Le=>Ot(ot,Le),dismiss:(Le,qe,un)=>An(document,Le,qe,ot,un),getTop:()=>(0,c.A)(function*(){return Gt(document,ot)})()}),rt=mt("ion-alert"),st=mt("ion-action-sheet"),Mt=mt("ion-loading"),It=mt("ion-modal"),we=mt("ion-popover"),Je=ot=>{typeof document<"u"&&tn(document);const Le=Qe++;ot.overlayIndex=Le},tt=ot=>(ot.hasAttribute("id")||(ot.id="ion-overlay-"+ ++Ke),ot.id),Ot=(ot,Le)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ot).then(()=>{const qe=document.createElement(ot);return qe.classList.add("overlay-hidden"),Object.assign(qe,Object.assign(Object.assign({},Le),{hasController:!0})),je(document).appendChild(qe),new Promise(un=>(0,F.c)(qe,un))}):Promise.resolve(),pt=(ot,Le)=>{let qe=ot;const un=null==ot?void 0:ot.shadowRoot;un&&(qe=un.querySelector(We)||ot),qe?(0,F.f)(qe):Le.focus()},tn=ot=>{0===Qe&&(Qe=1,ot.addEventListener("focus",Le=>{((ot,Le)=>{const qe=Gt(Le,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),un=ot.target;qe&&un&&!qe.classList.contains(bn)&&(qe.shadowRoot?(()=>{if(qe.contains(un))qe.lastFocus=un;else if("ION-TOAST"===un.tagName)pt(qe.lastFocus,qe);else{const sr=qe.lastFocus;Oe(qe),sr===Le.activeElement&&ye(qe),qe.lastFocus=Le.activeElement}})():(()=>{if(qe===un)qe.lastFocus=void 0;else if("ION-TOAST"===un.tagName)pt(qe.lastFocus,qe);else{const sr=(0,F.g)(qe);if(!sr.contains(un))return;const Un=sr.querySelector(".ion-overlay-wrapper");if(!Un)return;if(Un.contains(un)||un===sr.querySelector("ion-backdrop"))qe.lastFocus=un;else{const en=qe.lastFocus;Oe(Un,qe),en===Le.activeElement&&ye(Un,qe),qe.lastFocus=Le.activeElement}}})())})(Le,ot)},!0),ot.addEventListener("ionBackButton",Le=>{const qe=Gt(ot);null!=qe&&qe.backdropDismiss&&Le.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>{qe.dismiss(void 0,Fn)})}),(0,_e.shouldUseCloseWatcher)()||ot.addEventListener("keydown",Le=>{if("Escape"===Le.key){const qe=Gt(ot);null!=qe&&qe.backdropDismiss&&qe.dismiss(void 0,Fn)}}))},An=(ot,Le,qe,un,jn)=>{const fr=Gt(ot,un,jn);return fr?fr.dismiss(Le,qe):Promise.reject("overlay does not exist")},Gn=(ot,Le)=>((ot,Le)=>(void 0===Le&&(Le="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(ot.querySelectorAll(Le)).filter(qe=>qe.overlayIndex>0)))(ot,Le).filter(qe=>!(ot=>ot.classList.contains("overlay-hidden"))(qe)),Gt=(ot,Le,qe)=>{const un=Gn(ot,Le);return void 0===qe?un[un.length-1]:un.find(jn=>jn.id===qe)},Ve=(ot=!1)=>{const qe=je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");qe&&(ot?qe.setAttribute("aria-hidden","true"):qe.removeAttribute("aria-hidden"))},ae=function(){var ot=(0,c.A)(function*(Le,qe,un,jn,fr){var sr,Un;if(Le.presented)return;Ve(!0),document.body.classList.add(Ae.B),Jt(Le.el),Le.presented=!0,Le.willPresent.emit(),null===(sr=Le.willPresentShorthand)||void 0===sr||sr.emit();const en=(0,Q.b)(Le),yr=Le.enterAnimation?Le.enterAnimation:Q.c.get(qe,"ios"===en?un:jn);(yield gt(Le,yr,Le.el,fr))&&(Le.didPresent.emit(),null===(Un=Le.didPresentShorthand)||void 0===Un||Un.emit()),"ION-TOAST"!==Le.el.tagName&&ue(Le.el),Le.keyboardClose&&(null===document.activeElement||!Le.el.contains(document.activeElement))&&Le.el.focus(),Le.el.removeAttribute("aria-hidden")});return function(qe,un,jn,fr,sr){return ot.apply(this,arguments)}}(),ue=function(){var ot=(0,c.A)(function*(Le){let qe=document.activeElement;if(!qe)return;const un=null==qe?void 0:qe.shadowRoot;un&&(qe=un.querySelector(We)||qe),yield Le.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&qe.focus()});return function(qe){return ot.apply(this,arguments)}}(),ge=function(){var ot=(0,c.A)(function*(Le,qe,un,jn,fr,sr,Un){var en,yr;if(!Le.presented)return!1;void 0!==h.d&&1===Gn(h.d).length&&(Ve(!1),document.body.classList.remove(Ae.B)),Le.presented=!1;try{Le.el.style.setProperty("pointer-events","none"),Le.willDismiss.emit({data:qe,role:un}),null===(en=Le.willDismissShorthand)||void 0===en||en.emit({data:qe,role:un});const gr=(0,Q.b)(Le),hr=Le.leaveAnimation?Le.leaveAnimation:Q.c.get(jn,"ios"===gr?fr:sr);un!==xt&&(yield gt(Le,hr,Le.el,Un)),Le.didDismiss.emit({data:qe,role:un}),null===(yr=Le.didDismissShorthand)||void 0===yr||yr.emit({data:qe,role:un}),(at.get(Le)||[]).forEach(_i=>_i.destroy()),at.delete(Le),Le.el.classList.add("overlay-hidden"),Le.el.style.removeProperty("pointer-events"),void 0!==Le.el.lastFocus&&(Le.el.lastFocus=void 0)}catch(gr){console.error(gr)}return Le.el.remove(),Dt(),!0});return function(qe,un,jn,fr,sr,Un,en){return ot.apply(this,arguments)}}(),je=ot=>ot.querySelector("ion-app")||ot.body,gt=function(){var ot=(0,c.A)(function*(Le,qe,un,jn){un.classList.remove("overlay-hidden");const sr=qe(Le.el,jn);(!Le.animated||!Q.c.getBoolean("animated",!0))&&sr.duration(0),Le.keyboardClose&&sr.beforeAddWrite(()=>{const en=un.ownerDocument.activeElement;null!=en&&en.matches("input,ion-input, ion-textarea")&&en.blur()});const Un=at.get(Le)||[];return at.set(Le,[...Un,sr]),yield sr.play(),!0});return function(qe,un,jn,fr){return ot.apply(this,arguments)}}(),yt=(ot,Le)=>{let qe;const un=new Promise(jn=>qe=jn);return ft(ot,Le,jn=>{qe(jn.detail)}),un},ft=(ot,Le,qe)=>{const un=jn=>{(0,F.b)(ot,Le,un),qe(jn)};(0,F.a)(ot,Le,un)},Wt=ot=>"cancel"===ot||ot===Fn,Lt=ot=>ot(),Ft=(ot,Le)=>{if("function"==typeof ot)return Q.c.get("_zoneGate",Lt)(()=>{try{return ot(Le)}catch(un){throw un}})},Fn="backdrop",xt="gesture",kn=39,Ht=ot=>{let qe,Le=!1;const un=(0,ee.C)(),jn=(Un=!1)=>{if(qe&&!Un)return{delegate:qe,inline:Le};const{el:en,hasController:yr,delegate:pr}=ot;return Le=null!==en.parentNode&&!yr,qe=Le?pr||un:pr,{inline:Le,delegate:qe}};return{attachViewToDom:function(){var Un=(0,c.A)(function*(en){const{delegate:yr}=jn(!0);if(yr)return yield yr.attachViewToDom(ot.el,en);const{hasController:pr}=ot;if(pr&&void 0!==en)throw new Error("framework delegate is missing");return null});return function(yr){return Un.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Un}=jn();Un&&void 0!==ot.el&&Un.removeViewFromDom(ot.el.parentElement,ot.el)}}},wn=()=>{let ot;const Le=()=>{ot&&(ot(),ot=void 0)};return{addClickListener:(un,jn)=>{Le();const fr=void 0!==jn?document.getElementById(jn):null;fr?ot=((Un,en)=>{const yr=()=>{en.present()};return Un.addEventListener("click",yr),()=>{Un.removeEventListener("click",yr)}})(fr,un):(0,xe.p)(`A trigger element with the ID "${jn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,un)},removeClickListener:Le}},Jt=ot=>{var Le;if(void 0===h.d)return;const qe=Gn(h.d);for(let un=qe.length-1;un>=0;un--){const jn=qe[un],fr=null!==(Le=qe[un+1])&&void 0!==Le?Le:ot;(fr.hasAttribute("aria-hidden")||"ION-TOAST"!==fr.tagName)&&jn.setAttribute("aria-hidden","true")}},Dt=()=>{if(void 0===h.d)return;const ot=Gn(h.d);for(let Le=ot.length-1;Le>=0;Le--){const qe=ot[Le];if(qe.removeAttribute("aria-hidden"),"ION-TOAST"!==qe.tagName)break}},bn="ion-disable-focus-trap"},5709:(Cn,it,O)=>{"use strict";O.d(it,{u:()=>rt});var c=O(4412),h=O(8455),F=O(7673),_e=O(6354),Q=O(5558),ee=O(8141),Ae=O(6697);class xe{localId(Mt,It,Ee,we,ke,Je,tt){throw new Error("Method not implemented.")}constructor(Mt,It,Ee,we,ke,Je,tt){this.id=Mt,this.firstName=It,this.lastName=Ee,this.email=we,this._token=ke,this.tokenExpirationDate=Je,this.role=tt}get token(){return!this.tokenExpirationDate||this.tokenExpirationDate<=new Date?null:this._token}get tokenDuration(){return this.token?this.tokenExpirationDate.getTime()-(new Date).getTime():0}}var We=O(5504),Ke=(O(7852),O(1076),O(8041),O(1362),O(3953)),at=O(1182),mt=O(6598);let rt=(()=>{var st;class Mt{constructor(Ee,we){this.afAuth=Ee,this.firestore=we,this._user=new c.t(null)}get userIsAuthenticated(){return this._user.asObservable().pipe((0,_e.T)(Ee=>!!Ee&&!!Ee.token))}get userId(){return this._user.asObservable().pipe((0,_e.T)(Ee=>Ee?Ee.id:null))}get token(){return this._user.asObservable().pipe((0,_e.T)(Ee=>Ee?Ee.token:null))}get user(){return this._user.asObservable()}signup(Ee,we,ke,Je){return(0,h.H)(this.afAuth.createUserWithEmailAndPassword(Ee,we)).pipe((0,Q.n)(tt=>{if(!tt.user)throw new Error("User registration failed");const Ot=tt.user.uid,Pe={firstName:ke,lastName:Je,email:Ee,userId:Ot,role:"user"};return(0,h.H)(this.firestore.collection("users").doc(Ot).set(Pe)).pipe((0,Q.n)(()=>(0,h.H)(tt.user.getIdToken())),(0,_e.T)(pt=>{if(!pt)throw new Error("Token retrieval failed");const kt=new Date((new Date).getTime()+36e5),tn=new xe(Ot,ke,Je,Ee,pt,kt,"user");return this._user.next(tn),this.storeAuthData(Ot,pt,kt.toISOString(),Ee,ke,Je,"user"),tn}))}))}login(Ee,we){return(0,h.H)(this.afAuth.signInWithEmailAndPassword(Ee,we)).pipe((0,Q.n)(ke=>{if(!ke.user)throw new Error("Login failed");const Je=ke.user.uid;return(0,h.H)(ke.user.getIdToken()).pipe((0,Q.n)(tt=>{if(!tt)throw new Error("Token retrieval failed");const Ot=new Date((new Date).getTime()+36e5);return this.firestore.collection("users").doc(Je).get().pipe((0,_e.T)(Pe=>{if(Pe.exists){const pt=Pe.data(),kt=new xe(Je,pt.firstName,pt.lastName,pt.email,tt,Ot,pt.role||"user");return this._user.next(kt),this.storeAuthData(Je,tt,Ot.toISOString(),pt.email,pt.firstName,pt.lastName,pt.role||"user"),kt}throw new Error("User data not found in Firestore")}))}))}))}loginWithGoogle(){const Ee=new We.X;return(0,h.H)(this.afAuth.signInWithPopup(Ee)).pipe((0,Q.n)(we=>{const ke=we.user;if(!ke)throw new Error("User not found");const Je=ke.uid;return(0,h.H)(ke.getIdToken()).pipe((0,Q.n)(tt=>{if(!tt)throw new Error("Token retrieval failed");const Ot=new Date((new Date).getTime()+36e5),Pe=ke.displayName||"",[pt,kt]=Pe.split(" ")||["FirstName","LastName"],tn={email:ke.email,firstName:pt,lastName:kt,userId:Je,role:"user"};return(0,h.H)(this.firestore.collection("users").doc(Je).set(tn)).pipe((0,_e.T)(()=>{const An=new xe(Je,pt,kt,ke.email,tt,Ot,"user");return this._user.next(An),this.storeAuthData(An.id,tt,Ot.toISOString(),An.email,pt,kt,"user"),An}))}))}))}autoLogin(){const Ee=localStorage.getItem("authData");if(!Ee)return(0,F.of)(!1);const we=JSON.parse(Ee),ke=new Date(we.tokenExpirationDate);if(ke<=new Date)return(0,F.of)(!1);const Je=new xe(we.userId,we.firstName,we.lastName,we.email,we.token,ke,we.role);return this._user.next(Je),this.autoLogout(Je.tokenDuration),(0,F.of)(!0)}logout(){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer),this._user.next(null),localStorage.removeItem("authData"),this.afAuth.signOut()}updateAccountDetails(Ee,we,ke,Je){return(0,h.H)(this.firestore.collection("users").doc(Ee).update({firstName:we,lastName:ke,email:Je})).pipe((0,ee.M)(()=>{this._user.pipe((0,Ae.s)(1)).subscribe(tt=>{if(tt){const Ot=new xe(tt.id,we,ke,Je,tt.token,tt.tokenExpirationDate,tt.role);this._user.next(Ot)}})}))}storeAuthData(Ee,we,ke,Je,tt,Ot,Pe){const pt=JSON.stringify({userId:Ee,token:we,tokenExpirationDate:ke,email:Je,firstName:tt,lastName:Ot,role:Pe});localStorage.setItem("authData",pt)}autoLogout(Ee){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer),this.activeLogoutTimer=setTimeout(()=>{this.logout()},Ee)}ngOnDestroy(){this.activeLogoutTimer&&clearTimeout(this.activeLogoutTimer)}}return(st=Mt).\u0275fac=function(Ee){return new(Ee||st)(Ke.KVO(at.DS),Ke.KVO(mt.Qe))},st.\u0275prov=Ke.jDH({token:st,factory:st.\u0275fac,providedIn:"root"}),Mt})()},1346:(Cn,it,O)=>{"use strict";O.d(it,{w:()=>Hs});var c=O(467);class F extends Error{constructor(G,A="FunctionsError",b){super(G),this.name=A,this.context=b}}class _e extends F{constructor(G){super("Failed to send a request to the Edge Function","FunctionsFetchError",G)}}class Q extends F{constructor(G){super("Relay Error invoking the Edge Function","FunctionsRelayError",G)}}class ee extends F{constructor(G){super("Edge Function returned a non-2xx status code","FunctionsHttpError",G)}}var Ae=function(re){return re.Any="any",re.ApNortheast1="ap-northeast-1",re.ApNortheast2="ap-northeast-2",re.ApSouth1="ap-south-1",re.ApSoutheast1="ap-southeast-1",re.ApSoutheast2="ap-southeast-2",re.CaCentral1="ca-central-1",re.EuCentral1="eu-central-1",re.EuWest1="eu-west-1",re.EuWest2="eu-west-2",re.EuWest3="eu-west-3",re.SaEast1="sa-east-1",re.UsEast1="us-east-1",re.UsWest1="us-west-1",re.UsWest2="us-west-2",re}(Ae||{});class We{constructor(G,{headers:A={},customFetch:b,region:H=Ae.Any}={}){this.url=G,this.headers=A,this.region=H,this.fetch=(re=>{let G;return G=re||(typeof fetch>"u"?(...A)=>Promise.resolve().then(O.bind(O,5286)).then(({default:b})=>b(...A)):fetch),(...A)=>G(...A)})(b)}setAuth(G){this.headers.Authorization=`Bearer ${G}`}invoke(G,A={}){var b;return function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:H,method:ce,body:be}=A;let At,Ce={},{region:lt}=A;lt||(lt=this.region),lt&&"any"!==lt&&(Ce["x-region"]=lt),be&&(H&&!Object.prototype.hasOwnProperty.call(H,"Content-Type")||!H)&&(typeof Blob<"u"&&be instanceof Blob||be instanceof ArrayBuffer?(Ce["Content-Type"]="application/octet-stream",At=be):"string"==typeof be?(Ce["Content-Type"]="text/plain",At=be):typeof FormData<"u"&&be instanceof FormData?At=be:(Ce["Content-Type"]="application/json",At=JSON.stringify(be)));const dt=yield this.fetch(`${this.url}/${G}`,{method:ce||"POST",headers:Object.assign(Object.assign(Object.assign({},Ce),this.headers),H),body:At}).catch(br=>{throw new _e(br)}),Tn=dt.headers.get("x-relay-error");if(Tn&&"true"===Tn)throw new Q(dt);if(!dt.ok)throw new ee(dt);let ar,Vn=(null!==(b=dt.headers.get("Content-Type"))&&void 0!==b?b:"text/plain").split(";")[0].trim();return ar="application/json"===Vn?yield dt.json():"application/octet-stream"===Vn?yield dt.blob():"text/event-stream"===Vn?dt:"multipart/form-data"===Vn?yield dt.formData():yield dt.text(),{data:ar,error:null}}catch(H){return{data:null,error:H}}})}}var Oe=O(4060);const{PostgrestClient:ye}=Oe,st={"X-Client-Info":"realtime-js/2.10.2"};var we=function(re){return re[re.connecting=0]="connecting",re[re.open=1]="open",re[re.closing=2]="closing",re[re.closed=3]="closed",re}(we||{}),ke=function(re){return re.closed="closed",re.errored="errored",re.joined="joined",re.joining="joining",re.leaving="leaving",re}(ke||{}),Je=function(re){return re.close="phx_close",re.error="phx_error",re.join="phx_join",re.reply="phx_reply",re.leave="phx_leave",re.access_token="access_token",re}(Je||{}),tt=function(re){return re.websocket="websocket",re}(tt||{}),Ot=function(re){return re.Connecting="connecting",re.Open="open",re.Closing="closing",re.Closed="closed",re}(Ot||{});class Pe{constructor(){this.HEADER_LENGTH=1}decode(G,A){return G.constructor===ArrayBuffer?A(this._binaryDecode(G)):A("string"==typeof G?JSON.parse(G):{})}_binaryDecode(G){const A=new DataView(G),b=new TextDecoder;return this._decodeBroadcast(G,A,b)}_decodeBroadcast(G,A,b){const H=A.getUint8(1),ce=A.getUint8(2);let be=this.HEADER_LENGTH+2;const Ce=b.decode(G.slice(be,be+H));be+=H;const lt=b.decode(G.slice(be,be+ce));return be+=ce,{ref:null,topic:Ce,event:lt,payload:JSON.parse(b.decode(G.slice(be,G.byteLength)))}}}class pt{constructor(G,A){this.callback=G,this.timerCalc=A,this.timer=void 0,this.tries=0,this.callback=G,this.timerCalc=A}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt=function(re){return re.abstime="abstime",re.bool="bool",re.date="date",re.daterange="daterange",re.float4="float4",re.float8="float8",re.int2="int2",re.int4="int4",re.int4range="int4range",re.int8="int8",re.int8range="int8range",re.json="json",re.jsonb="jsonb",re.money="money",re.numeric="numeric",re.oid="oid",re.reltime="reltime",re.text="text",re.time="time",re.timestamp="timestamp",re.timestamptz="timestamptz",re.timetz="timetz",re.tsrange="tsrange",re.tstzrange="tstzrange",re}(kt||{});const tn=(re,G,A={})=>{var b;const H=null!==(b=A.skipTypes)&&void 0!==b?b:[];return Object.keys(G).reduce((ce,be)=>(ce[be]=An(be,re,G,H),ce),{})},An=(re,G,A,b)=>{const H=G.find(Ce=>Ce.name===re),ce=null==H?void 0:H.type,be=A[re];return ce&&!b.includes(ce)?hn(ce,be):Gn(be)},hn=(re,G)=>{if("_"===re.charAt(0)){const A=re.slice(1,re.length);return ue(G,A)}switch(re){case kt.bool:return Gt(G);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return Ve(G);case kt.json:case kt.jsonb:return ae(G);case kt.timestamp:return ge(G);default:return Gn(G)}},Gn=re=>re,Gt=re=>{switch(re){case"t":return!0;case"f":return!1;default:return re}},Ve=re=>{if("string"==typeof re){const G=parseFloat(re);if(!Number.isNaN(G))return G}return re},ae=re=>{if("string"==typeof re)try{return JSON.parse(re)}catch(G){return console.log(`JSON parse error: ${G}`),re}return re},ue=(re,G)=>{if("string"!=typeof re)return re;const A=re.length-1;if("{"===re[0]&&"}"===re[A]){let ce;const be=re.slice(1,A);try{ce=JSON.parse("["+be+"]")}catch{ce=be?be.split(","):[]}return ce.map(Ce=>hn(G,Ce))}return re},ge=re=>"string"==typeof re?re.replace(" ","T"):re,je=re=>{let G=re;return G=G.replace(/^ws/i,"http"),G=G.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),G.replace(/\/+$/,"")};class gt{constructor(G,A,b={},H=1e4){this.channel=G,this.event=A,this.payload=b,this.timeout=H,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(G){this.timeout=G,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(G){this.payload=Object.assign(Object.assign({},this.payload),G)}receive(G,A){var b;return this._hasReceived(G)&&A(null===(b=this.receivedResp)||void 0===b?void 0:b.response),this.recHooks.push({status:G,callback:A}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},A=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=A,this._matchReceive(A)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(G,A){this.refEvent&&this.channel._trigger(this.refEvent,{status:G,response:A})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:G,response:A}){this.recHooks.filter(b=>b.status===G).forEach(b=>b.callback(A))}_hasReceived(G){return this.receivedResp&&this.receivedResp.status===G}}class ft{constructor(G,A){this.channel=G,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const b=(null==A?void 0:A.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(b.state,{},H=>{const{onJoin:ce,onLeave:be,onSync:Ce}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ft.syncState(this.state,H,ce,be),this.pendingDiffs.forEach(lt=>{this.state=ft.syncDiff(this.state,lt,ce,be)}),this.pendingDiffs=[],Ce()}),this.channel._on(b.diff,{},H=>{const{onJoin:ce,onLeave:be,onSync:Ce}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(H):(this.state=ft.syncDiff(this.state,H,ce,be),Ce())}),this.onJoin((H,ce,be)=>{this.channel._trigger("presence",{event:"join",key:H,currentPresences:ce,newPresences:be})}),this.onLeave((H,ce,be)=>{this.channel._trigger("presence",{event:"leave",key:H,currentPresences:ce,leftPresences:be})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(G,A,b,H){const ce=this.cloneDeep(G),be=this.transformState(A),Ce={},lt={};return this.map(ce,(At,dt)=>{be[At]||(lt[At]=dt)}),this.map(be,(At,dt)=>{const Tn=ce[At];if(Tn){const Vn=dt.map(hi=>hi.presence_ref),ar=Tn.map(hi=>hi.presence_ref),br=dt.filter(hi=>ar.indexOf(hi.presence_ref)<0),Ni=Tn.filter(hi=>Vn.indexOf(hi.presence_ref)<0);br.length>0&&(Ce[At]=br),Ni.length>0&&(lt[At]=Ni)}else Ce[At]=dt}),this.syncDiff(ce,{joins:Ce,leaves:lt},b,H)}static syncDiff(G,A,b,H){const{joins:ce,leaves:be}={joins:this.transformState(A.joins),leaves:this.transformState(A.leaves)};return b||(b=()=>{}),H||(H=()=>{}),this.map(ce,(Ce,lt)=>{var At;const dt=null!==(At=G[Ce])&&void 0!==At?At:[];if(G[Ce]=this.cloneDeep(lt),dt.length>0){const Tn=G[Ce].map(ar=>ar.presence_ref),Vn=dt.filter(ar=>Tn.indexOf(ar.presence_ref)<0);G[Ce].unshift(...Vn)}b(Ce,dt,lt)}),this.map(be,(Ce,lt)=>{let At=G[Ce];if(!At)return;const dt=lt.map(Tn=>Tn.presence_ref);At=At.filter(Tn=>dt.indexOf(Tn.presence_ref)<0),G[Ce]=At,H(Ce,At,lt),0===At.length&&delete G[Ce]}),G}static map(G,A){return Object.getOwnPropertyNames(G).map(b=>A(b,G[b]))}static transformState(G){return G=this.cloneDeep(G),Object.getOwnPropertyNames(G).reduce((A,b)=>{const H=G[b];return A[b]="metas"in H?H.metas.map(ce=>(ce.presence_ref=ce.phx_ref,delete ce.phx_ref,delete ce.phx_ref_prev,ce)):H,A},{})}static cloneDeep(G){return JSON.parse(JSON.stringify(G))}onJoin(G){this.caller.onJoin=G}onLeave(G){this.caller.onLeave=G}onSync(G){this.caller.onSync=G}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class xt{constructor(G,A={config:{}},b){this.topic=G,this.params=A,this.socket=b,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=G.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},A.config),this.timeout=this.socket.timeout,this.joinPush=new gt(this,Je.join,this.params,this.timeout),this.rejoinTimer=new pt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(H=>H.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(H=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,H),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(H,ce)=>{this._trigger(this._replyEventName(ce),H)}),this.presence=new ft(this),this.broadcastEndpointURL=je(this.socket.endPoint)+"/api/broadcast"}subscribe(G,A=this.timeout){var b,H;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:ce,presence:be,private:Ce}}=this.params;this._onError(dt=>G&&G("CHANNEL_ERROR",dt)),this._onClose(()=>G&&G("CLOSED"));const lt={},At={broadcast:ce,presence:be,postgres_changes:null!==(H=null===(b=this.bindings.postgres_changes)||void 0===b?void 0:b.map(dt=>dt.filter))&&void 0!==H?H:[],private:Ce};this.socket.accessToken&&(lt.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:At},lt)),this.joinedOnce=!0,this._rejoin(A),this.joinPush.receive("ok",({postgres_changes:dt})=>{var Tn;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==dt){const Vn=this.bindings.postgres_changes,ar=null!==(Tn=null==Vn?void 0:Vn.length)&&void 0!==Tn?Tn:0,br=[];for(let Ni=0;Ni<ar;Ni++){const hi=Vn[Ni],{filter:{event:qo,schema:Bo,table:K,filter:x}}=hi,de=dt&&dt[Ni];if(!de||de.event!==qo||de.schema!==Bo||de.table!==K||de.filter!==x)return this.unsubscribe(),void(G&&G("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));br.push(Object.assign(Object.assign({},hi),{id:de.id}))}return this.bindings.postgres_changes=br,void(G&&G("SUBSCRIBED"))}G&&G("SUBSCRIBED")}).receive("error",dt=>{G&&G("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(dt).join(", ")||"error")))}).receive("timeout",()=>{G&&G("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(G,A={}){var b=this;return(0,c.A)(function*(){return yield b.send({type:"presence",event:"track",payload:G},A.timeout||b.timeout)})()}untrack(G={}){var A=this;return(0,c.A)(function*(){return yield A.send({type:"presence",event:"untrack"},G)})()}on(G,A,b){return this._on(G,A,b)}send(G,A={}){var b=this;return(0,c.A)(function*(){var H,ce;if(b._canPush()||"broadcast"!==G.type)return new Promise(be=>{var Ce,lt,At;const dt=b._push(G.type,G,A.timeout||b.timeout);"broadcast"===G.type&&!(null!==(At=null===(lt=null===(Ce=b.params)||void 0===Ce?void 0:Ce.config)||void 0===lt?void 0:lt.broadcast)&&void 0!==At&&At.ack)&&be("ok"),dt.receive("ok",()=>be("ok")),dt.receive("error",()=>be("error")),dt.receive("timeout",()=>be("timed out"))});{const{event:be,payload:Ce}=G,lt={method:"POST",headers:{Authorization:b.socket.accessToken?`Bearer ${b.socket.accessToken}`:"",apikey:b.socket.apiKey?b.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:b.subTopic,event:be,payload:Ce}]})};try{const At=yield b._fetchWithTimeout(b.broadcastEndpointURL,lt,null!==(H=A.timeout)&&void 0!==H?H:b.timeout);return yield null===(ce=At.body)||void 0===ce?void 0:ce.cancel(),At.ok?"ok":"error"}catch(At){return"AbortError"===At.name?"timed out":"error"}}})()}updateJoinPayload(G){this.joinPush.updatePayload(G)}unsubscribe(G=this.timeout){this.state=ke.leaving;const A=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(b=>{const H=new gt(this,Je.leave,{},G);H.receive("ok",()=>{A(),b("ok")}).receive("timeout",()=>{A(),b("timed out")}).receive("error",()=>{b("error")}),H.send(),this._canPush()||H.trigger("ok",{})})}_fetchWithTimeout(G,A,b){var H=this;return(0,c.A)(function*(){const ce=new AbortController,be=setTimeout(()=>ce.abort(),b),Ce=yield H.socket.fetch(G,Object.assign(Object.assign({},A),{signal:ce.signal}));return clearTimeout(be),Ce})()}_push(G,A,b=this.timeout){if(!this.joinedOnce)throw`tried to push '${G}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let H=new gt(this,G,A,b);return this._canPush()?H.send():(H.startTimeout(),this.pushBuffer.push(H)),H}_onMessage(G,A,b){return A}_isMember(G){return this.topic===G}_joinRef(){return this.joinPush.ref}_trigger(G,A,b){var H,ce;const be=G.toLocaleLowerCase(),{close:Ce,error:lt,leave:At,join:dt}=Je;if(b&&[Ce,lt,At,dt].indexOf(be)>=0&&b!==this._joinRef())return;let Vn=this._onMessage(be,A,b);if(A&&!Vn)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(be)?null===(H=this.bindings.postgres_changes)||void 0===H||H.filter(ar=>{var br,Ni,hi;return"*"===(null===(br=ar.filter)||void 0===br?void 0:br.event)||(null===(hi=null===(Ni=ar.filter)||void 0===Ni?void 0:Ni.event)||void 0===hi?void 0:hi.toLocaleLowerCase())===be}).map(ar=>ar.callback(Vn,b)):null===(ce=this.bindings[be])||void 0===ce||ce.filter(ar=>{var br,Ni,hi,qo,Bo,K;if(["broadcast","presence","postgres_changes"].includes(be)){if("id"in ar){const x=ar.id,de=null===(br=ar.filter)||void 0===br?void 0:br.event;return x&&(null===(Ni=A.ids)||void 0===Ni?void 0:Ni.includes(x))&&("*"===de||(null==de?void 0:de.toLocaleLowerCase())===(null===(hi=A.data)||void 0===hi?void 0:hi.type.toLocaleLowerCase()))}{const x=null===(Bo=null===(qo=null==ar?void 0:ar.filter)||void 0===qo?void 0:qo.event)||void 0===Bo?void 0:Bo.toLocaleLowerCase();return"*"===x||x===(null===(K=null==A?void 0:A.event)||void 0===K?void 0:K.toLocaleLowerCase())}}return ar.type.toLocaleLowerCase()===be}).map(ar=>{if("object"==typeof Vn&&"ids"in Vn){const br=Vn.data,{schema:Ni,table:hi,commit_timestamp:qo,type:Bo,errors:K}=br;Vn=Object.assign(Object.assign({},{schema:Ni,table:hi,commit_timestamp:qo,eventType:Bo,new:{},old:{},errors:K}),this._getPayloadRecords(br))}ar.callback(Vn,b)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(G){return`chan_reply_${G}`}_on(G,A,b){const H=G.toLocaleLowerCase(),ce={type:H,filter:A,callback:b};return this.bindings[H]?this.bindings[H].push(ce):this.bindings[H]=[ce],this}_off(G,A){const b=G.toLocaleLowerCase();return this.bindings[b]=this.bindings[b].filter(H=>{var ce;return!((null===(ce=H.type)||void 0===ce?void 0:ce.toLocaleLowerCase())===b&&xt.isEqual(H.filter,A))}),this}static isEqual(G,A){if(Object.keys(G).length!==Object.keys(A).length)return!1;for(const b in G)if(G[b]!==A[b])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(G){this._on(Je.close,{},G)}_onError(G){this._on(Je.error,{},A=>G(A))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(G=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(G))}_getPayloadRecords(G){const A={new:{},old:{}};return("INSERT"===G.type||"UPDATE"===G.type)&&(A.new=tn(G.columns,G.record)),("UPDATE"===G.type||"DELETE"===G.type)&&(A.old=tn(G.columns,G.old_record)),A}}const kn=()=>{},Ht=typeof WebSocket<"u";class wn{constructor(G,A){var H,b=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=st,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=kn,this.conn=null,this.sendBuffer=[],this.serializer=new Pe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=be=>{let Ce;return Ce=be||(typeof fetch>"u"?(...lt)=>Promise.resolve().then(O.bind(O,5286)).then(({default:At})=>At(...lt)):fetch),(...lt)=>Ce(...lt)},this.endPoint=`${G}/${tt.websocket}`,this.httpEndpoint=je(G),this.transport=null!=A&&A.transport?A.transport:null,null!=A&&A.params&&(this.params=A.params),null!=A&&A.headers&&(this.headers=Object.assign(Object.assign({},this.headers),A.headers)),null!=A&&A.timeout&&(this.timeout=A.timeout),null!=A&&A.logger&&(this.logger=A.logger),null!=A&&A.heartbeatIntervalMs&&(this.heartbeatIntervalMs=A.heartbeatIntervalMs);const ce=null===(H=null==A?void 0:A.params)||void 0===H?void 0:H.apikey;ce&&(this.accessToken=ce,this.apiKey=ce),this.reconnectAfterMs=null!=A&&A.reconnectAfterMs?A.reconnectAfterMs:be=>[1e3,2e3,5e3,1e4][be-1]||1e4,this.encode=null!=A&&A.encode?A.encode:(be,Ce)=>Ce(JSON.stringify(be)),this.decode=null!=A&&A.decode?A.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pt((0,c.A)(function*(){b.disconnect(),b.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==A?void 0:A.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(Ht)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new Jt(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),O.e(3806).then(O.t.bind(O,3806,23)).then(({default:G})=>{this.conn=new G(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(G,A){this.conn&&(this.conn.onclose=function(){},G?this.conn.close(G,null!=A?A:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(G){var A=this;return(0,c.A)(function*(){const b=yield G.unsubscribe();return 0===A.channels.length&&A.disconnect(),b})()}removeAllChannels(){var G=this;return(0,c.A)(function*(){const A=yield Promise.all(G.channels.map(b=>b.unsubscribe()));return G.disconnect(),A})()}log(G,A,b){this.logger(G,A,b)}connectionState(){switch(this.conn&&this.conn.readyState){case we.connecting:return Ot.Connecting;case we.open:return Ot.Open;case we.closing:return Ot.Closing;default:return Ot.Closed}}isConnected(){return this.connectionState()===Ot.Open}channel(G,A={config:{}}){const b=new xt(`realtime:${G}`,A,this);return this.channels.push(b),b}push(G){const{topic:A,event:b,payload:H,ref:ce}=G,be=()=>{this.encode(G,Ce=>{var lt;null===(lt=this.conn)||void 0===lt||lt.send(Ce)})};this.log("push",`${A} ${b} (${ce})`,H),this.isConnected()?be():this.sendBuffer.push(be)}setAuth(G){this.accessToken=G,this.channels.forEach(A=>{G&&A.updateJoinPayload({access_token:G}),A.joinedOnce&&A._isJoined()&&A._push(Je.access_token,{access_token:G})})}_makeRef(){let G=this.ref+1;return this.ref=G===this.ref?0:G,this.ref.toString()}_leaveOpenTopic(G){let A=this.channels.find(b=>b.topic===G&&(b._isJoined()||b._isJoining()));A&&(this.log("transport",`leaving duplicate topic "${G}"`),A.unsubscribe())}_remove(G){this.channels=this.channels.filter(A=>A._joinRef()!==G._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=G=>this._onConnError(G),this.conn.onmessage=G=>this._onConnMessage(G),this.conn.onclose=G=>this._onConnClose(G))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(G){this.decode(G.data,A=>{let{topic:b,event:H,payload:ce,ref:be}=A;(be&&be===this.pendingHeartbeatRef||H===(null==ce?void 0:ce.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${ce.status||""} ${b} ${H} ${be&&"("+be+")"||""}`,ce),this.channels.filter(Ce=>Ce._isMember(b)).forEach(Ce=>Ce._trigger(H,ce,be)),this.stateChangeCallbacks.message.forEach(Ce=>Ce(A))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(G=>G())}_onConnClose(G){this.log("transport","close",G),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(A=>A(G))}_onConnError(G){this.log("transport",G.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(A=>A(G))}_triggerChanError(){this.channels.forEach(G=>G._trigger(Je.error))}_appendParams(G,A){if(0===Object.keys(A).length)return G;const b=G.match(/\?/)?"&":"?";return`${G}${b}${new URLSearchParams(A)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(G=>G()),this.sendBuffer=[])}_sendHeartbeat(){var G;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(G=this.conn)||void 0===G||G.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Jt{constructor(G,A,b){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=we.connecting,this.send=()=>{},this.url=null,this.url=G,this.close=b.close}}class Dt extends Error{constructor(G){super(G),this.__isStorageError=!0,this.name="StorageError"}}function bn(re){return"object"==typeof re&&null!==re&&"__isStorageError"in re}class ot extends Dt{constructor(G,A){super(G),this.name="StorageApiError",this.status=A}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Le extends Dt{constructor(G,A){super(G),this.name="StorageUnknownError",this.originalError=A}}const un=re=>{let G;return G=re||(typeof fetch>"u"?(...A)=>Promise.resolve().then(O.bind(O,5286)).then(({default:b})=>b(...A)):fetch),(...A)=>G(...A)},fr=re=>{if(Array.isArray(re))return re.map(A=>fr(A));if("function"==typeof re||re!==Object(re))return re;const G={};return Object.entries(re).forEach(([A,b])=>{const H=A.replace(/([-_][a-z])/gi,ce=>ce.toUpperCase().replace(/[-_]/g,""));G[H]=fr(b)}),G};var sr=function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})};const Un=re=>re.msg||re.message||re.error_description||re.error||JSON.stringify(re),en=(re,G,A)=>sr(void 0,void 0,void 0,function*(){const b=yield function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(O.bind(O,5286))).Response:Response});re instanceof b&&(null==A||!A.noResolveJson)?re.json().then(H=>{G(new ot(Un(H),re.status||500))}).catch(H=>{G(new Le(Un(H),H))}):G(new Le(Un(re),re))}),yr=(re,G,A,b)=>{const H={method:re,headers:(null==G?void 0:G.headers)||{}};return"GET"===re?H:(H.headers=Object.assign({"Content-Type":"application/json"},null==G?void 0:G.headers),b&&(H.body=JSON.stringify(b)),Object.assign(Object.assign({},H),A))};function pr(re,G,A,b,H,ce){return sr(this,void 0,void 0,function*(){return new Promise((be,Ce)=>{re(A,yr(G,b,H,ce)).then(lt=>{if(!lt.ok)throw lt;return null!=b&&b.noResolveJson?lt:lt.json()}).then(lt=>be(lt)).catch(lt=>en(lt,Ce,b))})})}function gr(re,G,A,b){return sr(this,void 0,void 0,function*(){return pr(re,"GET",G,A,b)})}function hr(re,G,A,b,H){return sr(this,void 0,void 0,function*(){return pr(re,"POST",G,b,H,A)})}function ti(re,G,A,b,H){return sr(this,void 0,void 0,function*(){return pr(re,"PUT",G,b,H,A)})}function Bn(re,G,A,b,H){return sr(this,void 0,void 0,function*(){return pr(re,"DELETE",G,b,H,A)})}var Wr=function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})};const Yn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qn{constructor(G,A={},b,H){this.url=G,this.headers=A,this.bucketId=b,this.fetch=un(H)}uploadOrUpdate(G,A,b,H){return Wr(this,void 0,void 0,function*(){try{let ce;const be=Object.assign(Object.assign({},nr),H);let Ce=Object.assign(Object.assign({},this.headers),"POST"===G&&{"x-upsert":String(be.upsert)});const lt=be.metadata;typeof Blob<"u"&&b instanceof Blob?(ce=new FormData,ce.append("cacheControl",be.cacheControl),ce.append("",b),lt&&ce.append("metadata",this.encodeMetadata(lt))):typeof FormData<"u"&&b instanceof FormData?(ce=b,ce.append("cacheControl",be.cacheControl),lt&&ce.append("metadata",this.encodeMetadata(lt))):(ce=b,Ce["cache-control"]=`max-age=${be.cacheControl}`,Ce["content-type"]=be.contentType,lt&&(Ce["x-metadata"]=this.toBase64(this.encodeMetadata(lt)))),null!=H&&H.headers&&(Ce=Object.assign(Object.assign({},Ce),H.headers));const At=this._removeEmptyFolders(A),dt=this._getFinalPath(At),Tn=yield this.fetch(`${this.url}/object/${dt}`,Object.assign({method:G,body:ce,headers:Ce},null!=be&&be.duplex?{duplex:be.duplex}:{})),Vn=yield Tn.json();return Tn.ok?{data:{path:At,id:Vn.Id,fullPath:Vn.Key},error:null}:{data:null,error:Vn}}catch(ce){if(bn(ce))return{data:null,error:ce};throw ce}})}upload(G,A,b){return Wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",G,A,b)})}uploadToSignedUrl(G,A,b,H){return Wr(this,void 0,void 0,function*(){const ce=this._removeEmptyFolders(G),be=this._getFinalPath(ce),Ce=new URL(this.url+`/object/upload/sign/${be}`);Ce.searchParams.set("token",A);try{let lt;const At=Object.assign({upsert:nr.upsert},H),dt=Object.assign(Object.assign({},this.headers),{"x-upsert":String(At.upsert)});typeof Blob<"u"&&b instanceof Blob?(lt=new FormData,lt.append("cacheControl",At.cacheControl),lt.append("",b)):typeof FormData<"u"&&b instanceof FormData?(lt=b,lt.append("cacheControl",At.cacheControl)):(lt=b,dt["cache-control"]=`max-age=${At.cacheControl}`,dt["content-type"]=At.contentType);const Tn=yield this.fetch(Ce.toString(),{method:"PUT",body:lt,headers:dt}),Vn=yield Tn.json();return Tn.ok?{data:{path:ce,fullPath:Vn.Key},error:null}:{data:null,error:Vn}}catch(lt){if(bn(lt))return{data:null,error:lt};throw lt}})}createSignedUploadUrl(G,A){return Wr(this,void 0,void 0,function*(){try{let b=this._getFinalPath(G);const H=Object.assign({},this.headers);null!=A&&A.upsert&&(H["x-upsert"]="true");const ce=yield hr(this.fetch,`${this.url}/object/upload/sign/${b}`,{},{headers:H}),be=new URL(this.url+ce.url),Ce=be.searchParams.get("token");if(!Ce)throw new Dt("No token returned by API");return{data:{signedUrl:be.toString(),path:G,token:Ce},error:null}}catch(b){if(bn(b))return{data:null,error:b};throw b}})}update(G,A,b){return Wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",G,A,b)})}move(G,A,b){return Wr(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:G,destinationKey:A,destinationBucket:null==b?void 0:b.destinationBucket},{headers:this.headers}),error:null}}catch(H){if(bn(H))return{data:null,error:H};throw H}})}copy(G,A,b){return Wr(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:G,destinationKey:A,destinationBucket:null==b?void 0:b.destinationBucket},{headers:this.headers})).Key},error:null}}catch(H){if(bn(H))return{data:null,error:H};throw H}})}createSignedUrl(G,A,b){return Wr(this,void 0,void 0,function*(){try{let H=this._getFinalPath(G),ce=yield hr(this.fetch,`${this.url}/object/sign/${H}`,Object.assign({expiresIn:A},null!=b&&b.transform?{transform:b.transform}:{}),{headers:this.headers});const be=null!=b&&b.download?`&download=${!0===b.download?"":b.download}`:"";return ce={signedUrl:encodeURI(`${this.url}${ce.signedURL}${be}`)},{data:ce,error:null}}catch(H){if(bn(H))return{data:null,error:H};throw H}})}createSignedUrls(G,A,b){return Wr(this,void 0,void 0,function*(){try{const H=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:A,paths:G},{headers:this.headers}),ce=null!=b&&b.download?`&download=${!0===b.download?"":b.download}`:"";return{data:H.map(be=>Object.assign(Object.assign({},be),{signedUrl:be.signedURL?encodeURI(`${this.url}${be.signedURL}${ce}`):null})),error:null}}catch(H){if(bn(H))return{data:null,error:H};throw H}})}download(G,A){return Wr(this,void 0,void 0,function*(){const H=typeof(null==A?void 0:A.transform)<"u"?"render/image/authenticated":"object",ce=this.transformOptsToQueryString((null==A?void 0:A.transform)||{}),be=ce?`?${ce}`:"";try{const Ce=this._getFinalPath(G);return{data:yield(yield gr(this.fetch,`${this.url}/${H}/${Ce}${be}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(Ce){if(bn(Ce))return{data:null,error:Ce};throw Ce}})}info(G){return Wr(this,void 0,void 0,function*(){const A=this._getFinalPath(G);try{const b=yield gr(this.fetch,`${this.url}/object/info/${A}`,{headers:this.headers});return{data:fr(b),error:null}}catch(b){if(bn(b))return{data:null,error:b};throw b}})}exists(G){return Wr(this,void 0,void 0,function*(){const A=this._getFinalPath(G);try{return yield function _i(re,G,A,b){return sr(this,void 0,void 0,function*(){return pr(re,"HEAD",G,Object.assign(Object.assign({},A),{noResolveJson:!0}),b)})}(this.fetch,`${this.url}/object/${A}`,{headers:this.headers}),{data:!0,error:null}}catch(b){if(bn(b)&&b instanceof Le){const H=b.originalError;if([400,404].includes(null==H?void 0:H.status))return{data:!1,error:b}}throw b}})}getPublicUrl(G,A){const b=this._getFinalPath(G),H=[],ce=null!=A&&A.download?`download=${!0===A.download?"":A.download}`:"";""!==ce&&H.push(ce);const Ce=typeof(null==A?void 0:A.transform)<"u"?"render/image":"object",lt=this.transformOptsToQueryString((null==A?void 0:A.transform)||{});""!==lt&&H.push(lt);let At=H.join("&");return""!==At&&(At=`?${At}`),{data:{publicUrl:encodeURI(`${this.url}/${Ce}/public/${b}${At}`)}}}remove(G){return Wr(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:G},{headers:this.headers}),error:null}}catch(A){if(bn(A))return{data:null,error:A};throw A}})}list(G,A,b){return Wr(this,void 0,void 0,function*(){try{const H=Object.assign(Object.assign(Object.assign({},Yn),A),{prefix:G||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,H,{headers:this.headers},b),error:null}}catch(H){if(bn(H))return{data:null,error:H};throw H}})}encodeMetadata(G){return JSON.stringify(G)}toBase64(G){return typeof Buffer<"u"?Buffer.from(G).toString("base64"):btoa(G)}_getFinalPath(G){return`${this.bucketId}/${G}`}_removeEmptyFolders(G){return G.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(G){const A=[];return G.width&&A.push(`width=${G.width}`),G.height&&A.push(`height=${G.height}`),G.resize&&A.push(`resize=${G.resize}`),G.format&&A.push(`format=${G.format}`),G.quality&&A.push(`quality=${G.quality}`),A.join("&")}}const Xn={"X-Client-Info":"storage-js/2.7.0"};var ni=function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})};class Er{constructor(G,A={},b){this.url=G,this.headers=Object.assign(Object.assign({},Xn),A),this.fetch=un(b)}listBuckets(){return ni(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(G){if(bn(G))return{data:null,error:G};throw G}})}getBucket(G){return ni(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${G}`,{headers:this.headers}),error:null}}catch(A){if(bn(A))return{data:null,error:A};throw A}})}createBucket(G,A={public:!1}){return ni(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:G,name:G,public:A.public,file_size_limit:A.fileSizeLimit,allowed_mime_types:A.allowedMimeTypes},{headers:this.headers}),error:null}}catch(b){if(bn(b))return{data:null,error:b};throw b}})}updateBucket(G,A){return ni(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${G}`,{id:G,name:G,public:A.public,file_size_limit:A.fileSizeLimit,allowed_mime_types:A.allowedMimeTypes},{headers:this.headers}),error:null}}catch(b){if(bn(b))return{data:null,error:b};throw b}})}emptyBucket(G){return ni(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${G}/empty`,{},{headers:this.headers}),error:null}}catch(A){if(bn(A))return{data:null,error:A};throw A}})}deleteBucket(G){return ni(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${G}`,{},{headers:this.headers}),error:null}}catch(A){if(bn(A))return{data:null,error:A};throw A}})}}class Pn extends Er{constructor(G,A={},b){super(G,A,b)}from(G){return new qn(this.url,this.headers,G,this.fetch)}}let $t="";$t=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const qt={headers:{"X-Client-Info":`supabase-js-${$t}/2.45.4`}},ut={schema:"public"},Kt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z={};var X=O(5286);const rn=(re,G,A)=>{const b=(re=>{let G;return G=re||(typeof fetch>"u"?X.default:fetch),(...A)=>G(...A)})(A),H=typeof Headers>"u"?X.Headers:Headers;return(ce,be)=>function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})}(void 0,void 0,void 0,function*(){var Ce;const lt=null!==(Ce=yield G())&&void 0!==Ce?Ce:re;let At=new H(null==be?void 0:be.headers);return At.has("apikey")||At.set("apikey",re),At.has("Authorization")||At.set("Authorization",`Bearer ${lt}`),b(ce,Object.assign(Object.assign({},be),{headers:At}))})};const Vi="X-Supabase-Api-Version",Yi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q=()=>typeof document<"u",Me={tested:!1,writable:!1},ne=()=>{if(!q())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Me.tested)return Me.writable;const re=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(re,re),globalThis.localStorage.removeItem(re),Me.tested=!0,Me.writable=!0}catch{Me.tested=!0,Me.writable=!1}return Me.writable};function le(re){const G={},A=new URL(re);if(A.hash&&"#"===A.hash[0])try{new URLSearchParams(A.hash.substring(1)).forEach((H,ce)=>{G[ce]=H})}catch{}return A.searchParams.forEach((b,H)=>{G[H]=b}),G}const Ne=re=>{let G;return G=re||(typeof fetch>"u"?(...A)=>Promise.resolve().then(O.bind(O,5286)).then(({default:b})=>b(...A)):fetch),(...A)=>G(...A)},St=re=>"object"==typeof re&&null!==re&&"status"in re&&"ok"in re&&"json"in re&&"function"==typeof re.json,on=function(){var re=(0,c.A)(function*(G,A,b){yield G.setItem(A,JSON.stringify(b))});return function(A,b,H){return re.apply(this,arguments)}}(),gn=function(){var re=(0,c.A)(function*(G,A){const b=yield G.getItem(A);if(!b)return null;try{return JSON.parse(b)}catch{return b}});return function(A,b){return re.apply(this,arguments)}}(),he=function(){var re=(0,c.A)(function*(G,A){yield G.removeItem(A)});return function(A,b){return re.apply(this,arguments)}}();class Nt{constructor(){this.promise=new Nt.promiseConstructor((G,A)=>{this.resolve=G,this.reject=A})}}function wt(re){const A=re.split(".");if(3!==A.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(A[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function $e(re){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let b,H,ce,be,Ce,lt,At,A="",dt=0;for(re=re.replace("-","+").replace("_","/");dt<re.length;)be=G.indexOf(re.charAt(dt++)),Ce=G.indexOf(re.charAt(dt++)),lt=G.indexOf(re.charAt(dt++)),At=G.indexOf(re.charAt(dt++)),b=be<<2|Ce>>4,H=(15&Ce)<<4|lt>>2,ce=(3&lt)<<6|At,A+=String.fromCharCode(b),64!=lt&&0!=H&&(A+=String.fromCharCode(H)),64!=At&&0!=ce&&(A+=String.fromCharCode(ce));return A}(A[1]))}function En(){return(En=(0,c.A)(function*(re){return yield new Promise(G=>{setTimeout(()=>G(null),re)})})).apply(this,arguments)}function Ln(re){return("0"+re.toString(16)).substr(-2)}function xr(){return(xr=(0,c.A)(function*(re){const A=(new TextEncoder).encode(re),b=yield crypto.subtle.digest("SHA-256",A),H=new Uint8Array(b);return Array.from(H).map(ce=>String.fromCharCode(ce)).join("")})).apply(this,arguments)}function Di(){return Di=(0,c.A)(function*(re){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),re;const A=yield function or(re){return xr.apply(this,arguments)}(re);return function ai(re){return btoa(re).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(A)}),Di.apply(this,arguments)}function ui(re,G){return wi.apply(this,arguments)}function wi(){return wi=(0,c.A)(function*(re,G,A=!1){const b=function dr(){const G=new Uint32Array(56);if(typeof crypto>"u"){const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=A.length;let H="";for(let ce=0;ce<56;ce++)H+=A.charAt(Math.floor(Math.random()*b));return H}return crypto.getRandomValues(G),Array.from(G,Ln).join("")}();let H=b;A&&(H+="/PASSWORD_RECOVERY"),yield on(re,`${G}-code-verifier`,H);const ce=yield function Ci(re){return Di.apply(this,arguments)}(b);return[ce,b===ce?"plain":"s256"]}),wi.apply(this,arguments)}Nt.promiseConstructor=Promise;const Br=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Ki extends Error{constructor(G,A,b){super(G),this.__isAuthError=!0,this.name="AuthError",this.status=A,this.code=b}}function rr(re){return"object"==typeof re&&null!==re&&"__isAuthError"in re}class Oi extends Ki{constructor(G,A,b){super(G,A,b),this.name="AuthApiError",this.status=A,this.code=b}}class Zi extends Ki{constructor(G,A){super(G),this.name="AuthUnknownError",this.originalError=A}}class fo extends Ki{constructor(G,A,b,H){super(G,b,H),this.name=A,this.status=b}}class po extends fo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class pi extends fo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yo extends fo{constructor(G){super(G,"AuthInvalidCredentialsError",400,void 0)}}class mo extends fo{constructor(G,A=null){super(G,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=A}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ts extends fo{constructor(G,A=null){super(G,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=A}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jo extends fo{constructor(G,A){super(G,"AuthRetryableFetchError",A,void 0)}}function Qr(re){return rr(re)&&"AuthRetryableFetchError"===re.name}class Wo extends fo{constructor(G,A,b){super(G,"AuthWeakPasswordError",A,"weak_password"),this.reasons=b}}const Do=re=>re.msg||re.message||re.error_description||re.error||JSON.stringify(re),Fo=[502,503,504];function ci(re){return M.apply(this,arguments)}function M(){return(M=(0,c.A)(function*(re){var G;if(!St(re))throw new jo(Do(re),0);if(Fo.includes(re.status))throw new jo(Do(re),re.status);let A,b;try{A=yield re.json()}catch(ce){throw new Zi(Do(ce),ce)}const H=function Lr(re){const G=re.headers.get(Vi);if(!G||!G.match(Br))return null;try{return new Date(`${G}T00:00:00.0Z`)}catch{return null}}(re);if(H&&H.getTime()>=Yi["2024-01-01"].timestamp&&"object"==typeof A&&A&&"string"==typeof A.code?b=A.code:"object"==typeof A&&A&&"string"==typeof A.error_code&&(b=A.error_code),b){if("weak_password"===b)throw new Wo(Do(A),re.status,(null===(G=A.weak_password)||void 0===G?void 0:G.reasons)||[]);if("session_not_found"===b)throw new po}else if("object"==typeof A&&A&&"object"==typeof A.weak_password&&A.weak_password&&Array.isArray(A.weak_password.reasons)&&A.weak_password.reasons.length&&A.weak_password.reasons.reduce((ce,be)=>ce&&"string"==typeof be,!0))throw new Wo(Do(A),re.status,A.weak_password.reasons);throw new Oi(Do(A),re.status||500,b)})).apply(this,arguments)}const te=(re,G,A,b)=>{const H={method:re,headers:(null==G?void 0:G.headers)||{}};return"GET"===re?H:(H.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==G?void 0:G.headers),H.body=JSON.stringify(b),Object.assign(Object.assign({},H),A))};function pe(re,G,A,b){return N.apply(this,arguments)}function N(){return N=(0,c.A)(function*(re,G,A,b){var H;const ce=Object.assign({},null==b?void 0:b.headers);ce[Vi]||(ce[Vi]=Yi["2024-01-01"].name),null!=b&&b.jwt&&(ce.Authorization=`Bearer ${b.jwt}`);const be=null!==(H=null==b?void 0:b.query)&&void 0!==H?H:{};null!=b&&b.redirectTo&&(be.redirect_to=b.redirectTo);const Ce=Object.keys(be).length?"?"+new URLSearchParams(be).toString():"",lt=yield function T(re,G,A,b,H,ce){return V.apply(this,arguments)}(re,G,A+Ce,{headers:ce,noResolveJson:null==b?void 0:b.noResolveJson},{},null==b?void 0:b.body);return null!=b&&b.xform?null==b?void 0:b.xform(lt):{data:Object.assign({},lt),error:null}}),N.apply(this,arguments)}function V(){return(V=(0,c.A)(function*(re,G,A,b,H,ce){const be=te(G,b,H,ce);let Ce;try{Ce=yield re(A,Object.assign({},be))}catch(lt){throw console.error(lt),new jo(Do(lt),0)}if(Ce.ok||(yield ci(Ce)),null!=b&&b.noResolveJson)return Ce;try{return yield Ce.json()}catch(lt){yield ci(lt)}})).apply(this,arguments)}function Ue(re){var G;let A=null;return function an(re){return re.access_token&&re.refresh_token&&re.expires_in}(re)&&(A=Object.assign({},re),re.expires_at||(A.expires_at=function Wi(re){return Math.round(Date.now()/1e3)+re}(re.expires_in))),{data:{session:A,user:null!==(G=re.user)&&void 0!==G?G:re},error:null}}function Ze(re){const G=Ue(re);return!G.error&&re.weak_password&&"object"==typeof re.weak_password&&Array.isArray(re.weak_password.reasons)&&re.weak_password.reasons.length&&re.weak_password.message&&"string"==typeof re.weak_password.message&&re.weak_password.reasons.reduce((A,b)=>A&&"string"==typeof b,!0)&&(G.data.weak_password=re.weak_password),G}function _t(re){var G;return{data:{user:null!==(G=re.user)&&void 0!==G?G:re},error:null}}function Tt(re){return{data:re,error:null}}function cn(re){const{action_link:G,email_otp:A,hashed_token:b,redirect_to:H,verification_type:ce}=re,be=function(re,G){var A={};for(var b in re)Object.prototype.hasOwnProperty.call(re,b)&&G.indexOf(b)<0&&(A[b]=re[b]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(b=Object.getOwnPropertySymbols(re);H<b.length;H++)G.indexOf(b[H])<0&&Object.prototype.propertyIsEnumerable.call(re,b[H])&&(A[b[H]]=re[b[H]])}return A}(re,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:G,email_otp:A,hashed_token:b,redirect_to:H,verification_type:ce},user:Object.assign({},be)},error:null}}function mn(re){return re}class Hn{constructor({url:G="",headers:A={},fetch:b}){this.url=G,this.headers=A,this.fetch=Ne(b),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(G,A="global"){var b=this;return(0,c.A)(function*(){try{return yield pe(b.fetch,"POST",`${b.url}/logout?scope=${A}`,{headers:b.headers,jwt:G,noResolveJson:!0}),{data:null,error:null}}catch(H){if(rr(H))return{data:null,error:H};throw H}})()}inviteUserByEmail(G,A={}){var b=this;return(0,c.A)(function*(){try{return yield pe(b.fetch,"POST",`${b.url}/invite`,{body:{email:G,data:A.data},headers:b.headers,redirectTo:A.redirectTo,xform:_t})}catch(H){if(rr(H))return{data:{user:null},error:H};throw H}})()}generateLink(G){var A=this;return(0,c.A)(function*(){try{const{options:b}=G,H=function(re,G){var A={};for(var b in re)Object.prototype.hasOwnProperty.call(re,b)&&G.indexOf(b)<0&&(A[b]=re[b]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(b=Object.getOwnPropertySymbols(re);H<b.length;H++)G.indexOf(b[H])<0&&Object.prototype.propertyIsEnumerable.call(re,b[H])&&(A[b[H]]=re[b[H]])}return A}(G,["options"]),ce=Object.assign(Object.assign({},H),b);return"newEmail"in H&&(ce.new_email=null==H?void 0:H.newEmail,delete ce.newEmail),yield pe(A.fetch,"POST",`${A.url}/admin/generate_link`,{body:ce,headers:A.headers,xform:cn,redirectTo:null==b?void 0:b.redirectTo})}catch(b){if(rr(b))return{data:{properties:null,user:null},error:b};throw b}})()}createUser(G){var A=this;return(0,c.A)(function*(){try{return yield pe(A.fetch,"POST",`${A.url}/admin/users`,{body:G,headers:A.headers,xform:_t})}catch(b){if(rr(b))return{data:{user:null},error:b};throw b}})()}listUsers(G){var A=this;return(0,c.A)(function*(){var b,H,ce,be,Ce,lt,At;try{const dt={nextPage:null,lastPage:0,total:0},Tn=yield pe(A.fetch,"GET",`${A.url}/admin/users`,{headers:A.headers,noResolveJson:!0,query:{page:null!==(H=null===(b=null==G?void 0:G.page)||void 0===b?void 0:b.toString())&&void 0!==H?H:"",per_page:null!==(be=null===(ce=null==G?void 0:G.perPage)||void 0===ce?void 0:ce.toString())&&void 0!==be?be:""},xform:mn});if(Tn.error)throw Tn.error;const Vn=yield Tn.json(),ar=null!==(Ce=Tn.headers.get("x-total-count"))&&void 0!==Ce?Ce:0,br=null!==(At=null===(lt=Tn.headers.get("link"))||void 0===lt?void 0:lt.split(","))&&void 0!==At?At:[];return br.length>0&&(br.forEach(Ni=>{const hi=parseInt(Ni.split(";")[0].split("=")[1].substring(0,1)),qo=JSON.parse(Ni.split(";")[1].split("=")[1]);dt[`${qo}Page`]=hi}),dt.total=parseInt(ar)),{data:Object.assign(Object.assign({},Vn),dt),error:null}}catch(dt){if(rr(dt))return{data:{users:[]},error:dt};throw dt}})()}getUserById(G){var A=this;return(0,c.A)(function*(){try{return yield pe(A.fetch,"GET",`${A.url}/admin/users/${G}`,{headers:A.headers,xform:_t})}catch(b){if(rr(b))return{data:{user:null},error:b};throw b}})()}updateUserById(G,A){var b=this;return(0,c.A)(function*(){try{return yield pe(b.fetch,"PUT",`${b.url}/admin/users/${G}`,{body:A,headers:b.headers,xform:_t})}catch(H){if(rr(H))return{data:{user:null},error:H};throw H}})()}deleteUser(G,A=!1){var b=this;return(0,c.A)(function*(){try{return yield pe(b.fetch,"DELETE",`${b.url}/admin/users/${G}`,{headers:b.headers,body:{should_soft_delete:A},xform:_t})}catch(H){if(rr(H))return{data:{user:null},error:H};throw H}})()}_listFactors(G){var A=this;return(0,c.A)(function*(){try{const{data:b,error:H}=yield pe(A.fetch,"GET",`${A.url}/admin/users/${G.userId}/factors`,{headers:A.headers,xform:ce=>({data:{factors:ce},error:null})});return{data:b,error:H}}catch(b){if(rr(b))return{data:null,error:b};throw b}})()}_deleteFactor(G){var A=this;return(0,c.A)(function*(){try{return{data:yield pe(A.fetch,"DELETE",`${A.url}/admin/users/${G.userId}/factors/${G.id}`,{headers:A.headers}),error:null}}catch(b){if(rr(b))return{data:null,error:b};throw b}})()}}const Wn={getItem:re=>ne()?globalThis.localStorage.getItem(re):null,setItem:(re,G)=>{ne()&&globalThis.localStorage.setItem(re,G)},removeItem:re=>{ne()&&globalThis.localStorage.removeItem(re)}};function tr(re={}){return{getItem:G=>re[G]||null,setItem:(G,A)=>{re[G]=A},removeItem:G=>{delete re[G]}}}const Fr={debug:!!(globalThis&&ne()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class xi extends Error{constructor(G){super(G),this.isAcquireTimeout=!0}}class ii extends xi{}function vi(re,G,A){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,c.A)(function*(re,G,A){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",re,G);const b=new globalThis.AbortController;return G>0&&setTimeout(()=>{b.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",re)},G),yield globalThis.navigator.locks.request(re,0===G?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:b.signal},function(){var H=(0,c.A)(function*(ce){if(!ce){if(0===G)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",re),new ii(`Acquiring an exclusive Navigator LockManager lock "${re}" immediately failed`);if(Fr.debug)try{const be=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(be,null,"  "))}catch(be){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",be)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield A()}Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",re,ce.name);try{return yield A()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",re,ce.name)}});return function(ce){return H.apply(this,arguments)}}())}),Jr.apply(this,arguments)}!function ur(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Ho={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.65.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Xi=3e4;function so(re,G,A){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.A)(function*(re,G,A){return yield A()})).apply(this,arguments)}let Ps=(()=>{class re{constructor(A){var H,ce,b=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=re.nextInstanceID,re.nextInstanceID+=1,this.instanceID>0&&q()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const be=Object.assign(Object.assign({},Ho),A);if(this.logDebugMessages=!!be.debug,"function"==typeof be.debug&&(this.logger=be.debug),this.persistSession=be.persistSession,this.storageKey=be.storageKey,this.autoRefreshToken=be.autoRefreshToken,this.admin=new Hn({url:be.url,headers:be.headers,fetch:be.fetch}),this.url=be.url,this.headers=be.headers,this.fetch=Ne(be.fetch),this.lock=be.lock||so,this.detectSessionInUrl=be.detectSessionInUrl,this.flowType=be.flowType,this.hasCustomAuthorizationHeader=be.hasCustomAuthorizationHeader,this.lock=be.lock?be.lock:q()&&null!==(H=null==globalThis?void 0:globalThis.navigator)&&void 0!==H&&H.locks?vi:so,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?be.storage?this.storage=be.storage:ne()?this.storage=Wn:(this.memoryStorage={},this.storage=tr(this.memoryStorage)):(this.memoryStorage={},this.storage=tr(this.memoryStorage)),q()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Ce){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Ce)}null===(ce=this.broadcastChannel)||void 0===ce||ce.addEventListener("message",function(){var Ce=(0,c.A)(function*(lt){b._debug("received broadcast notification from other tab or client",lt),yield b._notifyAllSubscribers(lt.data.event,lt.data.session,!1)});return function(lt){return Ce.apply(this,arguments)}}())}this.initialize()}_debug(...A){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.65.0) ${(new Date).toISOString()}`,...A),this}initialize(){var A=this;return(0,c.A)(function*(){return A.initializePromise||(A.initializePromise=(0,c.A)(function*(){return yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._initialize()}))})()),yield A.initializePromise})()}_initialize(){var A=this;return(0,c.A)(function*(){try{const b=!!q()&&(yield A._isPKCEFlow());if(A._debug("#_initialize()","begin","is PKCE flow",b),b||A.detectSessionInUrl&&A._isImplicitGrantFlow()){const{data:H,error:ce}=yield A._getSessionFromURL(b);if(ce)return A._debug("#_initialize()","error detecting session from URL",ce),"Identity is already linked"===(null==ce?void 0:ce.message)||"Identity is already linked to another user"===(null==ce?void 0:ce.message)||(yield A._removeSession()),{error:ce};const{session:be,redirectType:Ce}=H;return A._debug("#_initialize()","detected session in URL",be,"redirect type",Ce),yield A._saveSession(be),setTimeout((0,c.A)(function*(){"recovery"===Ce?yield A._notifyAllSubscribers("PASSWORD_RECOVERY",be):yield A._notifyAllSubscribers("SIGNED_IN",be)}),0),{error:null}}return yield A._recoverAndRefresh(),{error:null}}catch(b){return rr(b)?{error:b}:{error:new Zi("Unexpected error during initialization",b)}}finally{yield A._handleVisibilityChange(),A._debug("#_initialize()","end")}})()}signInAnonymously(A){var b=this;return(0,c.A)(function*(){var H,ce,be;try{const Ce=yield pe(b.fetch,"POST",`${b.url}/signup`,{headers:b.headers,body:{data:null!==(ce=null===(H=null==A?void 0:A.options)||void 0===H?void 0:H.data)&&void 0!==ce?ce:{},gotrue_meta_security:{captcha_token:null===(be=null==A?void 0:A.options)||void 0===be?void 0:be.captchaToken}},xform:Ue}),{data:lt,error:At}=Ce;if(At||!lt)return{data:{user:null,session:null},error:At};const dt=lt.session,Tn=lt.user;return lt.session&&(yield b._saveSession(lt.session),yield b._notifyAllSubscribers("SIGNED_IN",dt)),{data:{user:Tn,session:dt},error:null}}catch(Ce){if(rr(Ce))return{data:{user:null,session:null},error:Ce};throw Ce}})()}signUp(A){var b=this;return(0,c.A)(function*(){var H,ce,be;try{let Ce;if("email"in A){const{email:Vn,password:ar,options:br}=A;let Ni=null,hi=null;"pkce"===b.flowType&&([Ni,hi]=yield ui(b.storage,b.storageKey)),Ce=yield pe(b.fetch,"POST",`${b.url}/signup`,{headers:b.headers,redirectTo:null==br?void 0:br.emailRedirectTo,body:{email:Vn,password:ar,data:null!==(H=null==br?void 0:br.data)&&void 0!==H?H:{},gotrue_meta_security:{captcha_token:null==br?void 0:br.captchaToken},code_challenge:Ni,code_challenge_method:hi},xform:Ue})}else{if(!("phone"in A))throw new yo("You must provide either an email or phone number and a password");{const{phone:Vn,password:ar,options:br}=A;Ce=yield pe(b.fetch,"POST",`${b.url}/signup`,{headers:b.headers,body:{phone:Vn,password:ar,data:null!==(ce=null==br?void 0:br.data)&&void 0!==ce?ce:{},channel:null!==(be=null==br?void 0:br.channel)&&void 0!==be?be:"sms",gotrue_meta_security:{captcha_token:null==br?void 0:br.captchaToken}},xform:Ue})}}const{data:lt,error:At}=Ce;if(At||!lt)return{data:{user:null,session:null},error:At};const dt=lt.session,Tn=lt.user;return lt.session&&(yield b._saveSession(lt.session),yield b._notifyAllSubscribers("SIGNED_IN",dt)),{data:{user:Tn,session:dt},error:null}}catch(Ce){if(rr(Ce))return{data:{user:null,session:null},error:Ce};throw Ce}})()}signInWithPassword(A){var b=this;return(0,c.A)(function*(){try{let H;if("email"in A){const{email:Ce,password:lt,options:At}=A;H=yield pe(b.fetch,"POST",`${b.url}/token?grant_type=password`,{headers:b.headers,body:{email:Ce,password:lt,gotrue_meta_security:{captcha_token:null==At?void 0:At.captchaToken}},xform:Ze})}else{if(!("phone"in A))throw new yo("You must provide either an email or phone number and a password");{const{phone:Ce,password:lt,options:At}=A;H=yield pe(b.fetch,"POST",`${b.url}/token?grant_type=password`,{headers:b.headers,body:{phone:Ce,password:lt,gotrue_meta_security:{captcha_token:null==At?void 0:At.captchaToken}},xform:Ze})}}const{data:ce,error:be}=H;return be?{data:{user:null,session:null},error:be}:ce&&ce.session&&ce.user?(ce.session&&(yield b._saveSession(ce.session),yield b._notifyAllSubscribers("SIGNED_IN",ce.session)),{data:Object.assign({user:ce.user,session:ce.session},ce.weak_password?{weakPassword:ce.weak_password}:null),error:be}):{data:{user:null,session:null},error:new pi}}catch(H){if(rr(H))return{data:{user:null,session:null},error:H};throw H}})()}signInWithOAuth(A){var b=this;return(0,c.A)(function*(){var H,ce,be,Ce;return yield b._handleProviderSignIn(A.provider,{redirectTo:null===(H=A.options)||void 0===H?void 0:H.redirectTo,scopes:null===(ce=A.options)||void 0===ce?void 0:ce.scopes,queryParams:null===(be=A.options)||void 0===be?void 0:be.queryParams,skipBrowserRedirect:null===(Ce=A.options)||void 0===Ce?void 0:Ce.skipBrowserRedirect})})()}exchangeCodeForSession(A){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,b._acquireLock(-1,(0,c.A)(function*(){return b._exchangeCodeForSession(A)}))})()}_exchangeCodeForSession(A){var b=this;return(0,c.A)(function*(){const H=yield gn(b.storage,`${b.storageKey}-code-verifier`),[ce,be]=(null!=H?H:"").split("/");try{const{data:Ce,error:lt}=yield pe(b.fetch,"POST",`${b.url}/token?grant_type=pkce`,{headers:b.headers,body:{auth_code:A,code_verifier:ce},xform:Ue});if(yield he(b.storage,`${b.storageKey}-code-verifier`),lt)throw lt;return Ce&&Ce.session&&Ce.user?(Ce.session&&(yield b._saveSession(Ce.session),yield b._notifyAllSubscribers("SIGNED_IN",Ce.session)),{data:Object.assign(Object.assign({},Ce),{redirectType:null!=be?be:null}),error:lt}):{data:{user:null,session:null,redirectType:null},error:new pi}}catch(Ce){if(rr(Ce))return{data:{user:null,session:null,redirectType:null},error:Ce};throw Ce}})()}signInWithIdToken(A){var b=this;return(0,c.A)(function*(){try{const{options:H,provider:ce,token:be,access_token:Ce,nonce:lt}=A,At=yield pe(b.fetch,"POST",`${b.url}/token?grant_type=id_token`,{headers:b.headers,body:{provider:ce,id_token:be,access_token:Ce,nonce:lt,gotrue_meta_security:{captcha_token:null==H?void 0:H.captchaToken}},xform:Ue}),{data:dt,error:Tn}=At;return Tn?{data:{user:null,session:null},error:Tn}:dt&&dt.session&&dt.user?(dt.session&&(yield b._saveSession(dt.session),yield b._notifyAllSubscribers("SIGNED_IN",dt.session)),{data:dt,error:Tn}):{data:{user:null,session:null},error:new pi}}catch(H){if(rr(H))return{data:{user:null,session:null},error:H};throw H}})()}signInWithOtp(A){var b=this;return(0,c.A)(function*(){var H,ce,be,Ce,lt;try{if("email"in A){const{email:At,options:dt}=A;let Tn=null,Vn=null;"pkce"===b.flowType&&([Tn,Vn]=yield ui(b.storage,b.storageKey));const{error:ar}=yield pe(b.fetch,"POST",`${b.url}/otp`,{headers:b.headers,body:{email:At,data:null!==(H=null==dt?void 0:dt.data)&&void 0!==H?H:{},create_user:null===(ce=null==dt?void 0:dt.shouldCreateUser)||void 0===ce||ce,gotrue_meta_security:{captcha_token:null==dt?void 0:dt.captchaToken},code_challenge:Tn,code_challenge_method:Vn},redirectTo:null==dt?void 0:dt.emailRedirectTo});return{data:{user:null,session:null},error:ar}}if("phone"in A){const{phone:At,options:dt}=A,{data:Tn,error:Vn}=yield pe(b.fetch,"POST",`${b.url}/otp`,{headers:b.headers,body:{phone:At,data:null!==(be=null==dt?void 0:dt.data)&&void 0!==be?be:{},create_user:null===(Ce=null==dt?void 0:dt.shouldCreateUser)||void 0===Ce||Ce,gotrue_meta_security:{captcha_token:null==dt?void 0:dt.captchaToken},channel:null!==(lt=null==dt?void 0:dt.channel)&&void 0!==lt?lt:"sms"}});return{data:{user:null,session:null,messageId:null==Tn?void 0:Tn.message_id},error:Vn}}throw new yo("You must provide either an email or phone number.")}catch(At){if(rr(At))return{data:{user:null,session:null},error:At};throw At}})()}verifyOtp(A){var b=this;return(0,c.A)(function*(){var H,ce;try{let be,Ce;"options"in A&&(be=null===(H=A.options)||void 0===H?void 0:H.redirectTo,Ce=null===(ce=A.options)||void 0===ce?void 0:ce.captchaToken);const{data:lt,error:At}=yield pe(b.fetch,"POST",`${b.url}/verify`,{headers:b.headers,body:Object.assign(Object.assign({},A),{gotrue_meta_security:{captcha_token:Ce}}),redirectTo:be,xform:Ue});if(At)throw At;if(!lt)throw new Error("An error occurred on token verification.");const dt=lt.session,Tn=lt.user;return null!=dt&&dt.access_token&&(yield b._saveSession(dt),yield b._notifyAllSubscribers("recovery"==A.type?"PASSWORD_RECOVERY":"SIGNED_IN",dt)),{data:{user:Tn,session:dt},error:null}}catch(be){if(rr(be))return{data:{user:null,session:null},error:be};throw be}})()}signInWithSSO(A){var b=this;return(0,c.A)(function*(){var H,ce,be;try{let Ce=null,lt=null;return"pkce"===b.flowType&&([Ce,lt]=yield ui(b.storage,b.storageKey)),yield pe(b.fetch,"POST",`${b.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in A?{provider_id:A.providerId}:null),"domain"in A?{domain:A.domain}:null),{redirect_to:null!==(ce=null===(H=A.options)||void 0===H?void 0:H.redirectTo)&&void 0!==ce?ce:void 0}),null!==(be=null==A?void 0:A.options)&&void 0!==be&&be.captchaToken?{gotrue_meta_security:{captcha_token:A.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:Ce,code_challenge_method:lt}),headers:b.headers,xform:Tt})}catch(Ce){if(rr(Ce))return{data:null,error:Ce};throw Ce}})()}reauthenticate(){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return yield A._reauthenticate()}))})()}_reauthenticate(){var A=this;return(0,c.A)(function*(){try{return yield A._useSession(function(){var b=(0,c.A)(function*(H){const{data:{session:ce},error:be}=H;if(be)throw be;if(!ce)throw new po;const{error:Ce}=yield pe(A.fetch,"GET",`${A.url}/reauthenticate`,{headers:A.headers,jwt:ce.access_token});return{data:{user:null,session:null},error:Ce}});return function(H){return b.apply(this,arguments)}}())}catch(b){if(rr(b))return{data:{user:null,session:null},error:b};throw b}})()}resend(A){var b=this;return(0,c.A)(function*(){try{const H=`${b.url}/resend`;if("email"in A){const{email:ce,type:be,options:Ce}=A,{error:lt}=yield pe(b.fetch,"POST",H,{headers:b.headers,body:{email:ce,type:be,gotrue_meta_security:{captcha_token:null==Ce?void 0:Ce.captchaToken}},redirectTo:null==Ce?void 0:Ce.emailRedirectTo});return{data:{user:null,session:null},error:lt}}if("phone"in A){const{phone:ce,type:be,options:Ce}=A,{data:lt,error:At}=yield pe(b.fetch,"POST",H,{headers:b.headers,body:{phone:ce,type:be,gotrue_meta_security:{captcha_token:null==Ce?void 0:Ce.captchaToken}}});return{data:{user:null,session:null,messageId:null==lt?void 0:lt.message_id},error:At}}throw new yo("You must provide either an email or phone number and a type")}catch(H){if(rr(H))return{data:{user:null,session:null},error:H};throw H}})()}getSession(){var A=this;return(0,c.A)(function*(){return yield A.initializePromise,yield A._acquireLock(-1,(0,c.A)(function*(){return A._useSession(function(){var H=(0,c.A)(function*(ce){return ce});return function(ce){return H.apply(this,arguments)}}())}))})()}_acquireLock(A,b){var H=this;return(0,c.A)(function*(){H._debug("#_acquireLock","begin",A);try{if(H.lockAcquired){const ce=H.pendingInLock.length?H.pendingInLock[H.pendingInLock.length-1]:Promise.resolve(),be=(0,c.A)(function*(){return yield ce,yield b()})();return H.pendingInLock.push((0,c.A)(function*(){try{yield be}catch{}})()),be}return yield H.lock(`lock:${H.storageKey}`,A,(0,c.A)(function*(){H._debug("#_acquireLock","lock acquired for storage key",H.storageKey);try{H.lockAcquired=!0;const ce=b();for(H.pendingInLock.push((0,c.A)(function*(){try{yield ce}catch{}})()),yield ce;H.pendingInLock.length;){const be=[...H.pendingInLock];yield Promise.all(be),H.pendingInLock.splice(0,be.length)}return yield ce}finally{H._debug("#_acquireLock","lock released for storage key",H.storageKey),H.lockAcquired=!1}}))}finally{H._debug("#_acquireLock","end")}})()}_useSession(A){var b=this;return(0,c.A)(function*(){b._debug("#_useSession","begin");try{const H=yield b.__loadSession();return yield A(H)}finally{b._debug("#_useSession","end")}})()}__loadSession(){var A=this;return(0,c.A)(function*(){A._debug("#__loadSession()","begin"),A.lockAcquired||A._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let b=null;const H=yield gn(A.storage,A.storageKey);if(A._debug("#getSession()","session from storage",H),null!==H&&(A._isValidSession(H)?b=H:(A._debug("#getSession()","session from storage is not valid"),yield A._removeSession())),!b)return{data:{session:null},error:null};const ce=!!b.expires_at&&b.expires_at<=Date.now()/1e3;if(A._debug("#__loadSession()",`session has${ce?"":" not"} expired`,"expires_at",b.expires_at),!ce){if(A.storage.isServer){let lt=A.suppressGetSessionWarning;b=new Proxy(b,{get:(dt,Tn,Vn)=>(!lt&&"user"===Tn&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),lt=!0,A.suppressGetSessionWarning=!0),Reflect.get(dt,Tn,Vn))})}return{data:{session:b},error:null}}const{session:be,error:Ce}=yield A._callRefreshToken(b.refresh_token);return Ce?{data:{session:null},error:Ce}:{data:{session:be},error:null}}finally{A._debug("#__loadSession()","end")}})()}getUser(A){var b=this;return(0,c.A)(function*(){return A?yield b._getUser(A):(yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._getUser()})))})()}_getUser(A){var b=this;return(0,c.A)(function*(){try{return A?yield pe(b.fetch,"GET",`${b.url}/user`,{headers:b.headers,jwt:A,xform:_t}):yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be,Ce,lt;const{data:At,error:dt}=ce;if(dt)throw dt;return null!==(be=At.session)&&void 0!==be&&be.access_token||b.hasCustomAuthorizationHeader?yield pe(b.fetch,"GET",`${b.url}/user`,{headers:b.headers,jwt:null!==(lt=null===(Ce=At.session)||void 0===Ce?void 0:Ce.access_token)&&void 0!==lt?lt:void 0,xform:_t}):{data:{user:null},error:new po}});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return function go(re){return rr(re)&&"AuthSessionMissingError"===re.name}(H)&&(yield b._removeSession(),yield he(b.storage,`${b.storageKey}-code-verifier`),yield b._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:H};throw H}})()}updateUser(A,b={}){var H=this;return(0,c.A)(function*(){return yield H.initializePromise,yield H._acquireLock(-1,(0,c.A)(function*(){return yield H._updateUser(A,b)}))})()}_updateUser(A,b={}){var H=this;return(0,c.A)(function*(){try{return yield H._useSession(function(){var ce=(0,c.A)(function*(be){const{data:Ce,error:lt}=be;if(lt)throw lt;if(!Ce.session)throw new po;const At=Ce.session;let dt=null,Tn=null;"pkce"===H.flowType&&null!=A.email&&([dt,Tn]=yield ui(H.storage,H.storageKey));const{data:Vn,error:ar}=yield pe(H.fetch,"PUT",`${H.url}/user`,{headers:H.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},A),{code_challenge:dt,code_challenge_method:Tn}),jwt:At.access_token,xform:_t});if(ar)throw ar;return At.user=Vn.user,yield H._saveSession(At),yield H._notifyAllSubscribers("USER_UPDATED",At),{data:{user:At.user},error:null}});return function(be){return ce.apply(this,arguments)}}())}catch(ce){if(rr(ce))return{data:{user:null},error:ce};throw ce}})()}_decodeJWT(A){return wt(A)}setSession(A){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._setSession(A)}))})()}_setSession(A){var b=this;return(0,c.A)(function*(){try{if(!A.access_token||!A.refresh_token)throw new po;const H=Date.now()/1e3;let ce=H,be=!0,Ce=null;const lt=wt(A.access_token);if(lt.exp&&(ce=lt.exp,be=ce<=H),be){const{session:At,error:dt}=yield b._callRefreshToken(A.refresh_token);if(dt)return{data:{user:null,session:null},error:dt};if(!At)return{data:{user:null,session:null},error:null};Ce=At}else{const{data:At,error:dt}=yield b._getUser(A.access_token);if(dt)throw dt;Ce={access_token:A.access_token,refresh_token:A.refresh_token,user:At.user,token_type:"bearer",expires_in:ce-H,expires_at:ce},yield b._saveSession(Ce),yield b._notifyAllSubscribers("SIGNED_IN",Ce)}return{data:{user:Ce.user,session:Ce},error:null}}catch(H){if(rr(H))return{data:{session:null,user:null},error:H};throw H}})()}refreshSession(A){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._refreshSession(A)}))})()}_refreshSession(A){var b=this;return(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be;if(!A){const{data:At,error:dt}=ce;if(dt)throw dt;A=null!==(be=At.session)&&void 0!==be?be:void 0}if(null==A||!A.refresh_token)throw new po;const{session:Ce,error:lt}=yield b._callRefreshToken(A.refresh_token);return lt?{data:{user:null,session:null},error:lt}:Ce?{data:{user:Ce.user,session:Ce},error:null}:{data:{user:null,session:null},error:null}});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:{user:null,session:null},error:H};throw H}})()}_getSessionFromURL(A){var b=this;return(0,c.A)(function*(){try{if(!q())throw new mo("No browser detected.");if("implicit"===b.flowType&&!b._isImplicitGrantFlow())throw new mo("Not a valid implicit grant flow url.");if("pkce"==b.flowType&&!A)throw new ts("Not a valid PKCE flow url.");const H=le(window.location.href);if(A){if(!H.code)throw new ts("No code detected.");const{data:x,error:de}=yield b._exchangeCodeForSession(H.code);if(de)throw de;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}if(H.error||H.error_description||H.error_code)throw new mo(H.error_description||"Error in URL with unspecified error_description",{error:H.error||"unspecified_error",code:H.error_code||"unspecified_code"});const{provider_token:ce,provider_refresh_token:be,access_token:Ce,refresh_token:lt,expires_in:At,expires_at:dt,token_type:Tn}=H;if(!(Ce&&At&&lt&&Tn))throw new mo("No session defined in URL");const Vn=Math.round(Date.now()/1e3),ar=parseInt(At);let br=Vn+ar;dt&&(br=parseInt(dt));const Ni=br-Vn;1e3*Ni<=Xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Ni}s, should have been closer to ${ar}s`);const hi=br-ar;Vn-hi>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",hi,br,Vn):Vn-hi<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",hi,br,Vn);const{data:qo,error:Bo}=yield b._getUser(Ce);if(Bo)throw Bo;const K={provider_token:ce,provider_refresh_token:be,access_token:Ce,expires_in:ar,expires_at:br,refresh_token:lt,token_type:Tn,user:qo.user};return window.location.hash="",b._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:H.type},error:null}}catch(H){if(rr(H))return{data:{session:null,redirectType:null},error:H};throw H}})()}_isImplicitGrantFlow(){const A=le(window.location.href);return!(!q()||!A.access_token&&!A.error_description)}_isPKCEFlow(){var A=this;return(0,c.A)(function*(){const b=le(window.location.href),H=yield gn(A.storage,`${A.storageKey}-code-verifier`);return!(!b.code||!H)})()}signOut(A={scope:"global"}){var b=this;return(0,c.A)(function*(){return yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){return yield b._signOut(A)}))})()}_signOut({scope:A}={scope:"global"}){var b=this;return(0,c.A)(function*(){return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be;const{data:Ce,error:lt}=ce;if(lt)return{error:lt};const At=null===(be=Ce.session)||void 0===be?void 0:be.access_token;if(At){const{error:dt}=yield b.admin.signOut(At,A);if(dt&&(!function qi(re){return rr(re)&&"AuthApiError"===re.name}(dt)||404!==dt.status&&401!==dt.status&&403!==dt.status))return{error:dt}}return"others"!==A&&(yield b._removeSession(),yield he(b.storage,`${b.storageKey}-code-verifier`),yield b._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function(ce){return H.apply(this,arguments)}}())})()}onAuthStateChange(A){var b=this;const H=function fe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(re){const G=16*Math.random()|0;return("x"==re?G:3&G|8).toString(16)})}(),ce={id:H,callback:A,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",H),this.stateChangeEmitters.delete(H)}};return this._debug("#onAuthStateChange()","registered callback with id",H),this.stateChangeEmitters.set(H,ce),(0,c.A)(function*(){yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){b._emitInitialSession(H)}))})(),{data:{subscription:ce}}}_emitInitialSession(A){var b=this;return(0,c.A)(function*(){return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be,Ce;try{const{data:{session:lt},error:At}=ce;if(At)throw At;yield null===(be=b.stateChangeEmitters.get(A))||void 0===be?void 0:be.callback("INITIAL_SESSION",lt),b._debug("INITIAL_SESSION","callback id",A,"session",lt)}catch(lt){yield null===(Ce=b.stateChangeEmitters.get(A))||void 0===Ce?void 0:Ce.callback("INITIAL_SESSION",null),b._debug("INITIAL_SESSION","callback id",A,"error",lt),console.error(lt)}});return function(ce){return H.apply(this,arguments)}}())})()}resetPasswordForEmail(A,b={}){var H=this;return(0,c.A)(function*(){let ce=null,be=null;"pkce"===H.flowType&&([ce,be]=yield ui(H.storage,H.storageKey,!0));try{return yield pe(H.fetch,"POST",`${H.url}/recover`,{body:{email:A,code_challenge:ce,code_challenge_method:be,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:H.headers,redirectTo:b.redirectTo})}catch(Ce){if(rr(Ce))return{data:null,error:Ce};throw Ce}})()}getUserIdentities(){var A=this;return(0,c.A)(function*(){var b;try{const{data:H,error:ce}=yield A.getUser();if(ce)throw ce;return{data:{identities:null!==(b=H.user.identities)&&void 0!==b?b:[]},error:null}}catch(H){if(rr(H))return{data:null,error:H};throw H}})()}linkIdentity(A){var b=this;return(0,c.A)(function*(){var H;try{const{data:ce,error:be}=yield b._useSession(function(){var Ce=(0,c.A)(function*(lt){var At,dt,Tn,Vn,ar;const{data:br,error:Ni}=lt;if(Ni)throw Ni;const hi=yield b._getUrlForProvider(`${b.url}/user/identities/authorize`,A.provider,{redirectTo:null===(At=A.options)||void 0===At?void 0:At.redirectTo,scopes:null===(dt=A.options)||void 0===dt?void 0:dt.scopes,queryParams:null===(Tn=A.options)||void 0===Tn?void 0:Tn.queryParams,skipBrowserRedirect:!0});return yield pe(b.fetch,"GET",hi,{headers:b.headers,jwt:null!==(ar=null===(Vn=br.session)||void 0===Vn?void 0:Vn.access_token)&&void 0!==ar?ar:void 0})});return function(lt){return Ce.apply(this,arguments)}}());if(be)throw be;return q()&&!(null!==(H=A.options)&&void 0!==H&&H.skipBrowserRedirect)&&window.location.assign(null==ce?void 0:ce.url),{data:{provider:A.provider,url:null==ce?void 0:ce.url},error:null}}catch(ce){if(rr(ce))return{data:{provider:A.provider,url:null},error:ce};throw ce}})()}unlinkIdentity(A){var b=this;return(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be,Ce;const{data:lt,error:At}=ce;if(At)throw At;return yield pe(b.fetch,"DELETE",`${b.url}/user/identities/${A.identity_id}`,{headers:b.headers,jwt:null!==(Ce=null===(be=lt.session)||void 0===be?void 0:be.access_token)&&void 0!==Ce?Ce:void 0})});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:null,error:H};throw H}})()}_refreshAccessToken(A){var b=this;return(0,c.A)(function*(){const H=`#_refreshAccessToken(${A.substring(0,5)}...)`;b._debug(H,"begin");try{const ce=Date.now();return yield function $n(re,G){return new Promise((b,H)=>{(0,c.A)(function*(){for(let ce=0;ce<1/0;ce++)try{const be=yield re(ce);if(!G(ce,null,be))return void b(be)}catch(be){if(!G(ce,be))return void H(be)}})()})}(function(){var be=(0,c.A)(function*(Ce){return Ce>0&&(yield function zt(re){return En.apply(this,arguments)}(200*Math.pow(2,Ce-1))),b._debug(H,"refreshing attempt",Ce),yield pe(b.fetch,"POST",`${b.url}/token?grant_type=refresh_token`,{body:{refresh_token:A},headers:b.headers,xform:Ue})});return function(Ce){return be.apply(this,arguments)}}(),(be,Ce)=>{const lt=200*Math.pow(2,be);return Ce&&Qr(Ce)&&Date.now()+lt-ce<Xi})}catch(ce){if(b._debug(H,"error",ce),rr(ce))return{data:{session:null,user:null},error:ce};throw ce}finally{b._debug(H,"end")}})()}_isValidSession(A){return"object"==typeof A&&null!==A&&"access_token"in A&&"refresh_token"in A&&"expires_at"in A}_handleProviderSignIn(A,b){var H=this;return(0,c.A)(function*(){const ce=yield H._getUrlForProvider(`${H.url}/authorize`,A,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return H._debug("#_handleProviderSignIn()","provider",A,"options",b,"url",ce),q()&&!b.skipBrowserRedirect&&window.location.assign(ce),{data:{provider:A,url:ce},error:null}})()}_recoverAndRefresh(){var A=this;return(0,c.A)(function*(){var b;const H="#_recoverAndRefresh()";A._debug(H,"begin");try{const ce=yield gn(A.storage,A.storageKey);if(A._debug(H,"session from storage",ce),!A._isValidSession(ce))return A._debug(H,"session is not valid"),void(null!==ce&&(yield A._removeSession()));const be=Math.round(Date.now()/1e3),Ce=(null!==(b=ce.expires_at)&&void 0!==b?b:1/0)<be+10;if(A._debug(H,`session has${Ce?"":" not"} expired with margin of 10s`),Ce){if(A.autoRefreshToken&&ce.refresh_token){const{error:lt}=yield A._callRefreshToken(ce.refresh_token);lt&&(console.error(lt),Qr(lt)||(A._debug(H,"refresh failed with a non-retryable error, removing the session",lt),yield A._removeSession()))}}else yield A._notifyAllSubscribers("SIGNED_IN",ce)}catch(ce){return A._debug(H,"error",ce),void console.error(ce)}finally{A._debug(H,"end")}})()}_callRefreshToken(A){var b=this;return(0,c.A)(function*(){var H,ce;if(!A)throw new po;if(b.refreshingDeferred)return b.refreshingDeferred.promise;const be=`#_callRefreshToken(${A.substring(0,5)}...)`;b._debug(be,"begin");try{b.refreshingDeferred=new Nt;const{data:Ce,error:lt}=yield b._refreshAccessToken(A);if(lt)throw lt;if(!Ce.session)throw new po;yield b._saveSession(Ce.session),yield b._notifyAllSubscribers("TOKEN_REFRESHED",Ce.session);const At={session:Ce.session,error:null};return b.refreshingDeferred.resolve(At),At}catch(Ce){if(b._debug(be,"error",Ce),rr(Ce)){const lt={session:null,error:Ce};return Qr(Ce)||(yield b._removeSession(),yield b._notifyAllSubscribers("SIGNED_OUT",null)),null===(H=b.refreshingDeferred)||void 0===H||H.resolve(lt),lt}throw null===(ce=b.refreshingDeferred)||void 0===ce||ce.reject(Ce),Ce}finally{b.refreshingDeferred=null,b._debug(be,"end")}})()}_notifyAllSubscribers(A,b,H=!0){var ce=this;return(0,c.A)(function*(){const be=`#_notifyAllSubscribers(${A})`;ce._debug(be,"begin",b,`broadcast = ${H}`);try{ce.broadcastChannel&&H&&ce.broadcastChannel.postMessage({event:A,session:b});const Ce=[],lt=Array.from(ce.stateChangeEmitters.values()).map(function(){var At=(0,c.A)(function*(dt){try{yield dt.callback(A,b)}catch(Tn){Ce.push(Tn)}});return function(dt){return At.apply(this,arguments)}}());if(yield Promise.all(lt),Ce.length>0){for(let At=0;At<Ce.length;At+=1)console.error(Ce[At]);throw Ce[0]}}finally{ce._debug(be,"end")}})()}_saveSession(A){var b=this;return(0,c.A)(function*(){b._debug("#_saveSession()",A),b.suppressGetSessionWarning=!0,yield on(b.storage,b.storageKey,A)})()}_removeSession(){var A=this;return(0,c.A)(function*(){A._debug("#_removeSession()"),yield he(A.storage,A.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const A=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{A&&q()&&null!=window&&window.removeEventListener&&window.removeEventListener("visibilitychange",A)}catch(b){console.error("removing visibilitychange callback failed",b)}}_startAutoRefresh(){var A=this;return(0,c.A)(function*(){yield A._stopAutoRefresh(),A._debug("#_startAutoRefresh()");const b=setInterval(()=>A._autoRefreshTokenTick(),Xi);A.autoRefreshTicker=b,b&&"object"==typeof b&&"function"==typeof b.unref?b.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(b),setTimeout((0,c.A)(function*(){yield A.initializePromise,yield A._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var A=this;return(0,c.A)(function*(){A._debug("#_stopAutoRefresh()");const b=A.autoRefreshTicker;A.autoRefreshTicker=null,b&&clearInterval(b)})()}startAutoRefresh(){var A=this;return(0,c.A)(function*(){A._removeVisibilityChangedCallback(),yield A._startAutoRefresh()})()}stopAutoRefresh(){var A=this;return(0,c.A)(function*(){A._removeVisibilityChangedCallback(),yield A._stopAutoRefresh()})()}_autoRefreshTokenTick(){var A=this;return(0,c.A)(function*(){A._debug("#_autoRefreshTokenTick()","begin");try{yield A._acquireLock(0,(0,c.A)(function*(){try{const b=Date.now();try{return yield A._useSession(function(){var H=(0,c.A)(function*(ce){const{data:{session:be}}=ce;if(!be||!be.refresh_token||!be.expires_at)return void A._debug("#_autoRefreshTokenTick()","no session");const Ce=Math.floor((1e3*be.expires_at-b)/Xi);A._debug("#_autoRefreshTokenTick()",`access token expires in ${Ce} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),Ce<=3&&(yield A._callRefreshToken(be.refresh_token))});return function(ce){return H.apply(this,arguments)}}())}catch(H){console.error("Auto refresh tick failed with error. This is likely a transient error.",H)}}finally{A._debug("#_autoRefreshTokenTick()","end")}}))}catch(b){if(!(b.isAcquireTimeout||b instanceof xi))throw b;A._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var A=this;return(0,c.A)(function*(){if(A._debug("#_handleVisibilityChange()"),!q()||null==window||!window.addEventListener)return A.autoRefreshToken&&A.startAutoRefresh(),!1;try{A.visibilityChangedCallback=(0,c.A)(function*(){return yield A._onVisibilityChanged(!1)}),null==window||window.addEventListener("visibilitychange",A.visibilityChangedCallback),yield A._onVisibilityChanged(!0)}catch(b){console.error("_handleVisibilityChange",b)}})()}_onVisibilityChanged(A){var b=this;return(0,c.A)(function*(){const H=`#_onVisibilityChanged(${A})`;b._debug(H,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(b.autoRefreshToken&&b._startAutoRefresh(),A||(yield b.initializePromise,yield b._acquireLock(-1,(0,c.A)(function*(){"visible"===document.visibilityState?yield b._recoverAndRefresh():b._debug(H,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&b.autoRefreshToken&&b._stopAutoRefresh()})()}_getUrlForProvider(A,b,H){var ce=this;return(0,c.A)(function*(){const be=[`provider=${encodeURIComponent(b)}`];if(null!=H&&H.redirectTo&&be.push(`redirect_to=${encodeURIComponent(H.redirectTo)}`),null!=H&&H.scopes&&be.push(`scopes=${encodeURIComponent(H.scopes)}`),"pkce"===ce.flowType){const[Ce,lt]=yield ui(ce.storage,ce.storageKey),At=new URLSearchParams({code_challenge:`${encodeURIComponent(Ce)}`,code_challenge_method:`${encodeURIComponent(lt)}`});be.push(At.toString())}if(null!=H&&H.queryParams){const Ce=new URLSearchParams(H.queryParams);be.push(Ce.toString())}return null!=H&&H.skipBrowserRedirect&&be.push(`skip_http_redirect=${H.skipBrowserRedirect}`),`${A}?${be.join("&")}`})()}_unenroll(A){var b=this;return(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be;const{data:Ce,error:lt}=ce;return lt?{data:null,error:lt}:yield pe(b.fetch,"DELETE",`${b.url}/factors/${A.factorId}`,{headers:b.headers,jwt:null===(be=null==Ce?void 0:Ce.session)||void 0===be?void 0:be.access_token})});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:null,error:H};throw H}})()}_enroll(A){var b=this;return(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be,Ce;const{data:lt,error:At}=ce;if(At)return{data:null,error:At};const dt=Object.assign({friendly_name:A.friendlyName,factor_type:A.factorType},"phone"===A.factorType?{phone:A.phone}:{issuer:A.issuer}),{data:Tn,error:Vn}=yield pe(b.fetch,"POST",`${b.url}/factors`,{body:dt,headers:b.headers,jwt:null===(be=null==lt?void 0:lt.session)||void 0===be?void 0:be.access_token});return Vn?{data:null,error:Vn}:("phone"===A.factorType&&delete Tn.totp,"totp"===A.factorType&&!(null===(Ce=null==Tn?void 0:Tn.totp)||void 0===Ce)&&Ce.qr_code&&(Tn.totp.qr_code=`data:image/svg+xml;utf-8,${Tn.totp.qr_code}`),{data:Tn,error:null})});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:null,error:H};throw H}})()}_verify(A){var b=this;return(0,c.A)(function*(){return b._acquireLock(-1,(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be;const{data:Ce,error:lt}=ce;if(lt)return{data:null,error:lt};const{data:At,error:dt}=yield pe(b.fetch,"POST",`${b.url}/factors/${A.factorId}/verify`,{body:{code:A.code,challenge_id:A.challengeId},headers:b.headers,jwt:null===(be=null==Ce?void 0:Ce.session)||void 0===be?void 0:be.access_token});return dt?{data:null,error:dt}:(yield b._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+At.expires_in},At)),yield b._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",At),{data:At,error:dt})});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:null,error:H};throw H}}))})()}_challenge(A){var b=this;return(0,c.A)(function*(){return b._acquireLock(-1,(0,c.A)(function*(){try{return yield b._useSession(function(){var H=(0,c.A)(function*(ce){var be;const{data:Ce,error:lt}=ce;return lt?{data:null,error:lt}:yield pe(b.fetch,"POST",`${b.url}/factors/${A.factorId}/challenge`,{body:{channel:A.channel},headers:b.headers,jwt:null===(be=null==Ce?void 0:Ce.session)||void 0===be?void 0:be.access_token})});return function(ce){return H.apply(this,arguments)}}())}catch(H){if(rr(H))return{data:null,error:H};throw H}}))})()}_challengeAndVerify(A){var b=this;return(0,c.A)(function*(){const{data:H,error:ce}=yield b._challenge({factorId:A.factorId});return ce?{data:null,error:ce}:yield b._verify({factorId:A.factorId,challengeId:H.id,code:A.code})})()}_listFactors(){var A=this;return(0,c.A)(function*(){const{data:{user:b},error:H}=yield A.getUser();if(H)return{data:null,error:H};const ce=(null==b?void 0:b.factors)||[],be=ce.filter(lt=>"totp"===lt.factor_type&&"verified"===lt.status),Ce=ce.filter(lt=>"phone"===lt.factor_type&&"verified"===lt.status);return{data:{all:ce,totp:be,phone:Ce},error:null}})()}_getAuthenticatorAssuranceLevel(){var A=this;return(0,c.A)(function*(){return A._acquireLock(-1,(0,c.A)(function*(){return yield A._useSession(function(){var b=(0,c.A)(function*(H){var ce,be;const{data:{session:Ce},error:lt}=H;if(lt)return{data:null,error:lt};if(!Ce)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const At=A._decodeJWT(Ce.access_token);let dt=null;At.aal&&(dt=At.aal);let Tn=dt;return(null!==(be=null===(ce=Ce.user.factors)||void 0===ce?void 0:ce.filter(br=>"verified"===br.status))&&void 0!==be?be:[]).length>0&&(Tn="aal2"),{data:{currentLevel:dt,nextLevel:Tn,currentAuthenticationMethods:At.amr||[]},error:null}});return function(H){return b.apply(this,arguments)}}())}))})()}}return re.nextInstanceID=0,re})();const ao=Ps;class Vo extends ao{constructor(G){super(G)}}var lo=O(8455),Ko=O(3953);const Uo=new class fs{constructor(G,A,b){var H,ce,be;if(this.supabaseUrl=G,this.supabaseKey=A,!G)throw new Error("supabaseUrl is required.");if(!A)throw new Error("supabaseKey is required.");const Ce=function Ar(re){return re.replace(/\/$/,"")}(G);this.realtimeUrl=`${Ce}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${Ce}/auth/v1`,this.storageUrl=`${Ce}/storage/v1`,this.functionsUrl=`${Ce}/functions/v1`;const lt=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,dt=function Ir(re,G){const{db:A,auth:b,realtime:H,global:ce}=re,{db:be,auth:Ce,realtime:lt,global:At}=G,dt={db:Object.assign(Object.assign({},be),A),auth:Object.assign(Object.assign({},Ce),b),realtime:Object.assign(Object.assign({},lt),H),global:Object.assign(Object.assign({},At),ce),accessToken:()=>function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})}(this,void 0,void 0,function*(){return""})};return re.accessToken?dt.accessToken=re.accessToken:delete dt.accessToken,dt}(null!=b?b:{},{db:ut,realtime:Z,auth:Object.assign(Object.assign({},Kt),{storageKey:lt}),global:qt});this.storageKey=null!==(H=dt.auth.storageKey)&&void 0!==H?H:"",this.headers=null!==(ce=dt.global.headers)&&void 0!==ce?ce:{},dt.accessToken?(this.accessToken=dt.accessToken,this.auth=new Proxy({},{get:(Tn,Vn)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Vn)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(be=dt.auth)&&void 0!==be?be:{},this.headers,dt.global.fetch),this.fetch=rn(A,this._getAccessToken.bind(this),dt.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},dt.realtime)),this.rest=new ye(`${Ce}/rest/v1`,{headers:this.headers,schema:dt.db.schema,fetch:this.fetch}),dt.accessToken||this._listenForAuthEvents()}get functions(){return new We(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pn(this.storageUrl,this.headers,this.fetch)}from(G){return this.rest.from(G)}schema(G){return this.rest.schema(G)}rpc(G,A={},b={}){return this.rest.rpc(G,A,b)}channel(G,A={config:{}}){return this.realtime.channel(G,A)}getChannels(){return this.realtime.getChannels()}removeChannel(G){return this.realtime.removeChannel(G)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var G,A;return function(re,G,A,b){return new(A||(A=Promise))(function(ce,be){function Ce(dt){try{At(b.next(dt))}catch(Tn){be(Tn)}}function lt(dt){try{At(b.throw(dt))}catch(Tn){be(Tn)}}function At(dt){dt.done?ce(dt.value):function H(ce){return ce instanceof A?ce:new A(function(be){be(ce)})}(dt.value).then(Ce,lt)}At((b=b.apply(re,G||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:b}=yield this.auth.getSession();return null!==(A=null===(G=b.session)||void 0===G?void 0:G.access_token)&&void 0!==A?A:null})}_initSupabaseAuthClient({autoRefreshToken:G,persistSession:A,detectSessionInUrl:b,storage:H,storageKey:ce,flowType:be,lock:Ce,debug:lt},At,dt){var Tn;return new Vo({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),At),storageKey:ce,autoRefreshToken:G,persistSession:A,detectSessionInUrl:b,storage:H,flowType:be,lock:Ce,debug:lt,fetch:dt,hasCustomAuthorizationHeader:null!==(Tn="Authorization"in this.headers)&&void 0!==Tn&&Tn})}_initRealtimeClient(G){return new wn(this.realtimeUrl,Object.assign(Object.assign({},G),{params:Object.assign({apikey:this.supabaseKey},null==G?void 0:G.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((A,b)=>{this._handleTokenChanged(A,"CLIENT",null==b?void 0:b.access_token)})}_handleTokenChanged(G,A,b){"TOKEN_REFRESHED"!==G&&"SIGNED_IN"!==G||this.changedAccessToken===b?"SIGNED_OUT"===G&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==A&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(null!=b?b:null),this.changedAccessToken=b)}}("https://bylojwooqeylbizbxlxs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5bG9qd29vcWV5bGJpemJ4bHhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ4NzQwMDYsImV4cCI6MjA0MDQ1MDAwNn0.GVPnlxI0FM1BUc6iZ0EM0adZxazVIJtUtKKiBz8RSaI",undefined);let Hs=(()=>{var re;class G{getCourses(){return(0,lo.H)(this.fetchCoursesFromSupabase())}fetchCoursesFromSupabase(){var b=this;return(0,c.A)(function*(){const{data:H,error:ce}=yield Uo.from("courses").select("\n        id,\n        name,\n        description,\n        questions:questions (\n          question,\n          answer\n        )\n      ");return ce?(console.error("Error fetching courses:",ce),[]):H&&0!==H.length?H.map(be=>({id:be.id,name:be.name,description:be.description,components:{practice:{questions:be.questions||[]},study:{questions:be.questions||[]},quiz:{questions:b.generateQuizQuestions(be.questions||[])}}})):(console.error("No courses found."),[])})()}generateQuizQuestions(b){return b.map(H=>{const ce=H.answer,Ce=b.map(At=>At.answer).filter(At=>At!==ce).slice(0,3),lt=this.shuffleArray([ce,...Ce]);return{question:H.question,options:lt,answer:ce}})}shuffleArray(b){for(let H=b.length-1;H>0;H--){const ce=Math.floor(Math.random()*(H+1));[b[H],b[ce]]=[b[ce],b[H]]}return b}addQuestionToCourse(b,H,ce){return(0,c.A)(function*(){const{data:be,error:Ce}=yield Uo.from("questions").insert([{course_id:b,question:H,answer:ce}]);if(Ce)throw Ce;console.log("Question added:",be)})()}createNewCourse(b,H){return(0,c.A)(function*(){const{data:ce,error:be}=yield Uo.from("courses").insert([{name:b,description:H}]).select("id");if(be)throw be;console.log("New course added:",ce)})()}updateStreak(b){return(0,c.A)(function*(){const H=(new Date).toLocaleDateString("en-CA"),{data:ce,error:be}=yield Uo.from("user_streaks").select("last_streak_update, streak, personal_best").eq("user_id",b).single();if(be&&"PGRST116"!==be.code)return console.error("Error fetching streak:",be),0;if(ce&&ce.last_streak_update===H)return console.log("Streak already updated today, no changes made"),ce.streak;let Ce=1,lt=(null==ce?void 0:ce.personal_best)||0;if(ce){const dt=new Date(ce.last_streak_update).toLocaleDateString("en-CA");new Date(H).getTime()-new Date(dt).getTime()==864e5?Ce=ce.streak+1:new Date(H).getTime()-new Date(dt).getTime()>864e5&&(Ce=1),Ce>lt&&(lt=Ce)}console.log(`Updating user ${b} with streak: ${Ce}, personal best: ${lt}`);const{error:At}=yield Uo.from("user_streaks").upsert({user_id:b,streak:Ce,personal_best:lt,last_streak_update:H},{onConflict:"user_id"});return At?(console.error("Error updating streak and personal best:",At),0):(console.log(`Streak updated successfully. Current streak: ${Ce}, Personal best: ${lt}`),Ce)})()}getPersonalBest(b){return(0,c.A)(function*(){const{data:H,error:ce}=yield Uo.from("user_streaks").select("personal_best").eq("user_id",b).single();return ce?(console.error("Error fetching personal best:",ce),0):(null==H?void 0:H.personal_best)||0})()}getStreak(b){return(0,c.A)(function*(){var H;const{data:ce,error:be}=yield Uo.from("user_streaks").select("streak").eq("user_id",b).single();return be&&"PGRST116"!==be.code?(console.error("Error fetching streak:",be),0):null!==(H=null==ce?void 0:ce.streak)&&void 0!==H?H:0})()}getLeaderboard(){return(0,c.A)(function*(){return[{username:"User1",correctAnswers:15},{username:"User2",correctAnswers:20},{username:"User3",correctAnswers:12},{username:"User4",correctAnswers:18},{username:"User5",correctAnswers:25}]})()}}return(re=G).\u0275fac=function(b){return new(b||re)},re.\u0275prov=Ko.jDH({token:re,factory:re.\u0275fac,providedIn:"root"}),G})()},8952:(Cn,it,O)=>{"use strict";var c=O(345),h=O(9384),F=O(1626),_e=O(2872),Q=O(4742),ee=O(3953),Ae=O(5709);let xe=(()=>{var Ht;class wn{constructor(Dt,bn,ot){this.platform=Dt,this.authService=bn,this.router=ot,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{})}onLogout(){this.authService.logout(),this.router.navigateByUrl("/auth")}}return(Ht=wn).\u0275fac=function(Dt){return new(Dt||Ht)(ee.rXU(_e.OD),ee.rXU(Ae.u),ee.rXU(h.Ix))},Ht.\u0275cmp=ee.VBU({type:Ht,selectors:[["app-root"]],decls:14,vars:0,consts:[["side","start","contentId","main-content"],["lines","none","button","",3,"click"],["name","exit","slot","start"],["id","main-content"]],template:function(Dt,bn){1&Dt&&(ee.j41(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),ee.EFF(5," StudyStack "),ee.k0s()()(),ee.j41(6,"ion-content")(7,"ion-list")(8,"ion-menu-toggle")(9,"ion-item",1),ee.bIt("click",function(){return bn.onLogout()}),ee.nrm(10,"ion-icon",2),ee.j41(11,"ion-label"),ee.EFF(12,"Logout"),ee.k0s()()()()()(),ee.nrm(13,"ion-router-outlet",3),ee.k0s())},dependencies:[Q.U1,Q.W9,Q.eU,Q.iq,Q.uz,Q.he,Q.nf,Q.oS,Q.cA,Q.BC,Q.ai,Q.Rg],encapsulation:2}),wn})();var We=O(7673),Oe=O(6697),ye=O(5558),ze=O(8141);let Qe=(()=>{var Ht;class wn{constructor(Dt,bn){this.authService=Dt,this.router=bn}canLoad(Dt,bn){return this.authService.userIsAuthenticated.pipe((0,Oe.s)(1),(0,ye.n)(ot=>ot?(0,We.of)(ot):this.authService.autoLogin()),(0,ze.M)(ot=>{ot||this.router.navigateByUrl("/auth")}))}}return(Ht=wn).\u0275fac=function(Dt){return new(Dt||Ht)(ee.KVO(Ae.u),ee.KVO(h.Ix))},Ht.\u0275prov=ee.jDH({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),wn})();const Ke=[{path:"",redirectTo:"places/tabs/dashboard",pathMatch:"full"},{path:"auth",loadChildren:()=>O.e(6926).then(O.bind(O,6926)).then(Ht=>Ht.AuthPageModule)},{path:"places",loadChildren:()=>O.e(8001).then(O.bind(O,8001)).then(Ht=>Ht.PlacesPageModule),canLoad:[Qe]},{path:"bookings",loadChildren:()=>O.e(613).then(O.bind(O,613)).then(Ht=>Ht.BookingsPageModule),canLoad:[Qe]},{path:"dashboard",loadChildren:()=>Promise.all([O.e(2076),O.e(5997)]).then(O.bind(O,5997)).then(Ht=>Ht.DashboardModule),canLoad:[Qe]},{path:"flashcard",loadChildren:()=>Promise.all([O.e(3955),O.e(9763)]).then(O.bind(O,9763)).then(Ht=>Ht.FlashcardPageModule)},{path:"login",loadChildren:()=>O.e(6926).then(O.bind(O,6926)).then(Ht=>Ht.AuthPageModule)},{path:"community",loadChildren:()=>O.e(6613).then(O.bind(O,6613)).then(Ht=>Ht.CommunityPageModule)},{path:"courses",loadChildren:()=>Promise.all([O.e(3955),O.e(1928)]).then(O.bind(O,1928)).then(Ht=>Ht.CoursesModule)}];let at=(()=>{var Ht;class wn{}return(Ht=wn).\u0275fac=function(Dt){return new(Dt||Ht)},Ht.\u0275mod=ee.$C({type:Ht}),Ht.\u0275inj=ee.G2t({imports:[h.iI.forRoot(Ke),h.iI]}),wn})();var mt=O(1346),rt=O(9253),st=O(1182),Mt=O(6598);Error,Error;const Je=new ee.nKC("localStoragePrefix",{providedIn:"root",factory:()=>""}),Ot=new ee.nKC("localStorageIDBDBName",{providedIn:"root",factory:()=>"ngStorage"}),pt=new ee.nKC("localStorageIDBDBVersion",{providedIn:"root",factory:()=>1}),tn=new ee.nKC("localStorageIDBStoreName",{providedIn:"root",factory:()=>"localStorage"}),hn=new ee.nKC("localStorageIDBWrap",{providedIn:"root",factory:()=>!0});let ue=(()=>{var Ht;class wn{static forRoot(Dt){return{ngModule:wn,providers:[Dt.LSPrefix?{provide:Je,useValue:Dt.LSPrefix}:[],Dt.IDBDBName?{provide:Ot,useValue:Dt.IDBDBName}:[],Dt.IDBStoreName?{provide:tn,useValue:Dt.IDBStoreName}:[],Dt.IDBDBVersion?{provide:pt,useValue:Dt.IDBDBVersion}:[],!1===Dt.IDBNoWrap?{provide:hn,useValue:Dt.IDBNoWrap}:[]]}}}return(Ht=wn).\u0275fac=function(Dt){return new(Dt||Ht)},Ht.\u0275mod=ee.$C({type:Ht}),Ht.\u0275inj=ee.G2t({}),wn})();Error;const xt_firebase={apiKey:"AIzaSyCI-J4BDzwkN_TgLquzABbyIMWh--C5_lE",authDomain:"bookings-abeec.firebaseapp.com",databaseURL:"https://bookings-abeec-default-rtdb.firebaseio.com",projectId:"bookings-abeec",storageBucket:"bookings-abeec.appspot.com",messagingSenderId:"1020345970274",appId:"1:1020345970274:web:5c9db56d14cbd8750f6b3b",measurementId:"G-TVR49T8XMK"};let kn=(()=>{var Ht;class wn{}return(Ht=wn).\u0275fac=function(Dt){return new(Dt||Ht)},Ht.\u0275mod=ee.$C({type:Ht,bootstrap:[xe]}),Ht.\u0275inj=ee.G2t({providers:[mt.w,{provide:h.b,useClass:_e.jM}],imports:[c.Bb,F.q1,ue.forRoot({}),Q.bv.forRoot(),at,rt.bf.initializeApp(xt_firebase),st.X8,Mt.cM]}),wn})();c.sG().bootstrapModule(kn).catch(Ht=>console.log(Ht))},5286:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{Headers:()=>Q,Request:()=>ee,Response:()=>Ae,default:()=>_e,fetch:()=>F});var h=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const F=h.fetch,_e=h.fetch.bind(h),Q=h.Headers,ee=h.Request,Ae=h.Response},5958:function(Cn,it,O){"use strict";var c=O(9293).default,h=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(it,"__esModule",{value:!0});const F=h(O(5286)),_e=h(O(4659));it.default=class Q{constructor(Ae){this.shouldThrowOnError=!1,this.method=Ae.method,this.url=Ae.url,this.headers=Ae.headers,this.schema=Ae.schema,this.body=Ae.body,this.shouldThrowOnError=Ae.shouldThrowOnError,this.signal=Ae.signal,this.isMaybeSingle=Ae.isMaybeSingle,this.fetch=Ae.fetch?Ae.fetch:typeof fetch>"u"?F.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(Ae,xe){return this.headers=Object.assign({},this.headers),this.headers[Ae]=xe,this}then(Ae,xe){var We=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let ye=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ze=c(function*(Qe){var Ke,at,mt;let rt=null,st=null,Mt=null,It=Qe.status,Ee=Qe.statusText;if(Qe.ok){if("HEAD"!==We.method){const tt=yield Qe.text();""===tt||(st="text/csv"===We.headers.Accept||We.headers.Accept&&We.headers.Accept.includes("application/vnd.pgrst.plan+text")?tt:JSON.parse(tt))}const ke=null===(Ke=We.headers.Prefer)||void 0===Ke?void 0:Ke.match(/count=(exact|planned|estimated)/),Je=null===(at=Qe.headers.get("content-range"))||void 0===at?void 0:at.split("/");ke&&Je&&Je.length>1&&(Mt=parseInt(Je[1])),We.isMaybeSingle&&"GET"===We.method&&Array.isArray(st)&&(st.length>1?(rt={code:"PGRST116",details:`Results contain ${st.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},st=null,Mt=null,It=406,Ee="Not Acceptable"):st=1===st.length?st[0]:null)}else{const ke=yield Qe.text();try{rt=JSON.parse(ke),Array.isArray(rt)&&404===Qe.status&&(st=[],rt=null,It=200,Ee="OK")}catch{404===Qe.status&&""===ke?(It=204,Ee="No Content"):rt={message:ke}}if(rt&&We.isMaybeSingle&&!(null===(mt=null==rt?void 0:rt.details)||void 0===mt)&&mt.includes("0 rows")&&(rt=null,It=200,Ee="OK"),rt&&We.shouldThrowOnError)throw new _e.default(rt)}return{error:rt,data:st,count:Mt,status:It,statusText:Ee}});return function(Qe){return ze.apply(this,arguments)}}());return this.shouldThrowOnError||(ye=ye.catch(ze=>{var Qe,Ke,at;return{error:{message:`${null!==(Qe=null==ze?void 0:ze.name)&&void 0!==Qe?Qe:"FetchError"}: ${null==ze?void 0:ze.message}`,details:`${null!==(Ke=null==ze?void 0:ze.stack)&&void 0!==Ke?Ke:""}`,hint:"",code:`${null!==(at=null==ze?void 0:ze.code)&&void 0!==at?at:""}`},data:null,count:null,status:0,statusText:""}})),ye.then(Ae,xe)}}},3242:function(Cn,it,O){"use strict";var c=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(it,"__esModule",{value:!0});const h=c(O(8666)),F=c(O(3608)),_e=O(3057);class Q{constructor(Ae,{headers:xe={},schema:We,fetch:Oe}={}){this.url=Ae,this.headers=Object.assign(Object.assign({},_e.DEFAULT_HEADERS),xe),this.schemaName=We,this.fetch=Oe}from(Ae){const xe=new URL(`${this.url}/${Ae}`);return new h.default(xe,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(Ae){return new Q(this.url,{headers:this.headers,schema:Ae,fetch:this.fetch})}rpc(Ae,xe={},{head:We=!1,get:Oe=!1,count:ye}={}){let ze;const Qe=new URL(`${this.url}/rpc/${Ae}`);let Ke;We||Oe?(ze=We?"HEAD":"GET",Object.entries(xe).filter(([mt,rt])=>void 0!==rt).map(([mt,rt])=>[mt,Array.isArray(rt)?`{${rt.join(",")}}`:`${rt}`]).forEach(([mt,rt])=>{Qe.searchParams.append(mt,rt)})):(ze="POST",Ke=xe);const at=Object.assign({},this.headers);return ye&&(at.Prefer=`count=${ye}`),new F.default({method:ze,url:Qe,headers:at,schema:this.schemaName,body:Ke,fetch:this.fetch,allowEmpty:!1})}}it.default=Q},4659:(Cn,it)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});class O extends Error{constructor(h){super(h.message),this.name="PostgrestError",this.details=h.details,this.hint=h.hint,this.code=h.code}}it.default=O},3608:function(Cn,it,O){"use strict";var c=this&&this.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(it,"__esModule",{value:!0});const h=c(O(3342));it.default=class F extends h.default{eq(Q,ee){return this.url.searchParams.append(Q,`eq.${ee}`),this}neq(Q,ee){return this.url.searchParams.append(Q,`neq.${ee}`),this}gt(Q,ee){return this.url.searchParams.append(Q,`gt.${ee}`),this}gte(Q,ee){return this.url.searchParams.append(Q,`gte.${ee}`),this}lt(Q,ee){return this.url.searchParams.append(Q,`lt.${ee}`),this}lte(Q,ee){return this.url.searchParams.append(Q,`lte.${ee}`),this}like(Q,ee){return this.url.searchParams.append(Q,`like.${ee}`),this}likeAllOf(Q,ee){return this.url.searchParams.append(Q,`like(all).{${ee.join(",")}}`),this}likeAnyOf(Q,ee){return this.url.searchParams.append(Q,`like(any).{${ee.join(",")}}`),this}ilike(Q,ee){return this.url.searchParams.append(Q,`ilike.${ee}`),this}ilikeAllOf(Q,ee){return this.url.searchParams.append(Q,`ilike(all).{${ee.join(",")}}`),this}ilikeAnyOf(Q,ee){return this.url.searchParams.append(Q,`ilike(any).{${ee.join(",")}}`),this}is(Q,ee){return this.url.searchParams.append(Q,`is.${ee}`),this}in(Q,ee){const Ae=Array.from(new Set(ee)).map(xe=>"string"==typeof xe&&new RegExp("[,()]").test(xe)?`"${xe}"`:`${xe}`).join(",");return this.url.searchParams.append(Q,`in.(${Ae})`),this}contains(Q,ee){return"string"==typeof ee?this.url.searchParams.append(Q,`cs.${ee}`):Array.isArray(ee)?this.url.searchParams.append(Q,`cs.{${ee.join(",")}}`):this.url.searchParams.append(Q,`cs.${JSON.stringify(ee)}`),this}containedBy(Q,ee){return"string"==typeof ee?this.url.searchParams.append(Q,`cd.${ee}`):Array.isArray(ee)?this.url.searchParams.append(Q,`cd.{${ee.join(",")}}`):this.url.searchParams.append(Q,`cd.${JSON.stringify(ee)}`),this}rangeGt(Q,ee){return this.url.searchParams.append(Q,`sr.${ee}`),this}rangeGte(Q,ee){return this.url.searchParams.append(Q,`nxl.${ee}`),this}rangeLt(Q,ee){return this.url.searchParams.append(Q,`sl.${ee}`),this}rangeLte(Q,ee){return this.url.searchParams.append(Q,`nxr.${ee}`),this}rangeAdjacent(Q,ee){return this.url.searchParams.append(Q,`adj.${ee}`),this}overlaps(Q,ee){return this.url.searchParams.append(Q,"string"==typeof ee?`ov.${ee}`:`ov.{${ee.join(",")}}`),this}textSearch(Q,ee,{config:Ae,type:xe}={}){let We="";return"plain"===xe?We="pl":"phrase"===xe?We="ph":"websearch"===xe&&(We="w"),this.url.searchParams.append(Q,`${We}fts${void 0===Ae?"":`(${Ae})`}.${ee}`),this}match(Q){return Object.entries(Q).forEach(([ee,Ae])=>{this.url.searchParams.append(ee,`eq.${Ae}`)}),this}not(Q,ee,Ae){return this.url.searchParams.append(Q,`not.${ee}.${Ae}`),this}or(Q,{foreignTable:ee,referencedTable:Ae=ee}={}){return this.url.searchParams.append(Ae?`${Ae}.or`:"or",`(${Q})`),this}filter(Q,ee,Ae){return this.url.searchParams.append(Q,`${ee}.${Ae}`),this}}},8666:function(Cn,it,O){"use strict";var c=this&&this.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(it,"__esModule",{value:!0});const h=c(O(3608));it.default=class F{constructor(Q,{headers:ee={},schema:Ae,fetch:xe}){this.url=Q,this.headers=ee,this.schema=Ae,this.fetch=xe}select(Q,{head:ee=!1,count:Ae}={}){const xe=ee?"HEAD":"GET";let We=!1;const Oe=(null!=Q?Q:"*").split("").map(ye=>/\s/.test(ye)&&!We?"":('"'===ye&&(We=!We),ye)).join("");return this.url.searchParams.set("select",Oe),Ae&&(this.headers.Prefer=`count=${Ae}`),new h.default({method:xe,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(Q,{count:ee,defaultToNull:Ae=!0}={}){const We=[];if(this.headers.Prefer&&We.push(this.headers.Prefer),ee&&We.push(`count=${ee}`),Ae||We.push("missing=default"),this.headers.Prefer=We.join(","),Array.isArray(Q)){const Oe=Q.reduce((ye,ze)=>ye.concat(Object.keys(ze)),[]);if(Oe.length>0){const ye=[...new Set(Oe)].map(ze=>`"${ze}"`);this.url.searchParams.set("columns",ye.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:Q,fetch:this.fetch,allowEmpty:!1})}upsert(Q,{onConflict:ee,ignoreDuplicates:Ae=!1,count:xe,defaultToNull:We=!0}={}){const ye=[`resolution=${Ae?"ignore":"merge"}-duplicates`];if(void 0!==ee&&this.url.searchParams.set("on_conflict",ee),this.headers.Prefer&&ye.push(this.headers.Prefer),xe&&ye.push(`count=${xe}`),We||ye.push("missing=default"),this.headers.Prefer=ye.join(","),Array.isArray(Q)){const ze=Q.reduce((Qe,Ke)=>Qe.concat(Object.keys(Ke)),[]);if(ze.length>0){const Qe=[...new Set(ze)].map(Ke=>`"${Ke}"`);this.url.searchParams.set("columns",Qe.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:Q,fetch:this.fetch,allowEmpty:!1})}update(Q,{count:ee}={}){const xe=[];return this.headers.Prefer&&xe.push(this.headers.Prefer),ee&&xe.push(`count=${ee}`),this.headers.Prefer=xe.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:Q,fetch:this.fetch,allowEmpty:!1})}delete({count:Q}={}){const Ae=[];return Q&&Ae.push(`count=${Q}`),this.headers.Prefer&&Ae.unshift(this.headers.Prefer),this.headers.Prefer=Ae.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},3342:function(Cn,it,O){"use strict";var c=this&&this.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(it,"__esModule",{value:!0});const h=c(O(5958));it.default=class F extends h.default{select(Q){let ee=!1;const Ae=(null!=Q?Q:"*").split("").map(xe=>/\s/.test(xe)&&!ee?"":('"'===xe&&(ee=!ee),xe)).join("");return this.url.searchParams.set("select",Ae),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(Q,{ascending:ee=!0,nullsFirst:Ae,foreignTable:xe,referencedTable:We=xe}={}){const Oe=We?`${We}.order`:"order",ye=this.url.searchParams.get(Oe);return this.url.searchParams.set(Oe,`${ye?`${ye},`:""}${Q}.${ee?"asc":"desc"}${void 0===Ae?"":Ae?".nullsfirst":".nullslast"}`),this}limit(Q,{foreignTable:ee,referencedTable:Ae=ee}={}){return this.url.searchParams.set(typeof Ae>"u"?"limit":`${Ae}.limit`,`${Q}`),this}range(Q,ee,{foreignTable:Ae,referencedTable:xe=Ae}={}){const Oe=typeof xe>"u"?"limit":`${xe}.limit`;return this.url.searchParams.set(typeof xe>"u"?"offset":`${xe}.offset`,`${Q}`),this.url.searchParams.set(Oe,""+(ee-Q+1)),this}abortSignal(Q){return this.signal=Q,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:Q=!1,verbose:ee=!1,settings:Ae=!1,buffers:xe=!1,wal:We=!1,format:Oe="text"}={}){var ye;const ze=[Q?"analyze":null,ee?"verbose":null,Ae?"settings":null,xe?"buffers":null,We?"wal":null].filter(Boolean).join("|"),Qe=null!==(ye=this.headers.Accept)&&void 0!==ye?ye:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${Oe}; for="${Qe}"; options=${ze};`,this}rollback(){var Q;return(null!==(Q=this.headers.Prefer)&&void 0!==Q?Q:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},3057:(Cn,it,O)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0}),it.DEFAULT_HEADERS=void 0;const c=O(3056);it.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c.version}`}},4060:function(Cn,it,O){"use strict";var c=this&&this.__importDefault||function(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}};Object.defineProperty(it,"__esModule",{value:!0}),it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const h=c(O(3242));it.PostgrestClient=h.default;const F=c(O(8666));it.PostgrestQueryBuilder=F.default;const _e=c(O(3608));it.PostgrestFilterBuilder=_e.default;const Q=c(O(3342));it.PostgrestTransformBuilder=Q.default;const ee=c(O(5958));it.PostgrestBuilder=ee.default,it.default={PostgrestClient:h.default,PostgrestQueryBuilder:F.default,PostgrestFilterBuilder:_e.default,PostgrestTransformBuilder:Q.default,PostgrestBuilder:ee.default}},3056:(Cn,it)=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0}),it.version=void 0,it.version="0.0.0-automated"},4412:(Cn,it,O)=>{"use strict";O.d(it,{t:()=>h});var c=O(1413);class h extends c.B{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const Q=super._subscribe(_e);return!Q.closed&&_e.next(this._value),Q}getValue(){const{hasError:_e,thrownError:Q,_value:ee}=this;if(_e)throw Q;return this._throwIfClosed(),ee}next(_e){super.next(this._value=_e)}}},1985:(Cn,it,O)=>{"use strict";O.d(it,{c:()=>xe});var c=O(7707),h=O(8359),F=O(3494),_e=O(1203),Q=O(1026),ee=O(8071),Ae=O(9786);let xe=(()=>{class ze{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const at=new ze;return at.source=this,at.operator=Ke,at}subscribe(Ke,at,mt){const rt=function ye(ze){return ze&&ze instanceof c.vU||function Oe(ze){return ze&&(0,ee.T)(ze.next)&&(0,ee.T)(ze.error)&&(0,ee.T)(ze.complete)}(ze)&&(0,h.Uv)(ze)}(Ke)?Ke:new c.Ms(Ke,at,mt);return(0,Ae.Y)(()=>{const{operator:st,source:Mt}=this;rt.add(st?st.call(rt,Mt):Mt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(at){Ke.error(at)}}forEach(Ke,at){return new(at=We(at))((mt,rt)=>{const st=new c.Ms({next:Mt=>{try{Ke(Mt)}catch(It){rt(It),st.unsubscribe()}},error:rt,complete:mt});this.subscribe(st)})}_subscribe(Ke){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(Ke)}[F.s](){return this}pipe(...Ke){return(0,_e.m)(Ke)(this)}toPromise(Ke){return new(Ke=We(Ke))((at,mt)=>{let rt;this.subscribe(st=>rt=st,st=>mt(st),()=>at(rt))})}}return ze.create=Qe=>new ze(Qe),ze})();function We(ze){var Qe;return null!==(Qe=null!=ze?ze:Q.$.Promise)&&void 0!==Qe?Qe:Promise}},1413:(Cn,it,O)=>{"use strict";O.d(it,{B:()=>Ae});var c=O(1985),h=O(8359);const _e=(0,O(1853).L)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=O(7908),ee=O(9786);let Ae=(()=>{class We extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const ze=new xe(this,this);return ze.operator=ye,ze}_throwIfClosed(){if(this.closed)throw new _e}next(ye){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(ye)}})}error(ye){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:ze}=this;for(;ze.length;)ze.shift().error(ye)}})}complete(){(0,ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:ze,isStopped:Qe,observers:Ke}=this;return ze||Qe?h.Kn:(this.currentObservers=null,Ke.push(ye),new h.yU(()=>{this.currentObservers=null,(0,Q.o)(Ke,ye)}))}_checkFinalizedStatuses(ye){const{hasError:ze,thrownError:Qe,isStopped:Ke}=this;ze?ye.error(Qe):Ke&&ye.complete()}asObservable(){const ye=new c.c;return ye.source=this,ye}}return We.create=(Oe,ye)=>new xe(Oe,ye),We})();class xe extends Ae{constructor(Oe,ye){super(),this.destination=Oe,this.source=ye}next(Oe){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===ze||ze.call(ye,Oe)}error(Oe){var ye,ze;null===(ze=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===ze||ze.call(ye,Oe)}complete(){var Oe,ye;null===(ye=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.complete)||void 0===ye||ye.call(Oe)}_subscribe(Oe){var ye,ze;return null!==(ze=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Oe))&&void 0!==ze?ze:h.Kn}}},7707:(Cn,it,O)=>{"use strict";O.d(it,{Ms:()=>mt,vU:()=>ze});var c=O(8071),h=O(8359),F=O(1026),_e=O(5334),Q=O(5343);const ee=We("C",void 0,void 0);function We(Ee,we,ke){return{kind:Ee,value:we,error:ke}}var Oe=O(9270),ye=O(9786);class ze extends h.yU{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,h.Uv)(we)&&we.add(this)):this.destination=It}static create(we,ke,Je){return new mt(we,ke,Je)}next(we){this.isStopped?Mt(function xe(Ee){return We("N",Ee,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Mt(function Ae(Ee){return We("E",void 0,Ee)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Mt(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ke(Ee,we){return Qe.call(Ee,we)}class at{constructor(we){this.partialObserver=we}next(we){const{partialObserver:ke}=this;if(ke.next)try{ke.next(we)}catch(Je){rt(Je)}}error(we){const{partialObserver:ke}=this;if(ke.error)try{ke.error(we)}catch(Je){rt(Je)}else rt(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(ke){rt(ke)}}}class mt extends ze{constructor(we,ke,Je){let tt;if(super(),(0,c.T)(we)||!we)tt={next:null!=we?we:void 0,error:null!=ke?ke:void 0,complete:null!=Je?Je:void 0};else{let Ot;this&&F.$.useDeprecatedNextContext?(Ot=Object.create(we),Ot.unsubscribe=()=>this.unsubscribe(),tt={next:we.next&&Ke(we.next,Ot),error:we.error&&Ke(we.error,Ot),complete:we.complete&&Ke(we.complete,Ot)}):tt=we}this.destination=new at(tt)}}function rt(Ee){F.$.useDeprecatedSynchronousErrorHandling?(0,ye.l)(Ee):(0,_e.m)(Ee)}function Mt(Ee,we){const{onStoppedNotification:ke}=F.$;ke&&Oe.f.setTimeout(()=>ke(Ee,we))}const It={closed:!0,next:Q.l,error:function st(Ee){throw Ee},complete:Q.l}},8359:(Cn,it,O)=>{"use strict";O.d(it,{Kn:()=>ee,yU:()=>Q,Uv:()=>Ae});var c=O(8071);const F=(0,O(1853).L)(We=>function(ye){We(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((ze,Qe)=>`${Qe+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var _e=O(7908);class Q{constructor(Oe){this.initialTeardown=Oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Oe;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Ke of ye)Ke.remove(this);else ye.remove(this);const{initialTeardown:ze}=this;if((0,c.T)(ze))try{ze()}catch(Ke){Oe=Ke instanceof F?Ke.errors:[Ke]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ke of Qe)try{xe(Ke)}catch(at){Oe=null!=Oe?Oe:[],at instanceof F?Oe=[...Oe,...at.errors]:Oe.push(at)}}if(Oe)throw new F(Oe)}}add(Oe){var ye;if(Oe&&Oe!==this)if(this.closed)xe(Oe);else{if(Oe instanceof Q){if(Oe.closed||Oe._hasParent(this))return;Oe._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(Oe)}}_hasParent(Oe){const{_parentage:ye}=this;return ye===Oe||Array.isArray(ye)&&ye.includes(Oe)}_addParent(Oe){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(Oe),ye):ye?[ye,Oe]:Oe}_removeParent(Oe){const{_parentage:ye}=this;ye===Oe?this._parentage=null:Array.isArray(ye)&&(0,_e.o)(ye,Oe)}remove(Oe){const{_finalizers:ye}=this;ye&&(0,_e.o)(ye,Oe),Oe instanceof Q&&Oe._removeParent(this)}}Q.EMPTY=(()=>{const We=new Q;return We.closed=!0,We})();const ee=Q.EMPTY;function Ae(We){return We instanceof Q||We&&"closed"in We&&(0,c.T)(We.remove)&&(0,c.T)(We.add)&&(0,c.T)(We.unsubscribe)}function xe(We){(0,c.T)(We)?We():We.unsubscribe()}},1026:(Cn,it,O)=>{"use strict";O.d(it,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Cn,it,O)=>{"use strict";O.d(it,{z:()=>Oe});var c=O(1985),h=O(3073),F=O(8455),_e=O(3669),Q=O(6450),ee=O(3794),Ae=O(8496),xe=O(4360),We=O(5225);function Oe(...Qe){const Ke=(0,ee.lI)(Qe),at=(0,ee.ms)(Qe),{args:mt,keys:rt}=(0,h.D)(Qe);if(0===mt.length)return(0,F.H)([],Ke);const st=new c.c(function ye(Qe,Ke,at=_e.D){return mt=>{ze(Ke,()=>{const{length:rt}=Qe,st=new Array(rt);let Mt=rt,It=rt;for(let Ee=0;Ee<rt;Ee++)ze(Ke,()=>{const we=(0,F.H)(Qe[Ee],Ke);let ke=!1;we.subscribe((0,xe._)(mt,Je=>{st[Ee]=Je,ke||(ke=!0,It--),It||mt.next(at(st.slice()))},()=>{--Mt||mt.complete()}))},mt)},mt)}}(mt,Ke,rt?Mt=>(0,Ae.e)(rt,Mt):_e.D));return at?st.pipe((0,Q.I)(at)):st}function ze(Qe,Ke,at){Qe?(0,We.N)(at,Qe,Ke):Ke()}},8793:(Cn,it,O)=>{"use strict";O.d(it,{x:()=>Q});var c=O(6365),F=O(3794),_e=O(8455);function Q(...ee){return function h(){return(0,c.U)(1)}()((0,_e.H)(ee,(0,F.lI)(ee)))}},983:(Cn,it,O)=>{"use strict";O.d(it,{w:()=>h});const h=new(O(1985).c)(Q=>Q.complete())},8455:(Cn,it,O)=>{"use strict";O.d(it,{H:()=>we});var c=O(8750),h=O(941),F=O(6745),ee=O(1985),xe=O(4761),We=O(8071),Oe=O(5225);function ze(ke,Je){if(!ke)throw new Error("Iterable cannot be null");return new ee.c(tt=>{(0,Oe.N)(tt,Je,()=>{const Ot=ke[Symbol.asyncIterator]();(0,Oe.N)(tt,Je,()=>{Ot.next().then(Pe=>{Pe.done?tt.complete():tt.next(Pe.value)})},0,!0)})})}var Qe=O(5055),Ke=O(9858),at=O(7441),mt=O(5397),rt=O(7953),st=O(591),Mt=O(5196);function we(ke,Je){return Je?function Ee(ke,Je){if(null!=ke){if((0,Qe.l)(ke))return function _e(ke,Je){return(0,c.Tg)(ke).pipe((0,F._)(Je),(0,h.Q)(Je))}(ke,Je);if((0,at.X)(ke))return function Ae(ke,Je){return new ee.c(tt=>{let Ot=0;return Je.schedule(function(){Ot===ke.length?tt.complete():(tt.next(ke[Ot++]),tt.closed||this.schedule())})})}(ke,Je);if((0,Ke.y)(ke))return function Q(ke,Je){return(0,c.Tg)(ke).pipe((0,F._)(Je),(0,h.Q)(Je))}(ke,Je);if((0,rt.T)(ke))return ze(ke,Je);if((0,mt.x)(ke))return function ye(ke,Je){return new ee.c(tt=>{let Ot;return(0,Oe.N)(tt,Je,()=>{Ot=ke[xe.l](),(0,Oe.N)(tt,Je,()=>{let Pe,pt;try{({value:Pe,done:pt}=Ot.next())}catch(kt){return void tt.error(kt)}pt?tt.complete():tt.next(Pe)},0,!0)}),()=>(0,We.T)(null==Ot?void 0:Ot.return)&&Ot.return()})}(ke,Je);if((0,Mt.U)(ke))return function It(ke,Je){return ze((0,Mt.C)(ke),Je)}(ke,Je)}throw(0,st.L)(ke)}(ke,Je):(0,c.Tg)(ke)}},3726:(Cn,it,O)=>{"use strict";O.d(it,{R:()=>Oe});var c=O(8750),h=O(1985),F=O(1397),_e=O(7441),Q=O(8071),ee=O(6450);const Ae=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],We=["on","off"];function Oe(at,mt,rt,st){if((0,Q.T)(rt)&&(st=rt,rt=void 0),st)return Oe(at,mt,rt).pipe((0,ee.I)(st));const[Mt,It]=function Ke(at){return(0,Q.T)(at.addEventListener)&&(0,Q.T)(at.removeEventListener)}(at)?xe.map(Ee=>we=>at[Ee](mt,we,rt)):function ze(at){return(0,Q.T)(at.addListener)&&(0,Q.T)(at.removeListener)}(at)?Ae.map(ye(at,mt)):function Qe(at){return(0,Q.T)(at.on)&&(0,Q.T)(at.off)}(at)?We.map(ye(at,mt)):[];if(!Mt&&(0,_e.X)(at))return(0,F.Z)(Ee=>Oe(Ee,mt,rt))((0,c.Tg)(at));if(!Mt)throw new TypeError("Invalid event target");return new h.c(Ee=>{const we=(...ke)=>Ee.next(1<ke.length?ke:ke[0]);return Mt(we),()=>It(we)})}function ye(at,mt){return rt=>st=>at[rt](mt,st)}},8750:(Cn,it,O)=>{"use strict";O.d(it,{Tg:()=>Qe});var c=O(1635),h=O(7441),F=O(9858),_e=O(1985),Q=O(5055),ee=O(7953),Ae=O(591),xe=O(5397),We=O(5196),Oe=O(8071),ye=O(5334),ze=O(3494);function Qe(Ee){if(Ee instanceof _e.c)return Ee;if(null!=Ee){if((0,Q.l)(Ee))return function Ke(Ee){return new _e.c(we=>{const ke=Ee[ze.s]();if((0,Oe.T)(ke.subscribe))return ke.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,h.X)(Ee))return function at(Ee){return new _e.c(we=>{for(let ke=0;ke<Ee.length&&!we.closed;ke++)we.next(Ee[ke]);we.complete()})}(Ee);if((0,F.y)(Ee))return function mt(Ee){return new _e.c(we=>{Ee.then(ke=>{we.closed||(we.next(ke),we.complete())},ke=>we.error(ke)).then(null,ye.m)})}(Ee);if((0,ee.T)(Ee))return st(Ee);if((0,xe.x)(Ee))return function rt(Ee){return new _e.c(we=>{for(const ke of Ee)if(we.next(ke),we.closed)return;we.complete()})}(Ee);if((0,We.U)(Ee))return function Mt(Ee){return st((0,We.C)(Ee))}(Ee)}throw(0,Ae.L)(Ee)}function st(Ee){return new _e.c(we=>{(function It(Ee,we){var ke,Je,tt,Ot;return(0,c.sH)(this,void 0,void 0,function*(){try{for(ke=(0,c.xN)(Ee);!(Je=yield ke.next()).done;)if(we.next(Je.value),we.closed)return}catch(Pe){tt={error:Pe}}finally{try{Je&&!Je.done&&(Ot=ke.return)&&(yield Ot.call(ke))}finally{if(tt)throw tt.error}}we.complete()})})(Ee,we).catch(ke=>we.error(ke))})}},7673:(Cn,it,O)=>{"use strict";O.d(it,{of:()=>F});var c=O(3794),h=O(8455);function F(..._e){const Q=(0,c.lI)(_e);return(0,h.H)(_e,Q)}},4360:(Cn,it,O)=>{"use strict";O.d(it,{_:()=>h});var c=O(7707);function h(_e,Q,ee,Ae,xe){return new F(_e,Q,ee,Ae,xe)}class F extends c.vU{constructor(Q,ee,Ae,xe,We,Oe){super(Q),this.onFinalize=We,this.shouldUnsubscribe=Oe,this._next=ee?function(ye){try{ee(ye)}catch(ze){Q.error(ze)}}:super._next,this._error=xe?function(ye){try{xe(ye)}catch(ze){Q.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ye){Q.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},274:(Cn,it,O)=>{"use strict";O.d(it,{H:()=>F});var c=O(1397),h=O(8071);function F(_e,Q){return(0,h.T)(Q)?(0,c.Z)(_e,Q,1):(0,c.Z)(_e,1)}},9901:(Cn,it,O)=>{"use strict";O.d(it,{U:()=>F});var c=O(9974),h=O(4360);function F(_e){return(0,c.N)((Q,ee)=>{let Ae=!1;Q.subscribe((0,h._)(ee,xe=>{Ae=!0,ee.next(xe)},()=>{Ae||ee.next(_e),ee.complete()}))})}},3294:(Cn,it,O)=>{"use strict";O.d(it,{F:()=>_e});var c=O(3669),h=O(9974),F=O(4360);function _e(ee,Ae=c.D){return ee=null!=ee?ee:Q,(0,h.N)((xe,We)=>{let Oe,ye=!0;xe.subscribe((0,F._)(We,ze=>{const Qe=Ae(ze);(ye||!ee(Oe,Qe))&&(ye=!1,Oe=Qe,We.next(ze))}))})}function Q(ee,Ae){return ee===Ae}},5964:(Cn,it,O)=>{"use strict";O.d(it,{p:()=>F});var c=O(9974),h=O(4360);function F(_e,Q){return(0,c.N)((ee,Ae)=>{let xe=0;ee.subscribe((0,h._)(Ae,We=>_e.call(Q,We,xe++)&&Ae.next(We)))})}},980:(Cn,it,O)=>{"use strict";O.d(it,{j:()=>h});var c=O(9974);function h(F){return(0,c.N)((_e,Q)=>{try{_e.subscribe(Q)}finally{Q.add(F)}})}},1594:(Cn,it,O)=>{"use strict";O.d(it,{$:()=>Ae});var c=O(9350),h=O(5964),F=O(6697),_e=O(9901),Q=O(3774),ee=O(3669);function Ae(xe,We){const Oe=arguments.length>=2;return ye=>ye.pipe(xe?(0,h.p)((ze,Qe)=>xe(ze,Qe,ye)):ee.D,(0,F.s)(1),Oe?(0,_e.U)(We):(0,Q.v)(()=>new c.G))}},6354:(Cn,it,O)=>{"use strict";O.d(it,{T:()=>F});var c=O(9974),h=O(4360);function F(_e,Q){return(0,c.N)((ee,Ae)=>{let xe=0;ee.subscribe((0,h._)(Ae,We=>{Ae.next(_e.call(Q,We,xe++))}))})}},6365:(Cn,it,O)=>{"use strict";O.d(it,{U:()=>F});var c=O(1397),h=O(3669);function F(_e=1/0){return(0,c.Z)(h.D,_e)}},1397:(Cn,it,O)=>{"use strict";O.d(it,{Z:()=>xe});var c=O(6354),h=O(8750),F=O(9974),_e=O(5225),Q=O(4360),Ae=O(8071);function xe(We,Oe,ye=1/0){return(0,Ae.T)(Oe)?xe((ze,Qe)=>(0,c.T)((Ke,at)=>Oe(ze,Ke,Qe,at))((0,h.Tg)(We(ze,Qe))),ye):("number"==typeof Oe&&(ye=Oe),(0,F.N)((ze,Qe)=>function ee(We,Oe,ye,ze,Qe,Ke,at,mt){const rt=[];let st=0,Mt=0,It=!1;const Ee=()=>{It&&!rt.length&&!st&&Oe.complete()},we=Je=>st<ze?ke(Je):rt.push(Je),ke=Je=>{Ke&&Oe.next(Je),st++;let tt=!1;(0,h.Tg)(ye(Je,Mt++)).subscribe((0,Q._)(Oe,Ot=>{null==Qe||Qe(Ot),Ke?we(Ot):Oe.next(Ot)},()=>{tt=!0},void 0,()=>{if(tt)try{for(st--;rt.length&&st<ze;){const Ot=rt.shift();at?(0,_e.N)(Oe,at,()=>ke(Ot)):ke(Ot)}Ee()}catch(Ot){Oe.error(Ot)}}))};return We.subscribe((0,Q._)(Oe,we,()=>{It=!0,Ee()})),()=>{null==mt||mt()}}(ze,Qe,We,ye)))}},941:(Cn,it,O)=>{"use strict";O.d(it,{Q:()=>_e});var c=O(5225),h=O(9974),F=O(4360);function _e(Q,ee=0){return(0,h.N)((Ae,xe)=>{Ae.subscribe((0,F._)(xe,We=>(0,c.N)(xe,Q,()=>xe.next(We),ee),()=>(0,c.N)(xe,Q,()=>xe.complete(),ee),We=>(0,c.N)(xe,Q,()=>xe.error(We),ee)))})}},2816:(Cn,it,O)=>{"use strict";O.d(it,{S:()=>_e});var c=O(9974),h=O(4360);function _e(Q,ee){return(0,c.N)(function F(Q,ee,Ae,xe,We){return(Oe,ye)=>{let ze=Ae,Qe=ee,Ke=0;Oe.subscribe((0,h._)(ye,at=>{const mt=Ke++;Qe=ze?Q(Qe,at,mt):(ze=!0,at),xe&&ye.next(Qe)},We&&(()=>{ze&&ye.next(Qe),ye.complete()})))}}(Q,ee,arguments.length>=2,!0))}},9172:(Cn,it,O)=>{"use strict";O.d(it,{Z:()=>_e});var c=O(8793),h=O(3794),F=O(9974);function _e(...Q){const ee=(0,h.lI)(Q);return(0,F.N)((Ae,xe)=>{(ee?(0,c.x)(Q,Ae,ee):(0,c.x)(Q,Ae)).subscribe(xe)})}},6745:(Cn,it,O)=>{"use strict";O.d(it,{_:()=>h});var c=O(9974);function h(F,_e=0){return(0,c.N)((Q,ee)=>{ee.add(F.schedule(()=>Q.subscribe(ee),_e))})}},5558:(Cn,it,O)=>{"use strict";O.d(it,{n:()=>_e});var c=O(8750),h=O(9974),F=O(4360);function _e(Q,ee){return(0,h.N)((Ae,xe)=>{let We=null,Oe=0,ye=!1;const ze=()=>ye&&!We&&xe.complete();Ae.subscribe((0,F._)(xe,Qe=>{null==We||We.unsubscribe();let Ke=0;const at=Oe++;(0,c.Tg)(Q(Qe,at)).subscribe(We=(0,F._)(xe,mt=>xe.next(ee?ee(Qe,mt,at,Ke++):mt),()=>{We=null,ze()}))},()=>{ye=!0,ze()}))})}},6697:(Cn,it,O)=>{"use strict";O.d(it,{s:()=>_e});var c=O(983),h=O(9974),F=O(4360);function _e(Q){return Q<=0?()=>c.w:(0,h.N)((ee,Ae)=>{let xe=0;ee.subscribe((0,F._)(Ae,We=>{++xe<=Q&&(Ae.next(We),Q<=xe&&Ae.complete())}))})}},8141:(Cn,it,O)=>{"use strict";O.d(it,{M:()=>Q});var c=O(8071),h=O(9974),F=O(4360),_e=O(3669);function Q(ee,Ae,xe){const We=(0,c.T)(ee)||Ae||xe?{next:ee,error:Ae,complete:xe}:ee;return We?(0,h.N)((Oe,ye)=>{var ze;null===(ze=We.subscribe)||void 0===ze||ze.call(We);let Qe=!0;Oe.subscribe((0,F._)(ye,Ke=>{var at;null===(at=We.next)||void 0===at||at.call(We,Ke),ye.next(Ke)},()=>{var Ke;Qe=!1,null===(Ke=We.complete)||void 0===Ke||Ke.call(We),ye.complete()},Ke=>{var at;Qe=!1,null===(at=We.error)||void 0===at||at.call(We,Ke),ye.error(Ke)},()=>{var Ke,at;Qe&&(null===(Ke=We.unsubscribe)||void 0===Ke||Ke.call(We)),null===(at=We.finalize)||void 0===at||at.call(We)}))}):_e.D}},3774:(Cn,it,O)=>{"use strict";O.d(it,{v:()=>_e});var c=O(9350),h=O(9974),F=O(4360);function _e(ee=Q){return(0,h.N)((Ae,xe)=>{let We=!1;Ae.subscribe((0,F._)(xe,Oe=>{We=!0,xe.next(Oe)},()=>We?xe.complete():xe.error(ee())))})}function Q(){return new c.G}},6780:(Cn,it,O)=>{"use strict";O.d(it,{R:()=>Q});var c=O(8359);class h extends c.yU{constructor(Ae,xe){super()}schedule(Ae,xe=0){return this}}const F={setInterval(ee,Ae,...xe){const{delegate:We}=F;return null!=We&&We.setInterval?We.setInterval(ee,Ae,...xe):setInterval(ee,Ae,...xe)},clearInterval(ee){const{delegate:Ae}=F;return((null==Ae?void 0:Ae.clearInterval)||clearInterval)(ee)},delegate:void 0};var _e=O(7908);class Q extends h{constructor(Ae,xe){super(Ae,xe),this.scheduler=Ae,this.work=xe,this.pending=!1}schedule(Ae,xe=0){var We;if(this.closed)return this;this.state=Ae;const Oe=this.id,ye=this.scheduler;return null!=Oe&&(this.id=this.recycleAsyncId(ye,Oe,xe)),this.pending=!0,this.delay=xe,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(ye,this.id,xe),this}requestAsyncId(Ae,xe,We=0){return F.setInterval(Ae.flush.bind(Ae,this),We)}recycleAsyncId(Ae,xe,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return xe;null!=xe&&F.clearInterval(xe)}execute(Ae,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(Ae,xe);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,xe){let Oe,We=!1;try{this.work(Ae)}catch(ye){We=!0,Oe=ye||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),Oe}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:xe}=this,{actions:We}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.o)(We,this),null!=Ae&&(this.id=this.recycleAsyncId(xe,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(Cn,it,O)=>{"use strict";O.d(it,{q:()=>F});var c=O(6129);class h{constructor(Q,ee=h.now){this.schedulerActionCtor=Q,this.now=ee}schedule(Q,ee=0,Ae){return new this.schedulerActionCtor(this,Q).schedule(Ae,ee)}}h.now=c.U.now;class F extends h{constructor(Q,ee=h.now){super(Q,ee),this.actions=[],this._active=!1}flush(Q){const{actions:ee}=this;if(this._active)return void ee.push(Q);let Ae;this._active=!0;do{if(Ae=Q.execute(Q.state,Q.delay))break}while(Q=ee.shift());if(this._active=!1,Ae){for(;Q=ee.shift();)Q.unsubscribe();throw Ae}}}},3236:(Cn,it,O)=>{"use strict";O.d(it,{E:()=>F});var c=O(6780);const F=new(O(9687).q)(c.R)},6129:(Cn,it,O)=>{"use strict";O.d(it,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(Cn,it,O)=>{"use strict";O.d(it,{f:()=>c});const c={setTimeout(h,F,..._e){const{delegate:Q}=c;return null!=Q&&Q.setTimeout?Q.setTimeout(h,F,..._e):setTimeout(h,F,..._e)},clearTimeout(h){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4761:(Cn,it,O)=>{"use strict";O.d(it,{l:()=>h});const h=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Cn,it,O)=>{"use strict";O.d(it,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Cn,it,O)=>{"use strict";O.d(it,{G:()=>h});const h=(0,O(1853).L)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Cn,it,O)=>{"use strict";O.d(it,{R0:()=>ee,ms:()=>_e,lI:()=>Q});var c=O(8071);function F(Ae){return Ae[Ae.length-1]}function _e(Ae){return(0,c.T)(F(Ae))?Ae.pop():void 0}function Q(Ae){return function h(Ae){return Ae&&(0,c.T)(Ae.schedule)}(F(Ae))?Ae.pop():void 0}function ee(Ae,xe){return"number"==typeof F(Ae)?Ae.pop():xe}},3073:(Cn,it,O)=>{"use strict";O.d(it,{D:()=>Q});const{isArray:c}=Array,{getPrototypeOf:h,prototype:F,keys:_e}=Object;function Q(Ae){if(1===Ae.length){const xe=Ae[0];if(c(xe))return{args:xe,keys:null};if(function ee(Ae){return Ae&&"object"==typeof Ae&&h(Ae)===F}(xe)){const We=_e(xe);return{args:We.map(Oe=>xe[Oe]),keys:We}}}return{args:Ae,keys:null}}},7908:(Cn,it,O)=>{"use strict";function c(h,F){if(h){const _e=h.indexOf(F);0<=_e&&h.splice(_e,1)}}O.d(it,{o:()=>c})},1853:(Cn,it,O)=>{"use strict";function c(h){const _e=h(Q=>{Error.call(Q),Q.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}O.d(it,{L:()=>c})},8496:(Cn,it,O)=>{"use strict";function c(h,F){return h.reduce((_e,Q,ee)=>(_e[Q]=F[ee],_e),{})}O.d(it,{e:()=>c})},9786:(Cn,it,O)=>{"use strict";O.d(it,{Y:()=>F,l:()=>_e});var c=O(1026);let h=null;function F(Q){if(c.$.useDeprecatedSynchronousErrorHandling){const ee=!h;if(ee&&(h={errorThrown:!1,error:null}),Q(),ee){const{errorThrown:Ae,error:xe}=h;if(h=null,Ae)throw xe}}else Q()}function _e(Q){c.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=Q)}},5225:(Cn,it,O)=>{"use strict";function c(h,F,_e,Q=0,ee=!1){const Ae=F.schedule(function(){_e(),ee?h.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(h.add(Ae),!ee)return Ae}O.d(it,{N:()=>c})},3669:(Cn,it,O)=>{"use strict";function c(h){return h}O.d(it,{D:()=>c})},7441:(Cn,it,O)=>{"use strict";O.d(it,{X:()=>c});const c=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(Cn,it,O)=>{"use strict";O.d(it,{T:()=>h});var c=O(8071);function h(F){return Symbol.asyncIterator&&(0,c.T)(null==F?void 0:F[Symbol.asyncIterator])}},8071:(Cn,it,O)=>{"use strict";function c(h){return"function"==typeof h}O.d(it,{T:()=>c})},5055:(Cn,it,O)=>{"use strict";O.d(it,{l:()=>F});var c=O(3494),h=O(8071);function F(_e){return(0,h.T)(_e[c.s])}},5397:(Cn,it,O)=>{"use strict";O.d(it,{x:()=>F});var c=O(4761),h=O(8071);function F(_e){return(0,h.T)(null==_e?void 0:_e[c.l])}},9858:(Cn,it,O)=>{"use strict";O.d(it,{y:()=>h});var c=O(8071);function h(F){return(0,c.T)(null==F?void 0:F.then)}},5196:(Cn,it,O)=>{"use strict";O.d(it,{C:()=>F,U:()=>_e});var c=O(1635),h=O(8071);function F(Q){return(0,c.AQ)(this,arguments,function*(){const Ae=Q.getReader();try{for(;;){const{value:xe,done:We}=yield(0,c.N3)(Ae.read());if(We)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(xe)}}finally{Ae.releaseLock()}})}function _e(Q){return(0,h.T)(null==Q?void 0:Q.getReader)}},9974:(Cn,it,O)=>{"use strict";O.d(it,{N:()=>F,S:()=>h});var c=O(8071);function h(_e){return(0,c.T)(null==_e?void 0:_e.lift)}function F(_e){return Q=>{if(h(Q))return Q.lift(function(ee){try{return _e(ee,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Cn,it,O)=>{"use strict";O.d(it,{I:()=>_e});var c=O(6354);const{isArray:h}=Array;function _e(Q){return(0,c.T)(ee=>function F(Q,ee){return h(ee)?Q(...ee):Q(ee)}(Q,ee))}},5343:(Cn,it,O)=>{"use strict";function c(){}O.d(it,{l:()=>c})},1203:(Cn,it,O)=>{"use strict";O.d(it,{F:()=>h,m:()=>F});var c=O(3669);function h(..._e){return F(_e)}function F(_e){return 0===_e.length?c.D:1===_e.length?_e[0]:function(ee){return _e.reduce((Ae,xe)=>xe(Ae),ee)}}},5334:(Cn,it,O)=>{"use strict";O.d(it,{m:()=>F});var c=O(1026),h=O(9270);function F(_e){h.f.setTimeout(()=>{const{onUnhandledError:Q}=c.$;if(!Q)throw _e;Q(_e)})}},591:(Cn,it,O)=>{"use strict";function c(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(it,{L:()=>c})},8996:(Cn,it,O)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function h(F){if(!O.o(c,F))return Promise.resolve().then(()=>{var ee=new Error("Cannot find module '"+F+"'");throw ee.code="MODULE_NOT_FOUND",ee});var _e=c[F],Q=_e[0];return Promise.all(_e.slice(1).map(O.e)).then(()=>O(Q))}h.keys=()=>Object.keys(c),h.id=8996,Cn.exports=h},9293:Cn=>{function it(c,h,F,_e,Q,ee,Ae){try{var xe=c[ee](Ae),We=xe.value}catch(Oe){return void F(Oe)}xe.done?h(We):Promise.resolve(We).then(_e,Q)}Cn.exports=function O(c){return function(){var h=this,F=arguments;return new Promise(function(_e,Q){var ee=c.apply(h,F);function Ae(We){it(ee,_e,Q,Ae,xe,"next",We)}function xe(We){it(ee,_e,Q,Ae,xe,"throw",We)}Ae(void 0)})}},Cn.exports.__esModule=!0,Cn.exports.default=Cn.exports},177:(Cn,it,O)=>{"use strict";O.d(it,{AJ:()=>cn,MD:()=>Tt,N0:()=>xi,QT:()=>F,Sm:()=>mt,Sq:()=>Nt,T3:()=>Lr,VF:()=>Q,Vy:()=>pn,Xr:()=>Wn,ZD:()=>_e,_b:()=>le,aZ:()=>st,bT:()=>En,fw:()=>rt,hb:()=>Ke,hj:()=>We,qQ:()=>Ae});var c=O(3953);let h=null;function F(){return h}function _e(D){var W;null!==(W=h)&&void 0!==W||(h=D)}class Q{}const Ae=new c.nKC("");let xe=(()=>{var D;class W{historyGo(z){throw new Error("")}}return(D=W).\u0275fac=function(z){return new(z||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(Oe),providedIn:"platform"}),W})();const We=new c.nKC("");let Oe=(()=>{var D;class W extends xe{constructor(){super(),this._doc=(0,c.WQX)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(z){const De=F().getGlobalEventTarget(this._doc,"window");return De.addEventListener("popstate",z,!1),()=>De.removeEventListener("popstate",z)}onHashChange(z){const De=F().getGlobalEventTarget(this._doc,"window");return De.addEventListener("hashchange",z,!1),()=>De.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,De,Ge){this._history.pushState(z,De,Ge)}replaceState(z,De,Ge){this._history.replaceState(z,De,Ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return(D=W).\u0275fac=function(z){return new(z||D)},D.\u0275prov=c.jDH({token:D,factory:()=>new D,providedIn:"platform"}),W})();function ye(D,W){if(0==D.length)return W;if(0==W.length)return D;let Be=0;return D.endsWith("/")&&Be++,W.startsWith("/")&&Be++,2==Be?D+W.substring(1):1==Be?D+W:D+"/"+W}function ze(D){const W=D.match(/#|\?|$/),Be=W&&W.index||D.length;return D.slice(0,Be-("/"===D[Be-1]?1:0))+D.slice(Be)}function Qe(D){return D&&"?"!==D[0]?"?"+D:D}let Ke=(()=>{var D;class W{historyGo(z){throw new Error("")}}return(D=W).\u0275fac=function(z){return new(z||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(mt),providedIn:"root"}),W})();const at=new c.nKC("");let mt=(()=>{var D;class W extends Ke{constructor(z,De){var Ge,sn,On;super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=null!==(Ge=null!==(sn=null!=De?De:this._platformLocation.getBaseHrefFromDOM())&&void 0!==sn?sn:null===(On=(0,c.WQX)(Ae).location)||void 0===On?void 0:On.origin)&&void 0!==Ge?Ge:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return ye(this._baseHref,z)}path(z=!1){const De=this._platformLocation.pathname+Qe(this._platformLocation.search),Ge=this._platformLocation.hash;return Ge&&z?`${De}${Ge}`:De}pushState(z,De,Ge,sn){const On=this.prepareExternalUrl(Ge+Qe(sn));this._platformLocation.pushState(z,De,On)}replaceState(z,De,Ge,sn){const On=this.prepareExternalUrl(Ge+Qe(sn));this._platformLocation.replaceState(z,De,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){var De,Ge;null===(De=(Ge=this._platformLocation).historyGo)||void 0===De||De.call(Ge,z)}}return(D=W).\u0275fac=function(z){return new(z||D)(c.KVO(xe),c.KVO(at,8))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),W})(),rt=(()=>{var D;class W extends Ke{constructor(z,De){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=De&&(this._baseHref=De)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){var De;const Ge=null!==(De=this._platformLocation.hash)&&void 0!==De?De:"#";return Ge.length>0?Ge.substring(1):Ge}prepareExternalUrl(z){const De=ye(this._baseHref,z);return De.length>0?"#"+De:De}pushState(z,De,Ge,sn){let On=this.prepareExternalUrl(Ge+Qe(sn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.pushState(z,De,On)}replaceState(z,De,Ge,sn){let On=this.prepareExternalUrl(Ge+Qe(sn));0==On.length&&(On=this._platformLocation.pathname),this._platformLocation.replaceState(z,De,On)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){var De,Ge;null===(De=(Ge=this._platformLocation).historyGo)||void 0===De||De.call(Ge,z)}}return(D=W).\u0275fac=function(z){return new(z||D)(c.KVO(xe),c.KVO(at,8))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac}),W})(),st=(()=>{var D;class W{constructor(z){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const De=this._locationStrategy.getBaseHref();this._basePath=function we(D){if(new RegExp("^(https?:)?//").test(D)){const[,Be]=D.split(/\/\/[^\/]+/);return Be}return D}(ze(Ee(De))),this._locationStrategy.onPopState(Ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ge.state,type:Ge.type})})}ngOnDestroy(){var z;null===(z=this._urlChangeSubscription)||void 0===z||z.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,De=""){return this.path()==this.normalize(z+Qe(De))}normalize(z){return W.stripTrailingSlash(function It(D,W){if(!D||!W.startsWith(D))return W;const Be=W.substring(D.length);return""===Be||["/",";","?","#"].includes(Be[0])?Be:W}(this._basePath,Ee(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,De="",Ge=null){this._locationStrategy.pushState(Ge,"",z,De),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Qe(De)),Ge)}replaceState(z,De="",Ge=null){this._locationStrategy.replaceState(Ge,"",z,De),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Qe(De)),Ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){var De,Ge;null===(De=(Ge=this._locationStrategy).historyGo)||void 0===De||De.call(Ge,z)}onUrlChange(z){var De;return this._urlChangeListeners.push(z),null!==(De=this._urlChangeSubscription)&&void 0!==De||(this._urlChangeSubscription=this.subscribe(Ge=>{this._notifyUrlChangeListeners(Ge.url,Ge.state)})),()=>{const Ge=this._urlChangeListeners.indexOf(z);var sn;this._urlChangeListeners.splice(Ge,1),0===this._urlChangeListeners.length&&(null===(sn=this._urlChangeSubscription)||void 0===sn||sn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",De){this._urlChangeListeners.forEach(Ge=>Ge(z,De))}subscribe(z,De,Ge){return this._subject.subscribe({next:z,error:De,complete:Ge})}}return(D=W).normalizeQueryParams=Qe,D.joinWithSlash=ye,D.stripTrailingSlash=ze,D.\u0275fac=function(z){return new(z||D)(c.KVO(Ke))},D.\u0275prov=c.jDH({token:D,factory:()=>function Mt(){return new st((0,c.KVO)(Ke))}(),providedIn:"root"}),W})();function Ee(D){return D.replace(/\/index.html$/,"")}function le(D,W){W=encodeURIComponent(W);for(const Be of D.split(";")){const z=Be.indexOf("="),[De,Ge]=-1==z?[Be,""]:[Be.slice(0,z),Be.slice(z+1)];if(De.trim()===W)return decodeURIComponent(Ge)}return null}class $e{constructor(W,Be,z,De){this.$implicit=W,this.ngForOf=Be,this.index=z,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nt=(()=>{var D;class W{set ngForOf(z){this._ngForOf=z,this._ngForOfDirty=!0}set ngForTrackBy(z){this._trackByFn=z}get ngForTrackBy(){return this._trackByFn}constructor(z,De,Ge){this._viewContainer=z,this._template=De,this._differs=Ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(z){z&&(this._template=z)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const z=this._ngForOf;!this._differ&&z&&(this._differ=this._differs.find(z).create(this.ngForTrackBy))}if(this._differ){const z=this._differ.diff(this._ngForOf);z&&this._applyChanges(z)}}_applyChanges(z){const De=this._viewContainer;z.forEachOperation((Ge,sn,On)=>{if(null==Ge.previousIndex)De.createEmbeddedView(this._template,new $e(Ge.item,this._ngForOf,-1,-1),null===On?void 0:On);else if(null==On)De.remove(null===sn?void 0:sn);else if(null!==sn){const Rr=De.get(sn);De.move(Rr,On),wt(Rr,Ge)}});for(let Ge=0,sn=De.length;Ge<sn;Ge++){const Rr=De.get(Ge).context;Rr.index=Ge,Rr.count=sn,Rr.ngForOf=this._ngForOf}z.forEachIdentityChange(Ge=>{wt(De.get(Ge.currentIndex),Ge)})}static ngTemplateContextGuard(z,De){return!0}}return(D=W).\u0275fac=function(z){return new(z||D)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),W})();function wt(D,W){D.context.$implicit=W.item}let En=(()=>{var D;class W{constructor(z,De){this._viewContainer=z,this._context=new $n,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=De}set ngIf(z){this._context.$implicit=this._context.ngIf=z,this._updateView()}set ngIfThen(z){Ln("ngIfThen",z),this._thenTemplateRef=z,this._thenViewRef=null,this._updateView()}set ngIfElse(z){Ln("ngIfElse",z),this._elseTemplateRef=z,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(z,De){return!0}}return(D=W).\u0275fac=function(z){return new(z||D)(c.rXU(c.c1b),c.rXU(c.C4Q))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),W})();class $n{constructor(){this.$implicit=null,this.ngIf=null}}function Ln(D,W){if(W&&!W.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,c.Tbb)(W)}'.`)}let Lr=(()=>{var D;class W{constructor(z){this._viewContainerRef=z,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(z){if(this._shouldRecreateView(z)){var De;const Ge=this._viewContainerRef;if(this._viewRef&&Ge.remove(Ge.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const sn=this._createContextForwardProxy();this._viewRef=Ge.createEmbeddedView(this.ngTemplateOutlet,sn,{injector:null!==(De=this.ngTemplateOutletInjector)&&void 0!==De?De:void 0})}}_shouldRecreateView(z){return!!z.ngTemplateOutlet||!!z.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(z,De,Ge)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,De,Ge),get:(z,De,Ge)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,De,Ge)}})}}return(D=W).\u0275fac=function(z){return new(z||D)(c.rXU(c.c1b))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),W})(),Tt=(()=>{var D;class W{}return(D=W).\u0275fac=function(z){return new(z||D)},D.\u0275mod=c.$C({type:D}),D.\u0275inj=c.G2t({}),W})();const cn="browser",mn="server";function pn(D){return D===mn}let Wn=(()=>{var D;class W{}return(D=W).\u0275prov=(0,c.jDH)({token:D,providedIn:"root",factory:()=>function an(D){return D===cn}((0,c.WQX)(c.Agw))?new tr((0,c.WQX)(Ae),window):new Fr}),W})();class tr{constructor(W,Be){this.document=W,this.window=Be,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(W){this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){const Be=function ur(D,W){const Be=D.getElementById(W)||D.getElementsByName(W)[0];if(Be)return Be;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const z=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let De=z.currentNode;for(;De;){const Ge=De.shadowRoot;if(Ge){const sn=Ge.getElementById(W)||Ge.querySelector(`[name="${W}"]`);if(sn)return sn}De=z.nextNode()}}return null}(this.document,W);Be&&(this.scrollToElement(Be),Be.focus())}setHistoryScrollRestoration(W){this.window.history.scrollRestoration=W}scrollToElement(W){const Be=W.getBoundingClientRect(),z=Be.left+this.window.pageXOffset,De=Be.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(z-Ge[0],De-Ge[1])}}class Fr{setOffset(W){}getScrollPosition(){return[0,0]}scrollToPosition(W){}scrollToAnchor(W){}setHistoryScrollRestoration(W){}}class xi{}},1626:(Cn,it,O)=>{"use strict";O.d(it,{Qq:()=>gt,q1:()=>vt});var c=O(467),h=O(3953),F=O(7673),_e=O(1985),Q=O(8455),ee=O(274),Ae=O(5964),xe=O(6354),We=O(980),Oe=O(5558),ye=O(177);class ze{}class Qe{}class Ke{constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?"string"==typeof $e?this.lazyInit=()=>{this.headers=new Map,$e.split("\n").forEach(Nt=>{const wt=Nt.indexOf(":");if(wt>0){const zt=Nt.slice(0,wt),En=zt.toLowerCase(),$n=Nt.slice(wt+1).trim();this.maybeSetNormalizedName(zt,En),this.headers.has(En)?this.headers.get(En).push($n):this.headers.set(En,[$n])}})}:typeof Headers<"u"&&$e instanceof Headers?(this.headers=new Map,$e.forEach((Nt,wt)=>{this.setHeaderEntries(wt,Nt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries($e).forEach(([Nt,wt])=>{this.setHeaderEntries(Nt,wt)})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const Nt=this.headers.get($e.toLowerCase());return Nt&&Nt.length>0?Nt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,Nt){return this.clone({name:$e,value:Nt,op:"a"})}set($e,Nt){return this.clone({name:$e,value:Nt,op:"s"})}delete($e,Nt){return this.clone({name:$e,value:Nt,op:"d"})}maybeSetNormalizedName($e,Nt){this.normalizedNames.has(Nt)||this.normalizedNames.set(Nt,$e)}init(){this.lazyInit&&(this.lazyInit instanceof Ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(Nt=>{this.headers.set(Nt,$e.headers.get(Nt)),this.normalizedNames.set(Nt,$e.normalizedNames.get(Nt))})}clone($e){const Nt=new Ke;return Nt.lazyInit=this.lazyInit&&this.lazyInit instanceof Ke?this.lazyInit:this,Nt.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),Nt}applyUpdate($e){const Nt=$e.name.toLowerCase();switch($e.op){case"a":case"s":let wt=$e.value;if("string"==typeof wt&&(wt=[wt]),0===wt.length)return;this.maybeSetNormalizedName($e.name,Nt);const zt=("a"===$e.op?this.headers.get(Nt):void 0)||[];zt.push(...wt),this.headers.set(Nt,zt);break;case"d":const En=$e.value;if(En){let $n=this.headers.get(Nt);if(!$n)return;$n=$n.filter(Ln=>-1===En.indexOf(Ln)),0===$n.length?(this.headers.delete(Nt),this.normalizedNames.delete(Nt)):this.headers.set(Nt,$n)}else this.headers.delete(Nt),this.normalizedNames.delete(Nt)}}setHeaderEntries($e,Nt){const wt=(Array.isArray(Nt)?Nt:[Nt]).map(En=>En.toString()),zt=$e.toLowerCase();this.headers.set(zt,wt),this.maybeSetNormalizedName($e,zt)}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(Nt=>$e(this.normalizedNames.get(Nt),this.headers.get(Nt)))}}class mt{encodeKey($e){return It($e)}encodeValue($e){return It($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const st=/%(\d[a-f0-9])/gi,Mt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function It(he){return encodeURIComponent(he).replace(st,($e,Nt)=>{var wt;return null!==(wt=Mt[Nt])&&void 0!==wt?wt:$e})}function Ee(he){return`${he}`}class we{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new mt,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rt(he,$e){const Nt=new Map;return he.length>0&&he.replace(/^\?/,"").split("&").forEach(zt=>{const En=zt.indexOf("="),[$n,Ln]=-1==En?[$e.decodeKey(zt),""]:[$e.decodeKey(zt.slice(0,En)),$e.decodeValue(zt.slice(En+1))],dr=Nt.get($n)||[];dr.push(Ln),Nt.set($n,dr)}),Nt}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(Nt=>{const wt=$e.fromObject[Nt],zt=Array.isArray(wt)?wt.map(Ee):[Ee(wt)];this.map.set(Nt,zt)})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const Nt=this.map.get($e);return Nt?Nt[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,Nt){return this.clone({param:$e,value:Nt,op:"a"})}appendAll($e){const Nt=[];return Object.keys($e).forEach(wt=>{const zt=$e[wt];Array.isArray(zt)?zt.forEach(En=>{Nt.push({param:wt,value:En,op:"a"})}):Nt.push({param:wt,value:zt,op:"a"})}),this.clone(Nt)}set($e,Nt){return this.clone({param:$e,value:Nt,op:"s"})}delete($e,Nt){return this.clone({param:$e,value:Nt,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const Nt=this.encoder.encodeKey($e);return this.map.get($e).map(wt=>Nt+"="+this.encoder.encodeValue(wt)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const Nt=new we({encoder:this.encoder});return Nt.cloneFrom=this.cloneFrom||this,Nt.updates=(this.updates||[]).concat($e),Nt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const Nt=("a"===$e.op?this.map.get($e.param):void 0)||[];Nt.push(Ee($e.value)),this.map.set($e.param,Nt);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let wt=this.map.get($e.param)||[];const zt=wt.indexOf(Ee($e.value));-1!==zt&&wt.splice(zt,1),wt.length>0?this.map.set($e.param,wt):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class Je{constructor(){this.map=new Map}set($e,Nt){return this.map.set($e,Nt),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}has($e){return this.map.has($e)}keys(){return this.map.keys()}}function Ot(he){return typeof ArrayBuffer<"u"&&he instanceof ArrayBuffer}function Pe(he){return typeof Blob<"u"&&he instanceof Blob}function pt(he){return typeof FormData<"u"&&he instanceof FormData}class tn{constructor($e,Nt,wt,zt){var En,$n;let Ln;if(this.url=Nt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function tt(he){switch(he){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||zt?(this.body=void 0!==wt?wt:null,Ln=zt):Ln=wt,Ln&&(this.reportProgress=!!Ln.reportProgress,this.withCredentials=!!Ln.withCredentials,Ln.responseType&&(this.responseType=Ln.responseType),Ln.headers&&(this.headers=Ln.headers),Ln.context&&(this.context=Ln.context),Ln.params&&(this.params=Ln.params),this.transferCache=Ln.transferCache),null!==(En=this.headers)&&void 0!==En||(this.headers=new Ke),null!==($n=this.context)&&void 0!==$n||(this.context=new Je),this.params){const dr=this.params.toString();if(0===dr.length)this.urlWithParams=Nt;else{const or=Nt.indexOf("?");this.urlWithParams=Nt+(-1===or?"?":or<Nt.length-1?"&":"")+dr}}else this.params=new we,this.urlWithParams=Nt}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ot(this.body)||Pe(this.body)||pt(this.body)||function kt(he){return typeof URLSearchParams<"u"&&he instanceof URLSearchParams}(this.body)?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pt(this.body)?null:Pe(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){var Nt,wt,zt,En;const $n=$e.method||this.method,Ln=$e.url||this.url,dr=$e.responseType||this.responseType,or=null!==(Nt=$e.transferCache)&&void 0!==Nt?Nt:this.transferCache,xr=void 0!==$e.body?$e.body:this.body,ai=null!==(wt=$e.withCredentials)&&void 0!==wt?wt:this.withCredentials,Ci=null!==(zt=$e.reportProgress)&&void 0!==zt?zt:this.reportProgress;let Di=$e.headers||this.headers,ui=$e.params||this.params;const wi=null!==(En=$e.context)&&void 0!==En?En:this.context;return void 0!==$e.setHeaders&&(Di=Object.keys($e.setHeaders).reduce((Br,Lr)=>Br.set(Lr,$e.setHeaders[Lr]),Di)),$e.setParams&&(ui=Object.keys($e.setParams).reduce((Br,Lr)=>Br.set(Lr,$e.setParams[Lr]),ui)),new tn($n,Ln,xr,{params:ui,headers:Di,context:wi,reportProgress:Ci,responseType:dr,withCredentials:ai,transferCache:or})}}var An=function(he){return he[he.Sent=0]="Sent",he[he.UploadProgress=1]="UploadProgress",he[he.ResponseHeader=2]="ResponseHeader",he[he.DownloadProgress=3]="DownloadProgress",he[he.Response=4]="Response",he[he.User=5]="User",he}(An||{});class hn{constructor($e,Nt=200,wt="OK"){this.headers=$e.headers||new Ke,this.status=void 0!==$e.status?$e.status:Nt,this.statusText=$e.statusText||wt,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class Gn extends hn{constructor($e={}){super($e),this.type=An.ResponseHeader}clone($e={}){return new Gn({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Gt extends hn{constructor($e={}){super($e),this.type=An.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Gt({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Ve extends hn{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function je(he,$e){return{body:$e,headers:he.headers,context:he.context,observe:he.observe,params:he.params,reportProgress:he.reportProgress,responseType:he.responseType,withCredentials:he.withCredentials,transferCache:he.transferCache}}let gt=(()=>{var he;class $e{constructor(wt){this.handler=wt}request(wt,zt,En={}){let $n;if(wt instanceof tn)$n=wt;else{let or,xr;or=En.headers instanceof Ke?En.headers:new Ke(En.headers),En.params&&(xr=En.params instanceof we?En.params:new we({fromObject:En.params})),$n=new tn(wt,zt,void 0!==En.body?En.body:null,{headers:or,context:En.context,params:xr,reportProgress:En.reportProgress,responseType:En.responseType||"json",withCredentials:En.withCredentials,transferCache:En.transferCache})}const Ln=(0,F.of)($n).pipe((0,ee.H)(or=>this.handler.handle(or)));if(wt instanceof tn||"events"===En.observe)return Ln;const dr=Ln.pipe((0,Ae.p)(or=>or instanceof Gt));switch(En.observe||"body"){case"body":switch($n.responseType){case"arraybuffer":return dr.pipe((0,xe.T)(or=>{if(null!==or.body&&!(or.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return or.body}));case"blob":return dr.pipe((0,xe.T)(or=>{if(null!==or.body&&!(or.body instanceof Blob))throw new Error("Response is not a Blob.");return or.body}));case"text":return dr.pipe((0,xe.T)(or=>{if(null!==or.body&&"string"!=typeof or.body)throw new Error("Response is not a string.");return or.body}));default:return dr.pipe((0,xe.T)(or=>or.body))}case"response":return dr;default:throw new Error(`Unreachable: unhandled observe type ${En.observe}}`)}}delete(wt,zt={}){return this.request("DELETE",wt,zt)}get(wt,zt={}){return this.request("GET",wt,zt)}head(wt,zt={}){return this.request("HEAD",wt,zt)}jsonp(wt,zt){return this.request("JSONP",wt,{params:(new we).append(zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(wt,zt={}){return this.request("OPTIONS",wt,zt)}patch(wt,zt,En={}){return this.request("PATCH",wt,je(En,zt))}post(wt,zt,En={}){return this.request("POST",wt,je(En,zt))}put(wt,zt,En={}){return this.request("PUT",wt,je(En,zt))}}return(he=$e).\u0275fac=function(wt){return new(wt||he)(h.KVO(ze))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const yt=/^\)\]\}',?\n/;function Wt(he){if(he.url)return he.url;const $e="X-Request-URL".toLocaleLowerCase();return he.headers.get($e)}let Lt=(()=>{var he;class $e{constructor(){var wt,zt;this.fetchImpl=null!==(wt=null===(zt=(0,h.WQX)(Ft,{optional:!0}))||void 0===zt?void 0:zt.fetch)&&void 0!==wt?wt:(...En)=>globalThis.fetch(...En),this.ngZone=(0,h.WQX)(h.SKi)}handle(wt){return new _e.c(zt=>{const En=new AbortController;return this.doRequest(wt,En.signal,zt).then(Fn,$n=>zt.error(new Ve({error:$n}))),()=>En.abort()})}doRequest(wt,zt,En){var $n=this;return(0,c.A)(function*(){var Ln;const dr=$n.createRequestInit(wt);let or;try{const rr=$n.ngZone.runOutsideAngular(()=>$n.fetchImpl(wt.urlWithParams,{signal:zt,...dr}));(function xt(he){he.then(Fn,Fn)})(rr),En.next({type:An.Sent}),or=yield rr}catch(rr){var xr;return void En.error(new Ve({error:rr,status:null!==(xr=rr.status)&&void 0!==xr?xr:0,statusText:rr.statusText,url:wt.urlWithParams,headers:rr.headers}))}const ai=new Ke(or.headers),Ci=or.statusText,Di=null!==(Ln=Wt(or))&&void 0!==Ln?Ln:wt.urlWithParams;let ui=or.status,wi=null;if(wt.reportProgress&&En.next(new Gn({headers:ai,status:ui,statusText:Ci,url:Di})),or.body){const rr=or.headers.get("content-length"),Oi=[],qi=or.body.getReader();let fo,po,Zi=0;const go=typeof Zone<"u"&&Zone.current;yield $n.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:ts,value:jo}=yield qi.read();if(ts)break;if(Oi.push(jo),Zi+=jo.length,wt.reportProgress){var yo,mo;po="text"===wt.responseType?(null!==(yo=po)&&void 0!==yo?yo:"")+(null!==(mo=fo)&&void 0!==mo?mo:fo=new TextDecoder).decode(jo,{stream:!0}):void 0;const Qr=()=>En.next({type:An.DownloadProgress,total:rr?+rr:void 0,loaded:Zi,partialText:po});go?go.run(Qr):Qr()}}}));const pi=$n.concatChunks(Oi,Zi);try{var Br;const yo=null!==(Br=or.headers.get("Content-Type"))&&void 0!==Br?Br:"";wi=$n.parseBody(wt,pi,yo)}catch(yo){var Lr;return void En.error(new Ve({error:yo,headers:new Ke(or.headers),status:or.status,statusText:or.statusText,url:null!==(Lr=Wt(or))&&void 0!==Lr?Lr:wt.urlWithParams}))}}0===ui&&(ui=wi?200:0),ui>=200&&ui<300?(En.next(new Gt({body:wi,headers:ai,status:ui,statusText:Ci,url:Di})),En.complete()):En.error(new Ve({error:wi,headers:ai,status:ui,statusText:Ci,url:Di}))})()}parseBody(wt,zt,En){switch(wt.responseType){case"json":const $n=(new TextDecoder).decode(zt).replace(yt,"");return""===$n?null:JSON.parse($n);case"text":return(new TextDecoder).decode(zt);case"blob":return new Blob([zt],{type:En});case"arraybuffer":return zt.buffer}}createRequestInit(wt){const zt={},En=wt.withCredentials?"include":void 0;if(wt.headers.forEach(($n,Ln)=>zt[$n]=Ln.join(",")),wt.headers.has("Accept")||(zt.Accept="application/json, text/plain, */*"),!wt.headers.has("Content-Type")){const $n=wt.detectContentTypeHeader();null!==$n&&(zt["Content-Type"]=$n)}return{body:wt.serializeBody(),method:wt.method,headers:zt,credentials:En}}concatChunks(wt,zt){const En=new Uint8Array(zt);let $n=0;for(const Ln of wt)En.set(Ln,$n),$n+=Ln.length;return En}}return(he=$e).\u0275fac=function(wt){return new(wt||he)},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();class Ft{}function Fn(){}function kn(he,$e){return $e(he)}function Ht(he,$e){return(Nt,wt)=>$e.intercept(Nt,{handle:zt=>he(zt,wt)})}const Jt=new h.nKC(""),Dt=new h.nKC(""),bn=new h.nKC(""),ot=new h.nKC("",{providedIn:"root",factory:()=>!0});function Le(){let he=null;return($e,Nt)=>{var wt;null===he&&(he=(null!==(wt=(0,h.WQX)(Jt,{optional:!0}))&&void 0!==wt?wt:[]).reduceRight(Ht,kn));const zt=(0,h.WQX)(h.TgB);if((0,h.WQX)(ot)){const $n=zt.add();return he($e,Nt).pipe((0,We.j)(()=>zt.remove($n)))}return he($e,Nt)}}let jn=(()=>{var he;class $e extends ze{constructor(wt,zt){super(),this.backend=wt,this.injector=zt,this.chain=null,this.pendingTasks=(0,h.WQX)(h.TgB),this.contributeToStability=(0,h.WQX)(ot)}handle(wt){if(null===this.chain){const zt=Array.from(new Set([...this.injector.get(Dt),...this.injector.get(bn,[])]));this.chain=zt.reduceRight((En,$n)=>function wn(he,$e,Nt){return(wt,zt)=>(0,h.N4e)(Nt,()=>$e(wt,En=>he(En,zt)))}(En,$n,this.injector),kn)}if(this.contributeToStability){const zt=this.pendingTasks.add();return this.chain(wt,En=>this.backend.handle(En)).pipe((0,We.j)(()=>this.pendingTasks.remove(zt)))}return this.chain(wt,zt=>this.backend.handle(zt))}}return(he=$e).\u0275fac=function(wt){return new(wt||he)(h.KVO(Qe),h.KVO(h.uvJ))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const Wr=/^\)\]\}',?\n/;let nr=(()=>{var he;class $e{constructor(wt){this.xhrFactory=wt}handle(wt){if("JSONP"===wt.method)throw new h.wOt(-2800,!1);const zt=this.xhrFactory;return(zt.\u0275loadImpl?(0,Q.H)(zt.\u0275loadImpl()):(0,F.of)(null)).pipe((0,Oe.n)(()=>new _e.c($n=>{const Ln=zt.build();if(Ln.open(wt.method,wt.urlWithParams),wt.withCredentials&&(Ln.withCredentials=!0),wt.headers.forEach((Br,Lr)=>Ln.setRequestHeader(Br,Lr.join(","))),wt.headers.has("Accept")||Ln.setRequestHeader("Accept","application/json, text/plain, */*"),!wt.headers.has("Content-Type")){const Br=wt.detectContentTypeHeader();null!==Br&&Ln.setRequestHeader("Content-Type",Br)}if(wt.responseType){const Br=wt.responseType.toLowerCase();Ln.responseType="json"!==Br?Br:"text"}const dr=wt.serializeBody();let or=null;const xr=()=>{if(null!==or)return or;const Br=Ln.statusText||"OK",Lr=new Ke(Ln.getAllResponseHeaders()),Ki=function Yn(he){return"responseURL"in he&&he.responseURL?he.responseURL:/^X-Request-URL:/m.test(he.getAllResponseHeaders())?he.getResponseHeader("X-Request-URL"):null}(Ln)||wt.url;return or=new Gn({headers:Lr,status:Ln.status,statusText:Br,url:Ki}),or},ai=()=>{let{headers:Br,status:Lr,statusText:Ki,url:rr}=xr(),Oi=null;204!==Lr&&(Oi=typeof Ln.response>"u"?Ln.responseText:Ln.response),0===Lr&&(Lr=Oi?200:0);let qi=Lr>=200&&Lr<300;if("json"===wt.responseType&&"string"==typeof Oi){const Zi=Oi;Oi=Oi.replace(Wr,"");try{Oi=""!==Oi?JSON.parse(Oi):null}catch(fo){Oi=Zi,qi&&(qi=!1,Oi={error:fo,text:Oi})}}qi?($n.next(new Gt({body:Oi,headers:Br,status:Lr,statusText:Ki,url:rr||void 0})),$n.complete()):$n.error(new Ve({error:Oi,headers:Br,status:Lr,statusText:Ki,url:rr||void 0}))},Ci=Br=>{const{url:Lr}=xr(),Ki=new Ve({error:Br,status:Ln.status||0,statusText:Ln.statusText||"Unknown Error",url:Lr||void 0});$n.error(Ki)};let Di=!1;const ui=Br=>{Di||($n.next(xr()),Di=!0);let Lr={type:An.DownloadProgress,loaded:Br.loaded};Br.lengthComputable&&(Lr.total=Br.total),"text"===wt.responseType&&Ln.responseText&&(Lr.partialText=Ln.responseText),$n.next(Lr)},wi=Br=>{let Lr={type:An.UploadProgress,loaded:Br.loaded};Br.lengthComputable&&(Lr.total=Br.total),$n.next(Lr)};return Ln.addEventListener("load",ai),Ln.addEventListener("error",Ci),Ln.addEventListener("timeout",Ci),Ln.addEventListener("abort",Ci),wt.reportProgress&&(Ln.addEventListener("progress",ui),null!==dr&&Ln.upload&&Ln.upload.addEventListener("progress",wi)),Ln.send(dr),$n.next({type:An.Sent}),()=>{Ln.removeEventListener("error",Ci),Ln.removeEventListener("abort",Ci),Ln.removeEventListener("load",ai),Ln.removeEventListener("timeout",Ci),wt.reportProgress&&(Ln.removeEventListener("progress",ui),null!==dr&&Ln.upload&&Ln.upload.removeEventListener("progress",wi)),Ln.readyState!==Ln.DONE&&Ln.abort()}})))}}return(he=$e).\u0275fac=function(wt){return new(wt||he)(h.KVO(ye.N0))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();const qn=new h.nKC(""),Xn=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Er=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Pn{}let si=(()=>{var he;class $e{constructor(wt,zt,En){this.doc=wt,this.platform=zt,this.cookieName=En,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const wt=this.doc.cookie||"";return wt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ye._b)(wt,this.cookieName),this.lastCookieString=wt),this.lastToken}}return(he=$e).\u0275fac=function(wt){return new(wt||he)(h.KVO(ye.qQ),h.KVO(h.Agw),h.KVO(Xn))},he.\u0275prov=h.jDH({token:he,factory:he.\u0275fac}),$e})();function $t(he,$e){const Nt=he.url.toLowerCase();if(!(0,h.WQX)(qn)||"GET"===he.method||"HEAD"===he.method||Nt.startsWith("http://")||Nt.startsWith("https://"))return $e(he);const wt=(0,h.WQX)(Pn).getToken(),zt=(0,h.WQX)(Er);return null!=wt&&!he.headers.has(zt)&&(he=he.clone({headers:he.headers.set(zt,wt)})),$e(he)}var qt=function(he){return he[he.Interceptors=0]="Interceptors",he[he.LegacyInterceptors=1]="LegacyInterceptors",he[he.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",he[he.NoXsrfProtection=3]="NoXsrfProtection",he[he.JsonpSupport=4]="JsonpSupport",he[he.RequestsMadeViaParent=5]="RequestsMadeViaParent",he[he.Fetch=6]="Fetch",he}(qt||{});function ut(he,$e){return{\u0275kind:he,\u0275providers:$e}}function Kt(...he){const $e=[gt,nr,jn,{provide:ze,useExisting:jn},{provide:Qe,useFactory:()=>{var Nt;return null!==(Nt=(0,h.WQX)(Lt,{optional:!0}))&&void 0!==Nt?Nt:(0,h.WQX)(nr)}},{provide:Dt,useValue:$t,multi:!0},{provide:qn,useValue:!0},{provide:Pn,useClass:si}];for(const Nt of he)$e.push(...Nt.\u0275providers);return(0,h.EmA)($e)}const X=new h.nKC("");let vt=(()=>{var he;class $e{}return(he=$e).\u0275fac=function(wt){return new(wt||he)},he.\u0275mod=h.$C({type:he}),he.\u0275inj=h.G2t({providers:[Kt(ut(qt.LegacyInterceptors,[{provide:X,useFactory:Le},{provide:Dt,useExisting:X,multi:!0}]))]}),$e})()},3953:(Cn,it,O)=>{"use strict";function c(e,t){return Object.is(e,t)}O.d(it,{iLQ:()=>D0,sZ2:()=>zh,hnV:()=>XD,Hbi:()=>hN,o8S:()=>cc,BIS:()=>Od,gRc:()=>dw,Ql9:()=>kx,OM3:()=>pg,Ocv:()=>jx,Z63:()=>qs,aKT:()=>Fh,uvJ:()=>ca,zcH:()=>Wa,bkB:()=>Ys,$GK:()=>zr,nKC:()=>wr,zZn:()=>Us,_q3:()=>CA,MKu:()=>DA,xe9:()=>_A,Co$:()=>tT,Vns:()=>Pf,SKi:()=>Po,Xx1:()=>Ks,Agw:()=>vl,PLl:()=>Md,sFG:()=>TS,_9s:()=>iI,czy:()=>ht,kdw:()=>jl,C4Q:()=>Yd,NYb:()=>Sx,giA:()=>KD,xvI:()=>nx,RxE:()=>BD,c1b:()=>Jy,gXe:()=>Ns,mal:()=>a0,L39:()=>HN,EWP:()=>GN,a0P:()=>YN,Ol2:()=>EI,w6W:()=>gR,oH4:()=>aw,Rfq:()=>be,WQX:()=>Jn,naY:()=>Jx,QuC:()=>Ao,EmA:()=>ba,fpN:()=>dN,HJs:()=>ZN,N4e:()=>jf,vPA:()=>Fb,O8t:()=>WN,H3F:()=>$D,zAP:()=>Lw,H8p:()=>gh,KH2:()=>kg,TgB:()=>Wu,wOt:()=>Qn,WHO:()=>GD,e01:()=>WD,H5H:()=>WI,Zy3:()=>so,mq5:()=>sC,JZv:()=>Ui,LfX:()=>Oa,plB:()=>rh,jNT:()=>pA,zjR:()=>qD,TL$:()=>uE,Tbb:()=>A,Vt3:()=>vI,GFd:()=>eT,OA$:()=>Rn,Jv_:()=>mD,aNF:()=>vD,R7$:()=>Ay,BMQ:()=>xI,AVh:()=>UI,wni:()=>HC,VBU:()=>vn,FsC:()=>jr,jDH:()=>Nr,G2t:()=>Xo,$C:()=>Or,EJ8:()=>$i,rXU:()=>nc,nrm:()=>zI,eu8:()=>GI,bVm:()=>m0,qex:()=>g0,k0s:()=>p0,j41:()=>f0,RV6:()=>rC,xGo:()=>vm,KVO:()=>$r,kS0:()=>fp,QTQ:()=>ov,bIt:()=>XI,lsd:()=>WC,XpG:()=>MC,SdG:()=>xC,NAR:()=>OC,Y8G:()=>FI,mGM:()=>GC,sdS:()=>KC,Njj:()=>Zf,eBV:()=>r_,n$t:()=>qm,DNE:()=>AI,EFF:()=>rD,JRh:()=>ZI,SpI:()=>I0,Lme:()=>eA,DH7:()=>hD,mxI:()=>nA,R50:()=>tA,GBs:()=>zC});let h=null,F=!1,_e=1;const Q=Symbol("SIGNAL");function ee(e){const t=h;return h=e,t}const Oe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ye(e){if(F)throw new Error("");if(null===h)return;h.consumerOnSignalRead(e);const t=h.nextProducerIndex++;Je(h),t<h.producerNode.length&&h.producerNode[t]!==e&&ke(h)&&we(h.producerNode[t],h.producerIndexOfThis[t]),h.producerNode[t]!==e&&(h.producerNode[t]=e,h.producerIndexOfThis[t]=ke(h)?Ee(e,h,t):0),h.producerLastReadVersion[t]=e.version}function Qe(e){if((!ke(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==_e)){if(!e.producerMustRecompute(e)&&!Mt(e))return e.dirty=!1,void(e.lastCleanEpoch=_e);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=_e}}function Ke(e){if(void 0===e.liveConsumerNode)return;const t=F;F=!0;try{for(const r of e.liveConsumerNode)r.dirty||mt(r)}finally{F=t}}function at(){var e;return!1!==(null===(e=h)||void 0===e?void 0:e.consumerAllowSignalWrites)}function mt(e){var t;e.dirty=!0,Ke(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function rt(e){return e&&(e.nextProducerIndex=0),ee(e)}function st(e,t){if(ee(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ke(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)we(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mt(e){Je(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Qe(r),o!==r.version))return!0}return!1}function It(e){if(Je(e),ke(e))for(let t=0;t<e.producerNode.length;t++)we(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ee(e,t,r){if(tt(e),0===e.liveConsumerNode.length&&Ot(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ee(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function we(e,t){if(tt(e),1===e.liveConsumerNode.length&&Ot(e))for(let o=0;o<e.producerNode.length;o++)we(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Je(a),a.producerIndexOfThis[o]=t}}function ke(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function Je(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function tt(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Ot(e){return void 0!==e.producerNode}const pt=Symbol("UNSET"),kt=Symbol("COMPUTING"),tn=Symbol("ERRORED"),An={...Oe,value:pt,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===pt||e.value===kt,producerRecomputeValue(e){if(e.value===kt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=kt;const r=rt(e);let o;try{o=e.computation()}catch(a){o=tn,e.error=a}finally{st(e,r)}t!==pt&&t!==tn&&o!==tn&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let Gn=function hn(){throw new Error};function Gt(){Gn()}let ae=null;function gt(e,t){at()||Gt(),e.equal(e.value,t)||(e.value=t,function Lt(e){var t;e.version++,function ze(){_e++}(),Ke(e),null===(t=ae)||void 0===t||t()}(e))}const Wt={...Oe,equal:c,value:void 0};var ii,Jr,Ht=O(4412),wn=O(1413),Jt=O(8359),Dt=O(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Xi="https://g.co/ng/security#xss";class Qn extends Error{constructor(t,r){super(so(t,r)),this.code=t}}function so(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function ao(e){return{toString:e}.toString()}const zo="__parameters__";function Ko(e,t,r){return ao(()=>{const o=function lo(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...d){if(this instanceof a)return o.apply(this,d),this;const g=new a(...d);return y.annotation=g,y;function y(C,$,J){const me=C.hasOwnProperty(zo)?C[zo]:Object.defineProperty(C,zo,{value:[]})[zo];for(;me.length<=J;)me.push(null);return(me[J]=me[J]||[]).push(g),C}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ui=globalThis;function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function G(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function A(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(A).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function b(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ce=re({__forward_ref__:re});function be(e){return e.__forward_ref__=be,e.toString=function(){return A(this())},e}function Ce(e){return lt(e)?e():e}function lt(e){return"function"==typeof e&&e.hasOwnProperty(ce)&&e.__forward_ref__===be}function Nr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xo(e){return{providers:e.providers||[],imports:e.imports||[]}}function zs(e){return na(e,_a)||na(e,Ya)}function Oa(e){return null!==zs(e)}function na(e,t){return e.hasOwnProperty(t)?e[t]:null}function Gs(e){return e&&(e.hasOwnProperty(ra)||e.hasOwnProperty(ia))?e[ra]:null}const _a=re({\u0275prov:re}),ra=re({\u0275inj:re}),Ya=re({ngInjectableDef:re}),ia=re({ngInjectorDef:re});class wr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Nr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ya(e){return e&&!!e.\u0275providers}const Jo=re({\u0275cmp:re}),Na=re({\u0275dir:re}),ka=re({\u0275pipe:re}),Za=re({\u0275mod:re}),Ws=re({\u0275fac:re}),kr=re({__NG_ELEMENT_ID__:re}),dc=re({__NG_ENV_ID__:re});function Mr(e){return"string"==typeof e?e:null==e?"":String(e)}function Va(e,t){throw new Qn(-201,!1)}var zr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(zr||{});let As;function oa(){return As}function Gi(e){const t=As;return As=e,t}function bu(e,t,r){const o=zs(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&zr.Optional?null:void 0!==t?t:void Va()}const W={},Be="__NG_DI_FLAG__",z="ngTempTokenPath",Ge=/\n/gm,On="__source";let Rr;function Kr(e){const t=Rr;return Rr=e,t}function Ur(e,t=zr.Default){if(void 0===Rr)throw new Qn(-203,!1);return null===Rr?bu(e,void 0,t):Rr.get(e,t&zr.Optional?null:void 0,t)}function $r(e,t=zr.Default){return(oa()||Ur)(Ce(e),t)}function Jn(e,t=zr.Default){return $r(e,Yo(t))}function Yo(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bi(e){const t=[];for(let r=0;r<e.length;r++){const o=Ce(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Qn(900,!1);let a,d=zr.Default;for(let g=0;g<o.length;g++){const y=o[g],C=rs(y);"number"==typeof C?-1===C?a=y.token:d|=C:a=y}t.push($r(a,d))}else t.push($r(o))}return t}function ns(e,t){return e[Be]=t,e.prototype[Be]=t,e}function rs(e){return e[Be]}const Ks=ns(Ko("Optional"),8),jl=ns(Ko("SkipSelf"),4);function oi(e,t){return e.hasOwnProperty(Ws)?e[Ws]:null}function sa(e,t){e.forEach(r=>Array.isArray(r)?sa(r,t):t(r))}function xs(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function fc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vo(e,t,r){let o=eo(e,t);return o>=0?e[1|o]=r:(o=~o,function nl(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Tl(e,t){const r=eo(e,t);if(r>=0)return e[1|r]}function eo(e,t){return function Cl(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),g=e[d<<r];if(t===g)return d<<r;g>t?a=d:o=d+1}return~(a<<r)}(e,t,1)}const aa={},Ai=[],qs=new wr(""),ch=new wr("",-1),Tu=new wr("");class Cu{get(t,r=W){if(r===W){const o=new Error(`NullInjectorError: No provider for ${A(t)}!`);throw o.name="NullInjectorError",o}return r}}var Dl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Dl||{}),Ns=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ns||{}),Go=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Go||{});function Gl(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}function gc(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],g=r[o++],y=r[o++];e.setAttribute(t,g,y,d)}else{const d=a,g=r[++o];Wl(d)?e.setProperty(t,d,g):e.setAttribute(t,d,g),o++}}return o}function uo(e){return 3===e||4===e||6===e}function Wl(e){return 64===e.charCodeAt(0)}function Ia(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||mc(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function mc(e,t,r,o,a){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===t){g=-1;break}if(y>t){g=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===r){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Aa="ng-template";function Xs(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Gl(t[a+1].toLowerCase(),r,0))return!0}else if(vc(e))return!1;if(a=t.indexOf(1,a),a>-1){let d;for(;++a<t.length&&"string"==typeof(d=t[a]);)if(d.toLowerCase()===r)return!0}return!1}function vc(e){return 4===e.type&&e.value!==Aa}function dh(e,t,r){return t===(4!==e.type||r?e.value:Aa)}function hh(e,t,r){let o=4;const a=e.attrs,d=null!==a?function P(e){for(let t=0;t<e.length;t++)if(uo(e[t]))return t;return e.length}(a):0;let g=!1;for(let y=0;y<t.length;y++){const C=t[y];if("number"!=typeof C){if(!g)if(4&o){if(o=2|1&o,""!==C&&!dh(e,C,r)||""===C&&1===t.length){if(ks(o))return!1;g=!0}}else if(8&o){if(null===a||!Xs(e,a,C,r)){if(ks(o))return!1;g=!0}}else{const $=t[++y],J=fh(C,a,vc(e),r);if(-1===J){if(ks(o))return!1;g=!0;continue}if(""!==$){let me;if(me=J>d?"":a[J+1].toLowerCase(),2&o&&$!==me){if(ks(o))return!1;g=!0}}}}else{if(!g&&!ks(o)&&!ks(C))return!1;if(g&&ks(C))continue;g=!1,o=C|1&o}}return ks(o)||g}function ks(e){return!(1&e)}function fh(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let d=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function L(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function ld(e,t,r=!1){for(let o=0;o<t.length;o++)if(hh(e,t[o],r))return!0;return!1}function S(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function B(e,t){return e?":not("+t.trim()+")":t}function Ie(e){let t=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const y=e[++r];a+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!ks(g)&&(t+=B(d,a),a=""),o=g,d=d||!ks(o);r++}return""!==a&&(t+=B(d,a)),t}function vn(e){return ao(()=>{var t;const r=rl(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Dl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||Ns.Emulated,styles:e.styles||Ai,_:null,schemas:e.schemas||null,tView:null,id:""};Du(o);const a=e.dependencies;return o.directiveDefs=il(a,!1),o.pipeDefs=il(a,!0),o.id=function ol(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function jt(e){return Tr(e)||Si(e)}function er(e){return null!==e}function Or(e){return ao(()=>({type:e.type,bootstrap:e.bootstrap||Ai,declarations:e.declarations||Ai,imports:e.imports||Ai,exports:e.exports||Ai,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function bi(e,t){if(null==e)return aa;const r={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a];let g,y,C=Go.None;var o;Array.isArray(d)?(C=d[0],g=d[1],y=null!==(o=d[2])&&void 0!==o?o:g):(g=d,y=d),t?(r[g]=C!==Go.None?[a,C]:a,t[g]=y):r[g]=a}return r}function jr(e){return ao(()=>{const t=rl(e);return Du(t),t})}function $i(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tr(e){return e[Jo]||null}function Si(e){return e[Na]||null}function So(e){return e[ka]||null}function Ao(e){const t=Tr(e)||Si(e)||So(e);return null!==t&&t.standalone}function Qi(e,t){const r=e[Za]||null;if(!r&&!0===t)throw new Error(`Type ${A(e)} does not have '\u0275mod' property.`);return r}function rl(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||aa,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ai,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bi(e.inputs,t),outputs:bi(e.outputs),debugInfo:null}}function Du(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function il(e,t){if(!e)return null;const r=t?So:jt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(er)}function ba(e){return{\u0275providers:e}}function sl(...e){return{\u0275providers:Kl(0,e),\u0275fromNgModule:!0}}function Kl(e,...t){const r=[],o=new Set;let a;const d=g=>{r.push(g)};return sa(t,g=>{const y=g;wl(y,d,[],o)&&(a||(a=[]),a.push(y))}),void 0!==a&&al(a,d),r}function al(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];ud(a,d=>{t(d,o)})}}function wl(e,t,r,o){if(!(e=Ce(e)))return!1;let a=null,d=Gs(e);const g=!d&&Tr(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const C=e.ngModule;if(d=Gs(C),!d)return!1;a=C}const y=o.has(a);if(g){if(y)return!1;if(o.add(a),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of C)wl($,t,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let $;o.add(a);try{sa(d.imports,J=>{wl(J,t,r,o)&&($||($=[]),$.push(J))})}finally{}void 0!==$&&al($,t)}if(!y){const $=oi(a)||(()=>new a);t({provide:a,useFactory:$,deps:Ai},a),t({provide:Tu,useValue:a,multi:!0},a),t({provide:qs,useValue:()=>$r(a),multi:!0},a)}const C=d.providers;if(null!=C&&!y){const $=e;ud(C,J=>{t(J,$)})}}}return a!==e&&void 0!==e.providers}function ud(e,t){for(let r of e)ya(r)&&(r=r.\u0275providers),Array.isArray(r)?ud(r,t):t(r)}const Uf=re({provide:String,useValue:re});function _c(e){return null!==e&&"object"==typeof e&&Uf in e}function Ua(e){return"function"==typeof e}const gh=new wr(""),ua={},Vg={};let wu;function Su(){return void 0===wu&&(wu=new Cu),wu}class ca{}class Ba extends ca{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ru(t,g=>this.processProvider(g)),this.records.set(ch,ll(void 0,this)),a.has("environment")&&this.records.set(ca,ll(void 0,this));const d=this.records.get(gh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Tu,Ai,zr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ee(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Kr(this),o=Gi(void 0);try{return t()}finally{Kr(r),Gi(o)}}get(t,r=W,o=zr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(dc))return t[dc](this);o=Yo(o);const d=Kr(this),g=Gi(void 0);try{if(!(o&zr.SkipSelf)){let C=this.records.get(t);if(void 0===C){const $=function dd(e){return"function"==typeof e||"object"==typeof e&&e instanceof wr}(t)&&zs(t);C=$&&this.injectableDefInScope($)?ll(Xl(t),ua):null,this.records.set(t,C)}if(null!=C)return this.hydrate(t,C)}return(o&zr.Self?Su():this.parent).get(t,r=o&zr.Optional&&r===W?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[z]=y[z]||[]).unshift(A(t)),d)throw y;return function gs(e,t,r,o){const a=e[z];throw t[On]&&a.unshift(t[On]),e.message=function Os(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=A(t);if(Array.isArray(t))a=t.map(A).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let y=t[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):A(y)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Ge,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[z]=null,e}(y,t,"R3InjectorError",this.source)}throw y}finally{Gi(g),Kr(d)}}resolveInjectorInitializers(){const t=ee(null),r=Kr(this),o=Gi(void 0);try{const d=this.get(qs,Ai,zr.Self);for(const g of d)g()}finally{Kr(r),Gi(o),ee(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(A(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qn(205,!1)}processProvider(t){let r=Ua(t=Ce(t))?t:Ce(t&&t.provide);const o=function $a(e){return _c(e)?ll(void 0,e.useValue):ll(yc(e),ua)}(t);if(!Ua(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ll(void 0,ua,!0),a.factory=()=>Bi(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=ee(null);try{return r.value===ua&&(r.value=Vg,r.value=r.factory()),"object"==typeof r.value&&r.value&&function $f(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ee(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Ce(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Xl(e){const t=zs(e),r=null!==t?t.factory:oi(e);if(null!==r)return r;if(e instanceof wr)throw new Qn(204,!1);if(e instanceof Function)return function Ql(e){if(e.length>0)throw new Qn(204,!1);const r=function $o(e){return e&&(e[_a]||e[Ya])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Qn(204,!1)}function yc(e,t,r){let o;if(Ua(e)){const a=Ce(e);return oi(a)||Xl(a)}if(_c(e))o=()=>Ce(e.useValue);else if(function ph(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Bi(e.deps||[]));else if(function cd(e){return!(!e||!e.useExisting)}(e))o=()=>$r(Ce(e.useExisting));else{const a=Ce(e&&(e.useClass||e.provide));if(!function Bf(e){return!!e.deps}(e))return oi(a)||Xl(a);o=()=>new a(...Bi(e.deps))}return o}function ll(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ru(e,t){for(const r of e)Array.isArray(r)?Ru(r,t):r&&ya(r)?Ru(r.\u0275providers,t):t(r)}function jf(e,t){e instanceof Ba&&e.assertNotDestroyed();const o=Kr(e),a=Gi(void 0);try{return t()}finally{Kr(o),Gi(a)}}function hd(){return void 0!==oa()||null!=function li(){return Rr}()}const to=0,Kn=1,mr=2,no=3,da=4,Ro=5,bs=6,Ls=7,ro=8,io=9,ha=10,Hr=11,ul=12,Hf=13,eu=14,bo=15,ja=16,tu=17,Ha=18,nu=19,zf=20,Ta=21,Ca=22,vs=23,_r=25,gd=1,fa=7,Mu=9,ko=10;var Ou=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ou||{});function Ri(e){return Array.isArray(e)&&"object"==typeof e[gd]}function Zo(e){return Array.isArray(e)&&!0===e[gd]}function bc(e){return!!(4&e.flags)}function ru(e){return e.componentOffset>-1}function xu(e){return!(1&~e.flags)}function Qs(e){return!!e.template}function Nu(e){return!!(512&e[mr])}class Pt{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function nn(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function Rn(){return lr}function lr(e){return e.type.prototype.ngOnChanges&&(e.setInput=mi),Dr}function Dr(){const e=Da(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===aa)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function mi(e,t,r,o,a){const d=this.declaredInputs[o],g=Da(e)||function Cc(e,t){return e[Ts]=t}(e,{previous:aa,current:null}),y=g.current||(g.current={}),C=g.previous,$=C[d];y[d]=new Pt($&&$.currentValue,r,C===aa),nn(e,t,a,r)}Rn.ngInherit=!0;const Ts="__ngSimpleChanges__";function Da(e){return e[Ts]||null}const Fs=function(e,t,r){};function Pi(e){for(;Array.isArray(e);)e=e[to];return e}function cl(e,t){return Pi(t[e])}function os(e,t){return Pi(t[e.index])}function Ml(e,t){return e.data[t]}function Js(e,t){const r=t[e];return Ri(r)?r:r[to]}function Hg(e){return!(128&~e[mr])}function Ga(e,t){return null==t?null:e[t]}function zg(e){e[tu]=0}function Ih(e){1024&e[mr]||(e[mr]|=1024,Hg(e)&&Qf(e))}function yd(e){var t;return!!(9216&e[mr]||null!==(t=e[vs])&&void 0!==t&&t.dirty)}function Xf(e){var t;null===(t=e[ha].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[mr]&&(e[mr]|=1024),yd(e)&&Qf(e)}function Qf(e){var t;null===(t=e[ha].changeDetectionScheduler)||void 0===t||t.notify(0);let r=au(e);for(;null!==r&&!(8192&r[mr])&&(r[mr]|=8192,Hg(r));)r=au(r)}function Jf(e,t){if(!(256&~e[mr]))throw new Qn(911,!1);null===e[Ta]&&(e[Ta]=[]),e[Ta].push(t)}function au(e){const t=e[no];return Zo(t)?t[no]:t}const qr={lFrame:Pc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Sc=!1;function Kg(){return qr.bindingsEnabled}function lu(){return null!==qr.skipHydrationRootTNode}function In(){return qr.lFrame.lView}function fi(){return qr.lFrame.tView}function r_(e){return qr.lFrame.contextLView=e,e[ro]}function Zf(e){return qr.lFrame.contextLView=null,e}function oo(){let e=ep();for(;null!==e&&64===e.type;)e=e.parent;return e}function ep(){return qr.lFrame.currentTNode}function wa(e,t){const r=qr.lFrame;r.currentTNode=e,r.isParent=t}function tp(){return qr.lFrame.isParent}function ju(){qr.lFrame.isParent=!1}function Jg(){return Sc}function i_(e){Sc=e}function dl(){return qr.lFrame.bindingIndex++}function hl(e){const t=qr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function o_(e,t){const r=qr.lFrame;r.bindingIndex=r.bindingRootIndex=e,bh(t)}function bh(e){qr.lFrame.currentDirectiveIndex=e}function Hu(){return qr.lFrame.currentQueryIndex}function fl(e){qr.lFrame.currentQueryIndex=e}function Zg(e){const t=e[Kn];return 2===t.type?t.declTNode:1===t.type?e[Ro]:null}function Rc(e,t,r){if(r&zr.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||r&zr.Host||(a=Zg(d),null===a||(d=d[eu],10&a.type))););if(null===a)return!1;t=a,e=d}const o=qr.lFrame=em();return o.currentTNode=t,o.lView=e,!0}function zu(e){const t=em(),r=e[Kn];qr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function em(){const e=qr.lFrame,t=null===e?null:e.child;return null===t?Pc(e):t}function Pc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function s_(){const e=qr.lFrame;return qr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const a_=s_;function op(){const e=s_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ss(){return qr.lFrame.selectedIndex}function cu(e){qr.lFrame.selectedIndex=e}function co(){const e=qr.lFrame;return Ml(e.tView,e.selectedIndex)}let sp=!0;function Ch(){return sp}function pl(e){sp=e}function Dh(e,t){for(let $=t.directiveStart,J=t.directiveEnd;$<J;$++){const Ye=e.data[$].type.prototype,{ngAfterContentInit:ct,ngAfterContentChecked:nt,ngAfterViewInit:ln,ngAfterViewChecked:Dn,ngOnDestroy:zn}=Ye;var r,o,a,d,g,y,C;ct&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-$,ct),nt&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,nt),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push($,nt)),ln&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-$,ln),Dn&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,Dn),(null!==(y=e.viewCheckHooks)&&void 0!==y?y:e.viewCheckHooks=[]).push($,Dn)),null!=zn&&(null!==(C=e.destroyHooks)&&void 0!==C?C:e.destroyHooks=[]).push($,zn)}}function wh(e,t,r){l_(e,t,3,r)}function Sh(e,t,r,o){(3&e[mr])===r&&l_(e,t,r,o)}function ap(e,t){let r=e[mr];(3&r)===t&&(r&=16383,r+=1,e[mr]=r)}function l_(e,t,r,o){const d=null!=o?o:-1,g=t.length-1;let y=0;for(let C=void 0!==o?65535&e[tu]:0;C<g;C++)if("number"==typeof t[C+1]){if(y=t[C],null!=o&&y>=o)break}else t[C]<0&&(e[tu]+=65536),(y<d||-1==d)&&(z0(e,r,t,C),e[tu]=(4294901760&e[tu])+C+2),C++}function u_(e,t){Fs(4,e,t);const r=ee(null);try{t.call(e)}finally{ee(r),Fs(5,e,t)}}function z0(e,t,r,o){const a=r[o]<0,d=r[o+1],y=e[a?-r[o]:r[o]];a?e[mr]>>14<e[tu]>>16&&(3&e[mr])===t&&(e[mr]+=16384,u_(y,d)):u_(y,d)}const Id=-1;class Mc{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const um={};class du{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=Yo(o);const a=this.injector.get(t,um,o);return a!==um||r===um?a:this.parentInjector.get(t,r,o)}}function cm(e){return e!==Id}function Oc(e){return 32767&e}function xc(e,t){let r=function d_(e){return e>>16}(e),o=t;for(;r>0;)o=o[eu],r--;return o}let dm=!0;function Ad(e){const t=dm;return dm=e,t}const lp=255,f_=5;let hm=0;const Ol={};function bd(e,t){const r=Nc(e,t);if(-1!==r)return r;const o=t[Kn];o.firstCreatePass&&(e.injectorIndex=t.length,Ph(o.data,e),Ph(t,null),Ph(o.blueprint,null));const a=Mh(e,t),d=e.injectorIndex;if(cm(a)){const g=Oc(a),y=xc(a,t),C=y[Kn].data;for(let $=0;$<8;$++)t[d+$]=y[g+$]|C[g+$]}return t[d+8]=a,d}function Ph(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Nc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=v_(a),null===o)return Id;if(r++,a=a[eu],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Id}function Oh(e,t,r){!function fm(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(kr)&&(o=r[kr]),null==o&&(o=r[kr]=hm++);const a=o&lp;t.data[e+(a>>f_)]|=1<<a}(e,t,r)}function up(e,t,r){if(r&zr.Optional||void 0!==e)return e;Va()}function xl(e,t,r,o){if(r&zr.Optional&&void 0===o&&(o=null),!(r&(zr.Self|zr.Host))){const a=e[io],d=Gi(void 0);try{return a?a.get(t,o,r&zr.Optional):bu(t,o,r&zr.Optional)}finally{Gi(d)}}return up(o,0,r)}function cp(e,t,r,o=zr.Default,a){if(null!==e){if(2048&t[mr]&&!(o&zr.Self)){const g=function m_(e,t,r,o,a){let d=e,g=t;for(;null!==d&&null!==g&&2048&g[mr]&&!(512&g[mr]);){const y=p_(d,g,r,o|zr.Self,Ol);if(y!==Ol)return y;let C=d.parent;if(!C){const $=g[zf];if($){const J=$.get(r,Ol,o);if(J!==Ol)return J}C=v_(g),g=g[eu]}d=C}return a}(e,t,r,o,Ol);if(g!==Ol)return g}const d=p_(e,t,r,o,Ol);if(d!==Ol)return d}return xl(t,r,o,a)}function p_(e,t,r,o,a){const d=function gm(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(kr)?e[kr]:void 0;return"number"==typeof t?t>=0?t&lp:mm:t}(r);if("function"==typeof d){if(!Rc(t,e,o))return o&zr.Host?up(a,0,o):xl(t,r,o,a);try{let g;if(g=d(o),null!=g||o&zr.Optional)return g;Va()}finally{a_()}}else if("number"==typeof d){let g=null,y=Nc(e,t),C=Id,$=o&zr.Host?t[bo][Ro]:null;for((-1===y||o&zr.SkipSelf)&&(C=-1===y?Mh(e,t):t[y+8],C!==Id&&hp(o,!1)?(g=t[Kn],y=Oc(C),t=xc(C,t)):y=-1);-1!==y;){const J=t[Kn];if(g_(d,y,J.data)){const me=pm(y,t,r,g,o,$);if(me!==Ol)return me}C=t[y+8],C!==Id&&hp(o,t[Kn].data[y+8]===$)&&g_(d,y,t)?(g=J,y=Oc(C),t=xc(C,t)):y=-1}}return a}function pm(e,t,r,o,a,d){const g=t[Kn],y=g.data[e+8],J=dp(y,g,r,null==o?ru(y)&&dm:o!=g&&!!(3&y.type),a&zr.Host&&d===y);return null!==J?kc(t,g,J,y):Ol}function dp(e,t,r,o,a){const d=e.providerIndexes,g=t.data,y=1048575&d,C=e.directiveStart,J=d>>20,Ye=a?y+J:e.directiveEnd;for(let ct=o?y:y+J;ct<Ye;ct++){const nt=g[ct];if(ct<C&&r===nt||ct>=C&&nt.type===r)return ct}if(a){const ct=g[C];if(ct&&Qs(ct)&&ct.type===r)return C}return null}function kc(e,t,r,o){let a=e[r];const d=t.data;if(function G0(e){return e instanceof Mc}(a)){const g=a;g.resolving&&function Fa(e,t){throw t&&t.join(" > "),new Qn(-200,e)}(function Ii(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Mr(e)}(d[r]));const y=Ad(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?Gi(g.injectImpl):null;Rc(e,o,zr.Default);try{a=e[r]=g.factory(void 0,d,e,o),t.firstCreatePass&&r>=o.directiveStart&&function H0(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(o){var g,y;const me=lr(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,me),(null!==(y=r.preOrderCheckHooks)&&void 0!==y?y:r.preOrderCheckHooks=[]).push(e,me)}var C,$,J;a&&(null!==(C=r.preOrderHooks)&&void 0!==C?C:r.preOrderHooks=[]).push(0-e,a),d&&((null!==($=r.preOrderHooks)&&void 0!==$?$:r.preOrderHooks=[]).push(e,d),(null!==(J=r.preOrderCheckHooks)&&void 0!==J?J:r.preOrderCheckHooks=[]).push(e,d))}(r,d[r],t)}finally{null!==$&&Gi($),Ad(y),g.resolving=!1,a_()}}return a}function g_(e,t,r){return!!(r[t+(e>>f_)]&1<<e)}function hp(e,t){return!(e&zr.Self||e&zr.Host&&t)}class as{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return cp(this._tNode,this._lView,t,Yo(o),r)}}function mm(){return new as(oo(),In())}function vm(e){return ao(()=>{const t=e.prototype.constructor,r=t[Ws]||xh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Ws]||xh(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function xh(e){return lt(e)?()=>{const t=xh(Ce(e));return t&&t()}:oi(e)}function v_(e){const t=e[Kn],r=t.type;return 2===r?t.declTNode:1===r?e[Ro]:null}function fp(e){return function W0(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(uo(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===t)return r[a+1];a+=2}}}return null}(oo(),e)}function I_(e,t=null,r=null,o){const a=A_(e,t,r,o);return a.resolveInjectorInitializers(),a}function A_(e,t=null,r=null,o,a=new Set){const d=[r||Ai,sl(e)];return o=o||("object"==typeof e?void 0:A(e)),new Ba(d,t||Su(),o||null,a)}class Us{static create(t,r){if(Array.isArray(t))return I_({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return I_({name:a},t.parent,t.providers,a)}}}(ii=Us).THROW_IF_NOT_FOUND=W,ii.NULL=new Cu,ii.\u0275prov=Nr({token:ii,providedIn:"any",factory:()=>$r(ch)}),ii.__NG_ELEMENT_ID__=-1,new wr("").__NG_ELEMENT_ID__=e=>{const t=oo();if(null===t)throw new Qn(204,!1);if(2&t.type)return t.value;if(e&zr.Optional)return null;throw new Qn(204,!1)};function kh(e){return e.ngOriginalError}const Lh=!0;let Vc=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Dd,e.__NG_ENV_ID__=r=>r,t})();class C_ extends Vc{constructor(t){super(),this._lView=t}onDestroy(t){return Jf(this._lView,t),()=>function Gg(e,t){if(null===e[Ta])return;const r=e[Ta].indexOf(t);-1!==r&&e[Ta].splice(r,1)}(this._lView,t)}}function Dd(){return new C_(In())}let Wu=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ht.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Nr({token:e,providedIn:"root",factory:()=>new e}),t})();const Ys=class w_ extends wn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,hd()&&(this.destroyRef=null!==(r=Jn(Vc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Jn(Wu,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=ee(null);try{super.next(t)}finally{ee(r)}}subscribe(t,r,o){let a=t,d=r||(()=>null),g=o;if(t&&"object"==typeof t){var y,C,$;const me=t;a=null===(y=me.next)||void 0===y?void 0:y.bind(me),d=null===(C=me.error)||void 0===C?void 0:C.bind(me),g=null===($=me.complete)||void 0===$?void 0:$.bind(me)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const J=super.subscribe({next:a,error:d,complete:g});return t instanceof Jt.yU&&t.add(J),J}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;t(r),void 0!==a&&(null===(d=this.pendingTasks)||void 0===d||d.remove(a))})}}};function wd(...e){}function S_(e){let t,r;function o(){e=wd;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function R_(e){return queueMicrotask(()=>e()),()=>{e=wd}}const _p="isAngularZone",yp=_p+"_ID";let P_=0;class Po{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ys(!1),this.onMicrotaskEmpty=new Ys(!1),this.onStable=new Ys(!1),this.onError=new Ys(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=Lh}=t;if(typeof Zone>"u")throw new Qn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function Y0(e){const t=()=>{!function J0(e){function t(){S_(()=>{e.callbackScheduled=!1,Im(e),e.isCheckStableRunning=!0,Em(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Im(e))}(e)},r=P_++;e._inner=e._inner.fork({name:"angular",properties:{[_p]:!0,[yp]:r,[yp+r]:!0},onInvokeTask:(o,a,d,g,y,C)=>{if(function bm(e){return Tm(e,"__ignore_ng_zone__")}(C))return o.invokeTask(d,g,y,C);try{return M_(e),o.invokeTask(d,g,y,C)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Am(e)}},onInvoke:(o,a,d,g,y,C,$)=>{try{return M_(e),o.invoke(d,g,y,C,$)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function O_(e){return Tm(e,"__scheduler_tick__")}(C)&&t(),Am(e)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Im(e),Em(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(_p)}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Qn(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Qn(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,t,Q0,wd,wd);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Q0={};function Em(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Im(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function M_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Am(e){e._nesting--,Em(e)}class Ep{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ys,this.onMicrotaskEmpty=new Ys,this.onStable=new Ys,this.onError=new Ys}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Tm(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Wa{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&kh(t);for(;r&&kh(r);)r=kh(r);return r||null}}const Mi=new wr("",{providedIn:"root",factory:()=>{const e=Jn(Po),t=Jn(Wa);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Nl(){return Uc(oo(),In())}function Uc(e,t){return new Fh(os(e,t))}let Fh=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Nl,t})();function Vh(e){return e instanceof Fh?e.nativeElement:e}function N_(){return this._results[Symbol.iterator]()}class Uh{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Ys}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Uh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=N_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function is(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function bl(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ji(e){return!(128&~e.flags)}const To=new Map;let L_=0;function Tp(e){To.delete(e[nu])}const Rm="__ngContext__";function es(e,t){Ri(t)?(e[Rm]=t[nu],function rE(e){To.set(e[nu],e)}(t)):e[Rm]=t}function qu(e){return Pd(e[ul])}function $h(e){return Pd(e[da])}function Pd(e){for(;null!==e&&!Zo(e);)e=e[da];return e}let $c;function uE(e){$c=e}const zh=new wr("",{providedIn:"root",factory:()=>km}),km="ng",Md=new wr(""),vl=new wr("",{providedIn:"platform",factory:()=>"unknown"}),Od=new wr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function ml(){if(void 0!==$c)return $c;if(typeof document<"u")return document;throw new Qn(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let dE=()=>null;function z_(e,t,r=!1){return dE(e,t,r)}const q_=new wr("",{providedIn:"root",factory:()=>!1});let Vp;function fu(e){var t;return(null===(t=function Y_(){if(void 0===Vp&&(Vp=null,Ui.trustedTypes))try{Vp=Ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vp}())||void 0===t?void 0:t.createScriptURL(e))||e}class ey{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xi})`}}function Qu(e){return e instanceof ey?e.changingThisBreaksApplicationSecurity:e}function Up(e,t){const r=function XA(e){return e instanceof ey&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Xi})`)}return r===t}const YA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _l=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_l||{});function Zu(e){const t=Bd();return t?t.sanitize(_l.URL,e)||"":Up(e,"URL")?Qu(e):function ry(e){return(e=String(e)).match(YA)?e:"unsafe:"+e}(Mr(e))}function dy(e){const t=Bd();if(t)return fu(t.sanitize(_l.RESOURCE_URL,e)||"");if(Up(e,"ResourceURL"))return fu(Qu(e));throw new Qn(904,!1)}function qm(e,t,r){return function PE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?dy:Zu}(t,r)(e)}function Bd(){const e=In();return e&&e[ha].sanitizer}const $p=/^>|^->|<!--|-->|--!>|<!-$/g,fy=/(<|>)/g,ME="\u200b$1\u200b";function _n(e){return e instanceof Function?e():e}var ht=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ht||{});let Rt;function Bt(e,t){return Rt(e,t)}function Zt(e,t,r,o,a){if(null!=o){let d,g=!1;Zo(o)?d=o:Ri(o)&&(g=!0,o=o[to]);const y=Pi(o);0===e&&null!==r?null==a?Wp(t,r,y):Fl(t,r,y,a||null,!0):1===e&&null!==r?Fl(t,r,y,a||null,!0):2===e?function ed(e,t,r){e.removeChild(null,t,r)}(t,y,g):3===e&&t.destroyNode(y),null!=d&&function Iy(e,t,r,o,a){const d=r[fa];d!==Pi(r)&&Zt(t,e,o,d,a);for(let y=ko;y<r.length;y++){const C=r[y];Es(C[Kn],C,e,t,o,d)}}(t,e,d,r,a)}}function Zc(e,t){return e.createComment(function jp(e){return e.replace($p,t=>t.replace(fy,ME))}(t))}function zp(e,t,r){return e.createElement(t,r)}function Gp(e,t){var r;null===(r=t[ha].changeDetectionScheduler)||void 0===r||r.notify(9),Es(e,t,t[Hr],2,null,null)}function pu(e,t){const r=e[Mu],o=t[no];(Ri(o)||t[bo]!==o[no][bo])&&(e[mr]|=Ou.HasTransplantedViews),null===r?e[Mu]=[t]:r.push(t)}function _s(e,t){const r=e[Mu],o=r.indexOf(t);r.splice(o,1)}function nf(e,t){if(e.length<=ko)return;const r=ko+t,o=e[r];if(o){const a=o[ja];null!==a&&a!==e&&_s(a,o),t>0&&(e[r-1][da]=o[da]);const d=fc(e,ko+t);!function ef(e,t){Gp(e,t),t[to]=null,t[Ro]=null}(o[Kn],o);const g=d[Ha];null!==g&&g.detachView(d[Kn]),o[no]=null,o[da]=null,o[mr]&=-129}return o}function ec(e,t){if(!(256&t[mr])){const r=t[Hr];r.destroyNode&&Es(e,t,r,3,null,null),function _y(e){let t=e[ul];if(!t)return Qm(e[Kn],e);for(;t;){let r=null;if(Ri(t))r=t[ul];else{const o=t[ko];o&&(r=o)}if(!r){for(;t&&!t[da]&&t!==e;)Ri(t)&&Qm(t[Kn],t),t=t[no];null===t&&(t=e),Ri(t)&&Qm(t[Kn],t),r=t&&t[da]}t=r}}(t)}}function Qm(e,t){if(256&t[mr])return;const r=ee(null);try{t[mr]&=-129,t[mr]|=256,t[vs]&&It(t[vs]),function LE(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof Mc)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=a[d[g]],C=d[g+1];Fs(4,y,C);try{C.call(y)}finally{Fs(5,y,C)}}else{Fs(4,a,d);try{d.call(a)}finally{Fs(5,a,d)}}}}}(e,t),function rf(e,t){const r=e.cleanup,o=t[Ls];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(t[Ls]=null);const a=t[Ta];if(null!==a){t[Ta]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,t),1===t[Kn].type&&t[Hr].destroy();const o=t[ja];if(null!==o&&Zo(t[no])){o!==t[no]&&_s(o,t);const a=t[Ha];null!==a&&a.detachView(e)}Tp(t)}finally{ee(r)}}function Jm(e,t,r){return function sf(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[to];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===Ns.None||d===Ns.Emulated)return null}return os(o,r)}}(e,t.parent,r)}function Fl(e,t,r,o,a){e.insertBefore(t,r,o,a)}function Wp(e,t,r){e.appendChild(t,r)}function Kp(e,t,r,o,a){null!==o?Fl(e,t,r,o,a):Wp(e,t,r)}function af(e,t){return e.parentNode(t)}function Zm(e,t,r){return yy(e,t,r)}let qp,yy=function ev(e,t,r){return 40&e.type?os(e,r):null};function $d(e,t,r,o){const a=Jm(e,o,t),d=t[Hr],y=Zm(o.parent||t[Ro],o,t);if(null!=a)if(Array.isArray(r))for(let C=0;C<r.length;C++)Kp(d,a,r[C],y,!1);else Kp(d,a,r,y,!1);void 0!==qp&&qp(d,o,t,r,a)}function tc(e,t){if(null!==t){const r=t.type;if(3&r)return os(t,e);if(4&r)return lf(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return tc(e,o);{const a=e[t.index];return Zo(a)?lf(-1,a):Pi(a)}}if(128&r)return tc(e,t.next);if(32&r)return Bt(t,e)()||Pi(e[t.index]);{const o=Ey(e,t);return null!==o?Array.isArray(o)?o[0]:tc(au(e[bo]),o):tc(e,t.next)}}return null}function Ey(e,t){return null!==t?e[bo][Ro].projection[t.projection]:null}function lf(e,t){const r=ko+e+1;if(r<t.length){const o=t[r],a=o[Kn].firstChild;if(null!==a)return tc(o,a)}return t[fa]}function ys(e,t,r,o,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const y=o[r.index],C=r.type;if(g&&0===t&&(y&&es(Pi(y),o),r.flags|=2),32&~r.flags)if(8&C)ys(e,t,r.child,o,a,d,!1),Zt(t,e,a,y,d);else if(32&C){const $=Bt(r,o);let J;for(;J=$();)Zt(t,e,a,J,d);Zt(t,e,a,y,d)}else 16&C?nv(e,t,o,r,a,d):Zt(t,e,a,y,d);r=g?r.projectionNext:r.next}}function Es(e,t,r,o,a,d){ys(r,o,e.firstChild,t,a,d,!1)}function nv(e,t,r,o,a,d){const g=r[bo],C=g[Ro].projection[o.projection];if(Array.isArray(C))for(let $=0;$<C.length;$++)Zt(t,e,a,C[$],d);else{let $=C;const J=g[no];Ji(o)&&($.flags|=128),ys(e,t,$,J,a,d,!0)}}function rv(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function iv(e,t,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&gc(e,t,o),null!==a&&rv(e,t,a),null!==d&&function uf(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}const Zr={};function Ay(e=1){by(fi(),In(),ss()+e,!1)}function by(e,t,r,o){if(!o)if(3&~t[mr]){const d=e.preOrderHooks;null!==d&&Sh(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&wh(t,d,r)}cu(r)}function nc(e,t=zr.Default){const r=In();return null===r?$r(e,t):cp(oo(),r,Ce(e),t)}function ov(){throw new Error("invalid")}function sv(e,t,r,o,a,d){const g=ee(null);try{let y=null;a&Go.SignalBased&&(y=t[o][Q]),null!==y&&void 0!==y.transformFn&&(d=y.transformFn(d)),a&Go.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(t,d)),null!==e.setInput?e.setInput(t,y,d,r,o):nn(t,y,o,d)}finally{ee(g)}}function jd(e,t,r,o,a,d,g,y,C,$,J){const me=t.blueprint.slice();return me[to]=a,me[mr]=204|o,(null!==$||e&&2048&e[mr])&&(me[mr]|=2048),zg(me),me[no]=me[eu]=e,me[ro]=r,me[ha]=g||e&&e[ha],me[Hr]=y||e&&e[Hr],me[io]=C||e&&e[io]||null,me[Ro]=d,me[nu]=function nE(){return L_++}(),me[bs]=J,me[zf]=$,me[bo]=2==t.type?e[bo]:me,me}function gu(e,t,r,o,a){let d=e.data[t];if(null===d)d=function mu(e,t,r,o,a){const d=ep(),g=tp(),C=e.data[t]=function eg(e,t,r,o,a,d){let g=t?t.injectorIndex:-1,y=0;return lu()&&(y|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(e,t,r,o,a),function B0(){return qr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const g=function $u(){const e=qr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return wa(d,!0),d}function Hd(e,t,r,o){if(0===r)return-1;const a=t.length;for(let d=0;d<r;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function df(e,t,r,o,a){const d=ss(),g=2&o;try{cu(-1),g&&t.length>_r&&by(e,t,_r,!1),Fs(g?2:0,a),r(o,a)}finally{cu(d),Fs(g?3:1,a)}}function Jp(e,t,r){if(bc(t)){const o=ee(null);try{const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,r[g],g)}}finally{ee(o)}}}function td(e,t,r){Kg()&&(function wy(e,t,r,o){const a=r.directiveStart,d=r.directiveEnd;ru(r)&&function cv(e,t,r){const o=os(t,e),a=js(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const y=mf(e,jd(e,a,null,g,o,t,null,e[ha].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=y}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||bd(r,t),es(o,t);const g=r.initialInputs;for(let y=a;y<d;y++){const C=e.data[y],$=kc(t,e,y,r);es($,t),null!==g&&My(0,y-a,$,C,0,g),Qs(C)&&(Js(r.index,t)[ro]=kc(t,e,y,r))}}(e,t,r,os(r,t)),!(64&~r.flags)&&og(e,t,r))}function Yp(e,t,r=os){const o=t.localNames;if(null!==o){let a=t.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],y=-1===g?r(t,e):e[g];e[a++]=y}}}function js(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Zp(e,t,r,o,a,d,g,y,C,$,J){const me=_r+o,Ye=me+a,ct=function hf(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Zr);return r}(me,Ye),nt="function"==typeof $?$():$;return ct[Kn]={type:e,blueprint:ct,template:r,queries:null,viewQuery:y,declTNode:t,data:ct.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:nt,incompleteFirstPass:!1,ssrId:J}}let Ty=()=>null;function av(e,t,r,o,a){for(let g in t){var d;if(!t.hasOwnProperty(g))continue;const y=t[g];if(void 0===y)continue;null!==(d=o)&&void 0!==d||(o={});let C,$=Go.None;Array.isArray(y)?(C=y[0],$=y[1]):C=y;let J=g;if(null!==a){if(!a.hasOwnProperty(g))continue;J=a[g]}0===e?tg(o,r,J,C,$):tg(o,r,J,C)}return o}function tg(e,t,r,o,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(t,o):d=e[r]=[t,o],void 0!==a&&d.push(a)}function ea(e,t,r,o,a,d,g,y){const C=os(t,r);let J,$=t.inputs;!y&&null!=$&&(J=$[o])?(_o(e,r,J,o,a),ru(t)&&function Cy(e,t){const r=Js(t,e);16&r[mr]||(r[mr]|=64)}(r,t.index)):3&t.type&&(o=function rc(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,d.setProperty(C,o,a))}function rg(e,t,r,o){if(Kg()){const a=null===o?null:{"":-1},d=function nd(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let g=0;g<r.length;g++){const y=r[g];if(ld(t,y.selectors,!1))if(o||(o=[]),Qs(y))if(null!==y.findHostDirectiveDefs){const C=[];a=a||new Map,y.findHostDirectiveDefs(y,C,a),o.unshift(...C,y),gf(e,t,C.length)}else o.unshift(y),gf(e,t,0);else{var d;a=a||new Map,null===(d=y.findHostDirectiveDefs)||void 0===d||d.call(y,y,o,a),o.push(y)}}return null===o?null:[o,a]}(e,r);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&uv(e,t,r,g,a,y),a&&function jE(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=r[t[a+1]];if(null==d)throw new Qn(-301,!1);o.push(t[a],d)}}}(r,o,a)}r.mergedAttrs=Ia(r.mergedAttrs,r.attrs)}function uv(e,t,r,o,a,d){for(let me=0;me<o.length;me++)Oh(bd(r,t),e,o[me].type);!function Ry(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let me=0;me<o.length;me++){const Ye=o[me];Ye.providersResolver&&Ye.providersResolver(Ye)}let g=!1,y=!1,C=Hd(e,t,o.length,null);for(let me=0;me<o.length;me++){const Ye=o[me];r.mergedAttrs=Ia(r.mergedAttrs,Ye.hostAttrs),Py(e,r,t,C,Ye),Sy(C,Ye,a),null!==Ye.contentQueries&&(r.flags|=4),(null!==Ye.hostBindings||null!==Ye.hostAttrs||0!==Ye.hostVars)&&(r.flags|=64);const ct=Ye.type.prototype;var $,J;!g&&(ct.ngOnChanges||ct.ngOnInit||ct.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(r.index),g=!0),y||!ct.ngOnChanges&&!ct.ngDoCheck||((null!==(J=e.preOrderCheckHooks)&&void 0!==J?J:e.preOrderCheckHooks=[]).push(r.index),y=!0),C++}!function ng(e,t,r){const a=t.directiveEnd,d=e.data,g=t.attrs,y=[];let C=null,$=null;for(let J=t.directiveStart;J<a;J++){const me=d[J],Ye=r?r.get(me):null,nt=Ye?Ye.outputs:null;C=av(0,me.inputs,J,C,Ye?Ye.inputs:null),$=av(1,me.outputs,J,$,nt);const ln=null===C||null===g||vc(t)?null:HE(C,J,g);y.push(ln)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=C,t.outputs=$}(e,r,d)}function og(e,t,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,g=function Yg(){return qr.lFrame.currentDirectiveIndex}();try{cu(d);for(let y=o;y<a;y++){const C=e.data[y],$=t[y];bh(y),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&pf(C,$)}}finally{cu(-1),bh(g)}}function pf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function gf(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function Sy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Qs(t)&&(r[""]=e)}}function Py(e,t,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=oi(a.type)),g=new Mc(d,Qs(a),nc);e.blueprint[o]=g,r[o]=g,function $E(e,t,r,o,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~t.index;(function ig(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=y&&g.push(y),g.push(r,o,d)}}(e,t,o,Hd(e,r,a.hostVars,Zr),a)}function qa(e,t,r,o,a,d){const g=os(e,t);!function sg(e,t,r,o,a,d,g){if(null==d)e.removeAttribute(t,a,r);else{const y=null==g?Mr(d):g(d,o||"",a);e.setAttribute(t,a,y,r)}}(t[Hr],g,d,e.value,r,o,a)}function My(e,t,r,o,a,d){const g=d[t];if(null!==g)for(let y=0;y<g.length;)sv(o,r,g[y++],g[y++],g[y++],g[y++])}function HE(e,t,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let y=0;y<g.length;y+=3)if(g[y]===t){o.push(d,g[y+1],g[y+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Oy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function dv(e,t){const r=e.contentQueries;if(null!==r){const o=ee(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const y=e.data[g];fl(r[a]),y.contentQueries(2,t[g],g)}}}finally{ee(o)}}}function mf(e,t){return e[ul]?e[Hf][da]=t:e[ul]=t,e[Hf]=t,t}function hv(e,t,r){fl(0);const o=ee(null);try{t(e,r)}finally{ee(o)}}function Vl(e){var t;return null!==(t=e[Ls])&&void 0!==t?t:e[Ls]=[]}function vf(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function yf(e,t){const r=e[io],o=r?r.get(Wa,null):null;o&&o.handleError(t)}function _o(e,t,r,o,a){for(let d=0;d<r.length;){const g=r[d++],y=r[d++],C=r[d++];sv(e.data[g],t[g],o,y,C,a)}}function Xa(e,t,r){const o=cl(t,e);!function Ll(e,t,r){e.setValue(t,r)}(e[Hr],o,r)}function Ef(e,t){const r=Js(t,e),o=r[Kn];!function If(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[to];null!==a&&null===r[bs]&&(r[bs]=z_(a,r[io])),fv(o,r,r[ro])}function fv(e,t,r){zu(t);try{var o;const a=e.viewQuery;null!==a&&hv(1,a,r);const d=e.template;null!==d&&df(e,t,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Ha])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&dv(e,t),e.staticViewQueries&&hv(2,e.viewQuery,r);const g=e.components;null!==g&&function xy(e,t){for(let r=0;r<t.length;r++)Ef(e,t[r])}(t,g)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[mr]&=-5,op()}}function Wd(e,t,r,o){const a=ee(null);try{var d,g,y;const C=t.tView,me=jd(e,C,r,4096&e[mr]?4096:16,null,t,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(y=null==o?void 0:o.dehydratedView)&&void 0!==y?y:null);me[ja]=e[t.index];const ct=e[Ha];return null!==ct&&(me[Ha]=ct.createEmbeddedView(C)),fv(C,me,r),me}finally{ee(a)}}function rd(e,t){return!t||null===t.firstChild||Ji(e)}function Kd(e,t,r,o=!0){const a=t[Kn];if(function kE(e,t,r,o){const a=ko+o,d=r.length;o>0&&(r[a-1][da]=t),o<d-ko?(t[da]=r[a],xs(r,ko+o,t)):(r.push(t),t[da]=null),t[no]=r;const g=t[ja];null!==g&&r!==g&&pu(g,t);const y=t[Ha];null!==y&&y.insertView(e),Xf(t),t[mr]|=128}(a,t,e,r),o){const g=lf(r,e),y=t[Hr],C=af(y,e[fa]);null!==C&&function tf(e,t,r,o,a,d){o[to]=a,o[Ro]=t,Es(e,o,r,1,a,d)}(a,e[Ro],y,t,C,g)}const d=t[bs];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Qa(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&o.push(Pi(d)),Zo(d)&&pv(d,o);const g=r.type;if(8&g)Qa(e,t,r.child,o);else if(32&g){const y=Bt(r,t);let C;for(;C=y();)o.push(C)}else if(16&g){const y=Ey(t,r);if(Array.isArray(y))o.push(...y);else{const C=au(t[bo]);Qa(C[Kn],C,y,o,!0)}}r=a?r.projectionNext:r.next}return o}function pv(e,t){for(let r=ko;r<e.length;r++){const o=e[r],a=o[Kn].firstChild;null!==a&&Qa(o[Kn],o,a,t)}e[fa]!==e[to]&&t.push(e[fa])}let gv=[];const GE={...Oe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Qf(e.lView)},consumerOnSignalRead(){this.lView[vs]=this}},ic={...Oe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=au(e.lView);for(;t&&!Ly(t[Kn]);)t=au(t);t&&Ih(t)},consumerOnSignalRead(){this.lView[vs]=this}};function Ly(e){return 2!==e.type}const KE=100;function oc(e,t=!0,r=0){const o=e[ha],a=o.rendererFactory;var g;null===(g=a.begin)||void 0===g||g.call(a);try{!function ag(e,t){const r=Jg();try{i_(!0),_v(e,t);let o=0;for(;yd(e);){if(o===KE)throw new Qn(103,!1);o++,_v(e,1)}}finally{i_(r)}}(e,r)}catch($){throw t&&yf(e,$),$}finally{var y,C;null===(y=a.end)||void 0===y||y.call(a),null===(C=o.inlineEffectRunner)||void 0===C||C.flush()}}function Af(e,t,r,o){var a;const d=t[mr];if(!(256&~d))return;null===(a=t[ha].inlineEffectRunner)||void 0===a||a.flush(),zu(t);let C=!0,$=null,J=null;Ly(e)?(J=function ky(e){var t;return null!==(t=e[vs])&&void 0!==t?t:function qd(e){var t;const r=null!==(t=gv.pop())&&void 0!==t?t:Object.create(GE);return r.lView=e,r}(e)}(t),$=rt(J)):null===function Ae(){return h}()?(C=!1,J=function WE(e){var t;const r=null!==(t=e[vs])&&void 0!==t?t:Object.create(ic);return r.lView=e,r}(t),$=rt(J)):t[vs]&&(It(t[vs]),t[vs]=null);try{zg(t),function rp(e){return qr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&df(e,t,r,2,o);const me=!(3&~d);if(me){const nt=e.preOrderCheckHooks;null!==nt&&wh(t,nt,null)}else{const nt=e.preOrderHooks;null!==nt&&Sh(t,nt,0,null),ap(t,0)}if(function Fy(e){for(let t=qu(e);null!==t;t=$h(t)){if(!(t[mr]&Ou.HasTransplantedViews))continue;const r=t[Mu];for(let o=0;o<r.length;o++)Ih(r[o])}}(t),Xd(t,0),null!==e.contentQueries&&dv(e,t),me){const nt=e.contentCheckHooks;null!==nt&&wh(t,nt)}else{const nt=e.contentHooks;null!==nt&&Sh(t,nt,1),ap(t,1)}!function cf(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)cu(~a);else{const d=a,g=r[++o],y=r[++o];o_(g,d),y(2,t[d])}}}finally{cu(-1)}}(e,t);const Ye=e.components;null!==Ye&&Vy(t,Ye,0);const ct=e.viewQuery;if(null!==ct&&hv(2,ct,o),me){const nt=e.viewCheckHooks;null!==nt&&wh(t,nt)}else{const nt=e.viewHooks;null!==nt&&Sh(t,nt,2),ap(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ca]){for(const nt of t[Ca])nt();t[Ca]=null}t[mr]&=-73}catch(me){throw Qf(t),me}finally{null!==J&&(st(J,$),C&&function zE(e){e.lView[vs]!==e&&(e.lView=null,gv.push(e))}(J)),op()}}function Xd(e,t){for(let r=qu(e);null!==r;r=$h(r))for(let o=ko;o<r.length;o++)Lo(r[o],t)}function vv(e,t,r){Lo(Js(t,e),r)}function Lo(e,t){Hg(e)&&_v(e,t)}function _v(e,t){const o=e[Kn],a=e[mr],d=e[vs];let g=!!(0===t&&16&a);if(g||(g=!!(64&a&&0===t)),g||(g=!!(1024&a)),g||(g=!(null==d||!d.dirty||!Mt(d))),g||(g=!1),d&&(d.dirty=!1),e[mr]&=-9217,g)Af(o,e,o.template,e[ro]);else if(8192&a){Xd(e,1);const y=o.components;null!==y&&Vy(e,y,1)}}function Vy(e,t,r){for(let o=0;o<t.length;o++)vv(e,t[o],r)}function Qd(e,t){var r;const o=Jg()?64:1088;for(null===(r=e[ha].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[mr]|=o;const a=au(e);if(Nu(e)&&!a)return e;e=a}return null}class Jd{get rootNodes(){const t=this._lView,r=t[Kn];return Qa(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ro]}set context(t){this._lView[ro]=t}get destroyed(){return!(256&~this._lView[mr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[no];if(Zo(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(nf(t,o),fc(r,o))}this._attachedToViewContainer=!1}ec(this._lView[Kn],this._lView)}onDestroy(t){Jf(this._lView,t)}markForCheck(){Qd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[mr]&=-129}reattach(){Xf(this._lView),this._lView[mr]|=128}detectChanges(){this._lView[mr]|=1024,oc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Nu(this._lView),r=this._lView[ja];null!==r&&!t&&_s(r,this._lView),Gp(this._lView[Kn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Qn(902,!1);this._appRef=t;const r=Nu(this._lView),o=this._lView[ja];null!==o&&!r&&pu(o,this._lView),Xf(this._lView)}}let Yd=(()=>{class t{}return t.__NG_ELEMENT_ID__=vu,t})();const lg=Yd,Uy=class extends lg{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=Wd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Jd(a)}};function vu(){return bf(oo(),In())}function bf(e,t){return 4&e.type?new Uy(t,e,Uc(e,t)):null}let pb=()=>null;function Rf(e,t){return pb(e,t)}class fg{}const Sv=new wr("",{providedIn:"root",factory:()=>!1}),gb=new wr(""),rI=new wr("");class IS{}class mb{}class bS{resolveComponentFactory(t){throw function AS(e){const t=Error(`No component factory found for ${A(e)}.`);return t.ngComponent=e,t}(t)}}class pg{}pg.NULL=new bS;class iI{}let TS=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function CS(){const e=In(),r=Js(oo().index,e);return(Ri(r)?r:e)[Hr]}(),t})(),DS=(()=>{var e;class t{}return(e=t).\u0275prov=Nr({token:e,providedIn:"root",factory:()=>null}),t})();function rh(e){return!!Qi(e)}function Qy(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const y=t[g];"number"==typeof y?d=y:1==d?a=b(a,y):2==d&&(o=b(o,y+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class Eb extends pg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Tr(t);return new Mv(r,this.ngModule)}}function Ib(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),g=d?a[0]:a;r.push(t?{propName:g,templateName:o,isSignal:!!((d?a[1]:Go.None)&Go.SignalBased)}:{propName:g,templateName:o})}return r}class Mv extends mb{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=Ib(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return Ib(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Se(e){return e.map(Ie).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const d=ee(null);try{var y;let C=(a=a||this.ngModule)instanceof ca?a:null===(y=a)||void 0===y?void 0:y.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const $=C?new du(t,C):t,J=$.get(iI,null);if(null===J)throw new Qn(407,!1);const ct={rendererFactory:J,sanitizer:$.get(DS,null),inlineEffectRunner:null,changeDetectionScheduler:$.get(fg,null)},nt=J.createRenderer(null,this.componentDef),ln=this.componentDef.selectors[0][0]||"div",Dn=o?function ff(e,t,r,o){const d=o.get(q_,!1)||r===Ns.ShadowDom,g=e.selectRootElement(t,d);return function VE(e){Ty(e)}(g),g}(nt,o,this.componentDef.encapsulation,$):zp(nt,ln,function RS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ln));let zn=512;this.componentDef.signals?zn|=4096:this.componentDef.onPush||(zn|=16);let fn=null;null!==Dn&&(fn=z_(Dn,$,!0));const Vr=Zp(0,null,null,1,0,null,null,null,null,null,null),ei=jd(null,Vr,null,zn,null,null,ct,nt,$,null,fn);zu(ei);let Co,Rs,ma=null;try{const Il=this.componentDef;let Lf,PA=null;Il.findHostDirectiveDefs?(Lf=[],PA=new Map,Il.findHostDirectiveDefs(Il,Lf,PA),Lf.push(Il)):Lf=[Il];const ek=function MS(e,t){const r=e[Kn],o=_r;return e[o]=t,gu(r,o,2,"#host",null)}(ei,Dn);ma=function OS(e,t,r,o,a,d,g){const y=a[Kn];!function xS(e,t,r,o){for(const a of e)t.mergedAttrs=Ia(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(Qy(t,t.mergedAttrs,!0),null!==r&&iv(o,r,t))}(o,e,t,g);let C=null;null!==t&&(C=z_(t,a[io]));const $=d.rendererFactory.createRenderer(t,r);let J=16;r.signals?J=4096:r.onPush&&(J=64);const me=jd(a,js(r),null,J,a[e.index],e,d,$,null,null,C);return y.firstCreatePass&&gf(y,e,o.length-1),mf(a,me),a[e.index]=me}(ek,Dn,Il,Lf,ei,ct,nt),Rs=Ml(Vr,_r),Dn&&function kS(e,t,r,o){if(o)gc(e,r,["ng-version","18.2.6"]);else{const{attrs:a,classes:d}=function Vt(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++o]):8===a&&r.push(d);else{if(!ks(a))break;a=d}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&gc(e,r,a),d&&d.length>0&&rv(e,r,d.join(" "))}}(nt,Il,Dn,o),void 0!==r&&function LS(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const d=r[a];o.push(null!=d?Array.from(d):null)}}(Rs,this.ngContentSelectors,r),Co=function NS(e,t,r,o,a,d){const g=oo(),y=a[Kn],C=os(g,a);uv(y,a,g,r,null,o);for(let J=0;J<r.length;J++)es(kc(a,y,g.directiveStart+J,g),a);og(y,a,g),C&&es(C,a);const $=kc(a,y,g.directiveStart+g.componentOffset,g);if(e[ro]=a[ro]=$,null!==d)for(const J of d)J($,t);return Jp(y,g,a),$}(ma,Il,Lf,PA,ei,[FS]),fv(Vr,ei,null)}catch(Il){throw null!==ma&&Tp(ma),Tp(ei),Il}finally{op()}return new PS(this.componentType,Co,Uc(Rs,ei),ei,Rs)}finally{ee(d)}}}class PS extends IS{constructor(t,r,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Jd(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;_o(g[Kn],g,a,t,r),this.previousInputValues.set(t,r),Qd(Js(this._tNode.index,g),1)}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function FS(){const e=oo();Dh(In()[Kn],e)}let Jy=(()=>{class t{}return t.__NG_ELEMENT_ID__=VS,t})();function VS(){return Tb(oo(),In())}const US=Jy,Ab=class extends US{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const t=Mh(this._hostTNode,this._hostLView);if(cm(t)){const r=xc(t,this._hostLView),o=Oc(t);return new as(r[Kn].data[o+8],r)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=bb(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-ko}createEmbeddedView(t,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=Rf(this._lContainer,t.ssrId),y=t.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(y,a,rd(this._hostTNode,g)),y}createComponent(t,r,o,a,d){var g,y,C;const $=t&&!function Pu(e){return"function"==typeof e}(t);let J;if($)J=r;else{const zn=r||{};J=zn.index,o=zn.injector,a=zn.projectableNodes,d=zn.environmentInjector||zn.ngModuleRef}const me=$?t:new Mv(Tr(t)),Ye=o||this.parentInjector;if(!d&&null==me.ngModule){const fn=($?Ye:this.parentInjector).get(ca,null);fn&&(d=fn)}const ct=Tr(null!==(g=me.componentType)&&void 0!==g?g:{}),nt=Rf(this._lContainer,null!==(y=null==ct?void 0:ct.id)&&void 0!==y?y:null),ln=null!==(C=null==nt?void 0:nt.firstChild)&&void 0!==C?C:null,Dn=me.create(Ye,a,ln,d);return this.insertImpl(Dn.hostView,J,rd(this._hostTNode,nt)),Dn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Vs(e){return Zo(e[no])}(a)){const y=this.indexOf(t);if(-1!==y)this.detach(y);else{const C=a[no],$=new Ab(C,C[Ro],C[no]);$.detach($.indexOf(t))}}const d=this._adjustIndex(r),g=this._lContainer;return Kd(g,a,d,o),t.attachToViewContainerRef(),xs(aI(g),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=bb(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=nf(this._lContainer,r);o&&(fc(aI(this._lContainer),r),ec(o[Kn],o))}detach(t){const r=this._adjustIndex(t,-1),o=nf(this._lContainer,r);return o&&null!=fc(aI(this._lContainer),r)?new Jd(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function bb(e){return e[8]}function aI(e){return e[8]||(e[8]=[])}function Tb(e,t){let r;const o=t[e.index];return Zo(o)?r=o:(r=Oy(o,t,null,e),t[e.index]=r,mf(t,r)),Cb(r,t,e,o),new Ab(r,e,t)}let Cb=function wb(e,t,r,o){if(e[fa])return;let a;a=8&r.type?Pi(o):function BS(e,t){const r=e[Hr],o=r.createComment(""),a=os(t,e);return Fl(r,af(r,a),o,function Ym(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[fa]=a},lI=()=>!1;class uI{constructor(t){this.queryList=t,this.matches=null}clone(){return new uI(this.queryList)}setDirty(){this.queryList.setDirty()}}class cI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new cI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==gI(t,r).matches&&this.queries[r].setDirty()}}class Sb{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function qS(e){return e.split(",").map(t=>t.trim())}(t):t}}class dI{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(t,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new dI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hI{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new hI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(t,r,zS(r,d)),this.matchTNodeWithReadOption(t,r,dp(r,t,d,!1,!1))}else o===Yd?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,dp(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Fh||a===Jy||a===Yd&&4&r.type)this.addMatch(r.index,-2);else{const d=dp(r,t,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function zS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function WS(e,t,r,o){return-1===r?function GS(e,t){return 11&e.type?Uc(e,t):4&e.type?bf(e,t):null}(t,e):-2===r?function KS(e,t,r){return r===Fh?Uc(t,e):r===Yd?bf(t,e):r===Jy?Tb(t,e):void 0}(e,t,o):kc(e,e[Kn],r,t)}function Rb(e,t,r,o){const a=t[Ha].queries[o];if(null===a.matches){const d=e.data,g=r.matches,y=[];for(let C=0;null!==g&&C<g.length;C+=2){const $=g[C];y.push($<0?null:WS(t,d[$],g[C+1],r.metadata.read))}a.matches=y}return a.matches}function fI(e,t,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=Rb(e,t,a,r);for(let y=0;y<d.length;y+=2){const C=d[y];if(C>0)o.push(g[y/2]);else{const $=d[y+1],J=t[-C];for(let me=ko;me<J.length;me++){const Ye=J[me];Ye[ja]===Ye[no]&&fI(Ye[Kn],Ye,$,o)}if(null!==J[Mu]){const me=J[Mu];for(let Ye=0;Ye<me.length;Ye++){const ct=me[Ye];fI(ct[Kn],ct,$,o)}}}}}return o}function Pb(e,t,r){var o;const a=new Uh(!(4&~r));return function BE(e,t,r,o){const a=Vl(t);a.push(r),e.firstCreatePass&&vf(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Ha])&&void 0!==o?o:t[Ha]=new cI).queries.push(new uI(a))-1}function xb(e,t,r){null===e.queries&&(e.queries=new dI),e.queries.track(new hI(t,r))}function gI(e,t){return e.queries.getByIndex(t)}function Nb(e,t){const r=e[Kn],o=gI(r,t);return o.crossesNgTemplate?fI(r,e,t,[]):Rb(r,e,o,t)}const kb=new Set;function Ra(e){var t,r;kb.has(e)||(kb.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function Fb(e,t){Ra("NgSignals");const r=function ue(e){const t=Object.create(Wt);t.value=e;const r=()=>(ye(t),t.value);return r[Q]=t,r}(e),o=r[Q];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>gt(o,a),r.update=a=>function yt(e,t){at()||Gt(),gt(e,t(e.value))}(o,a),r.asReadonly=Vb.bind(r),r}function Vb(){const e=this[Q];if(void 0===e.readonlyFn){const t=()=>this();t[Q]=e,e.readonlyFn=t}return e.readonlyFn}function Ub(e){return function Lb(e){return"function"==typeof e&&void 0!==e[Q]}(e)&&"function"==typeof e.set}function vI(e){let t=function Qb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Qs(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Qn(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=Zy(e.inputs),g.inputTransforms=Zy(e.inputTransforms),g.declaredInputs=Zy(e.declaredInputs),g.outputs=Zy(e.outputs);const y=a.hostBindings;y&&uR(e,y);const C=a.viewQuery,$=a.contentQueries;if(C&&aR(e,C),$&&lR(e,$),oR(e,a),G(e.outputs,a.outputs),Qs(a)&&a.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(e),y===vI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function sR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Ia(a.hostAttrs,r=Ia(r,a.hostAttrs))}}(o)}function oR(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const d=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(d))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[d]=t.inputTransforms[d]}}}function Zy(e){return e===aa?{}:e===Ai?[]:e}function aR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function lR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{t(o,a,d),r(o,a,d)}:t}function uR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function eT(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Pf{}class tT{}function gR(e,t){return new _I(e,null!=t?t:null,[])}class _I extends Pf{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const d=Qi(t);this._bootstrapComponents=_n(d.bootstrap),this._r3Injector=A_(t,r,[{provide:Pf,useValue:this},{provide:pg,useValue:this.componentFactoryResolver},...o],A(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class yI extends tT{constructor(t){super(),this.moduleType=t}create(t){return new _I(this.moduleType,t,[])}}class nT extends Pf{constructor(t){super(),this.componentFactoryResolver=new Eb(this),this.instance=null;const r=new Ba([...t.providers,{provide:Pf,useValue:this},{provide:pg,useValue:this.componentFactoryResolver}],t.parent||Su(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function EI(e,t,r=null){return new nT({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function e0(e){return!!II(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function II(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function us(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Nv(e,t,r,o,a,d,g,y,C,$){const J=r+_r,me=t.firstCreatePass?function IR(e,t,r,o,a,d,g,y,C){const $=t.consts,J=gu(t,e,4,g||null,y||null);rg(t,r,J,Ga($,C)),Dh(t,J);const me=J.tView=Zp(2,J,o,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,$,null);return null!==t.queries&&(t.queries.template(t,J),me.queries=t.queries.embeddedTView(J)),J}(J,t,e,o,a,d,g,y,C):t.data[J];wa(me,!1);const Ye=rT(t,e,me,r);Ch()&&$d(t,e,Ye,me),es(Ye,e);const ct=Oy(Ye,e,Ye,me);return e[J]=ct,mf(e,ct),function Db(e,t,r){return lI(e,t,r)}(ct,me,e),xu(me)&&td(t,e,me),null!=C&&Yp(e,me,$),me}function AI(e,t,r,o,a,d,g,y){const C=In(),$=fi();return Nv(C,$,e,t,r,o,a,Ga($.consts,d),g,y),AI}let rT=function iT(e,t,r,o){return pl(!0),t[Hr].createComment("")};var _g=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_g||{});let cT=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=Nr({token:e,providedIn:"root",factory:()=>new e}),t})();class s0{constructor(){this.ngZone=Jn(Po),this.scheduler=Jn(fg),this.errorHandler=Jn(Wa,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of s0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Jr=s0).PHASES=[_g.EarlyRead,_g.Write,_g.MixedReadWrite,_g.Read],Jr.\u0275prov=Nr({token:Jr,providedIn:"root",factory:()=>new Jr});class CR{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function a0(e,t){var r;(null==t||!t.injector)&&function Jl(e){if(!hd())throw new Qn(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Jn(Us);return function xn(e){return"browser"===(null!=e?e:Jn(Us)).get(vl)}(o)?(Ra("NgAfterNextRender"),function dT(e,t,r,o){var a,d;const g=t.get(cT);null!==(a=g.impl)&&void 0!==a||(g.impl=t.get(s0));const y=null!==(d=null==r?void 0:r.phase)&&void 0!==d?d:_g.MixedReadWrite,C=new CR(g.impl,function wR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,y),o,t.get(Vc));return g.impl.register(C),C}(e,o,t,!0)):hT}const hT={destroy(){}};function xI(e,t,r,o){const a=In();return us(a,dl(),t)&&(fi(),qa(co(),a,e,t,r,o)),xI}function Dg(e,t,r,o,a,d){const y=function Mf(e,t,r,o){const a=us(e,t,r);return us(e,t+1,o)||a}(e,function uu(){return qr.lFrame.bindingIndex}(),r,a);return hl(2),y?t+Mr(r)+o+Mr(a)+d:Zr}function c0(e,t){return e<<17|t<<2}function sh(e){return e>>17&32767}function NI(e){return 2|e}function xf(e){return(131068&e)>>2}function kI(e,t){return-131069&e|t<<2}function LI(e){return 1|e}function VT(e,t,r,o){const a=e[r+1],d=null===t;let g=o?sh(a):xf(a),y=!1;for(;0!==g&&(!1===y||d);){const $=e[g+1];uP(e[g],t)&&(y=!0,e[g+1]=o?LI($):NI($)),g=o?sh($):xf($)}y&&(e[r+1]=o?NI(a):LI(a))}function uP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&eo(e,t)>=0}function FI(e,t,r){const o=In();return us(o,dl(),t)&&ea(fi(),co(),o,e,t,o[Hr],r,!1),FI}function VI(e,t,r,o,a){const g=a?"class":"style";_o(e,r,t.inputs[g],g,o)}function UI(e,t){return function _u(e,t,r,o){const a=In(),d=fi(),g=hl(2);d.firstUpdatePass&&function KT(e,t,r,o){const a=e.data;if(null===a[r+1]){const d=a[ss()],g=function WT(e,t){return t>=e.expandoStartIndex}(e,r);(function JT(e,t){return!!(e.flags&(t?8:16))})(d,o)&&null===t&&!g&&(t=!1),t=function _P(e,t,r,o){const a=function Th(e){const t=qr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Vv(r=BI(null,e,t,r,o),t.attrs,o),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=BI(a,e,t,r,o),null===d){let C=function yP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==xf(o))return e[sh(o)]}(e,t,o);void 0!==C&&Array.isArray(C)&&(C=BI(null,e,t,C[1],o),C=Vv(C,t.attrs,o),function EP(e,t,r,o){e[sh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,C))}else d=function IP(e,t,r){let o;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)o=Vv(o,e[d].hostAttrs,r);return Vv(o,t.attrs,r)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),r}(a,d,t,o),function aP(e,t,r,o,a,d){let g=d?t.classBindings:t.styleBindings,y=sh(g),C=xf(g);e[o]=r;let J,$=!1;if(Array.isArray(r)?(J=r[1],(null===J||eo(r,J)>0)&&($=!0)):J=r,a)if(0!==C){const Ye=sh(e[y+1]);e[o+1]=c0(Ye,y),0!==Ye&&(e[Ye+1]=kI(e[Ye+1],o)),e[y+1]=function oP(e,t){return 131071&e|t<<17}(e[y+1],o)}else e[o+1]=c0(y,0),0!==y&&(e[y+1]=kI(e[y+1],o)),y=o;else e[o+1]=c0(C,0),0===y?y=o:e[C+1]=kI(e[C+1],o),C=o;$&&(e[o+1]=NI(e[o+1])),VT(e,J,o,!0),VT(e,J,o,!1),function lP(e,t,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&eo(d,t)>=0&&(r[o+1]=LI(r[o+1]))}(t,J,e,o,d),g=c0(y,C),d?t.classBindings=g:t.styleBindings=g}(a,d,t,r,g,o)}}(d,e,g,o),t!==Zr&&us(a,g,t)&&function XT(e,t,r,o,a,d,g,y){if(!(3&t.type))return;const C=e.data,$=C[y+1],J=function sP(e){return!(1&~e)}($)?QT(C,t,r,a,xf($),g):void 0;d0(J)||(d0(d)||function iP(e){return!(2&~e)}($)&&(d=QT(C,null,r,a,y,g)),function FE(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:ht.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=ht.Important),e.setStyle(r,o,a,d))}}(o,g,cl(ss(),r),a,d))}(d,d.data[ss()],a,a[Hr],e,a[g+1]=function CP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=A(Qu(e)))),e}(t,r),o,g)}(e,t,null,!0),UI}function BI(e,t,r,o,a){let d=null;const g=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<g&&(d=t[y],o=Vv(o,d.hostAttrs,a),d!==e);)y++;return null!==e&&(r.directiveStylingLast=y),o}function Vv(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vo(e,g,!!r||t[++d]))}return void 0===e?null:e}function QT(e,t,r,o,a,d){const g=null===t;let y;for(;a>0;){const C=e[a],$=Array.isArray(C),J=$?C[1]:C,me=null===J;let Ye=r[a+1];Ye===Zr&&(Ye=me?Ai:void 0);let ct=me?Tl(Ye,o):J===o?Ye:void 0;if($&&!d0(ct)&&(ct=Tl(C,o)),d0(ct)&&(y=ct,g))return y;const nt=e[a+1];a=g?sh(nt):xf(nt)}if(null!==t){let C=d?t.residualClasses:t.residualStyles;null!=C&&(y=Tl(C,o))}return y}function d0(e){return void 0!==e}function f0(e,t,r,o){const a=In(),d=fi(),g=_r+e,y=a[Hr],C=d.firstCreatePass?function qP(e,t,r,o,a,d){const g=t.consts,C=gu(t,e,2,o,Ga(g,a));return rg(t,r,C,Ga(g,d)),null!==C.attrs&&Qy(C,C.attrs,!1),null!==C.mergedAttrs&&Qy(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(g,d,a,t,r,o):d.data[g],$=tC(d,a,C,y,t,e);a[g]=$;const J=xu(C);return wa(C,!0),iv(y,$,C),!function mg(e){return!(32&~e.flags)}(C)&&Ch()&&$d(d,a,$,C),0===function Yf(){return qr.lFrame.elementDepthCount}()&&es($,a),function Ed(){qr.lFrame.elementDepthCount++}(),J&&(td(d,a,C),Jp(d,C,a)),null!==o&&Yp(a,C),f0}function p0(){let e=oo();tp()?ju():(e=e.parent,wa(e,!1));const t=e;(function qg(e){return qr.skipHydrationRootTNode===e})(t)&&function Xg(){qr.skipHydrationRootTNode=null}(),function Wg(){qr.lFrame.elementDepthCount--}();const r=fi();return r.firstCreatePass&&(Dh(r,e),bc(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function am(e){return!!(8&e.flags)}(t)&&VI(r,t,In(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lm(e){return!!(16&e.flags)}(t)&&VI(r,t,In(),t.stylesWithoutHost,!1),p0}function zI(e,t,r,o){return f0(e,t,r,o),p0(),zI}let tC=(e,t,r,o,a,d)=>(pl(!0),zp(o,a,function im(){return qr.lFrame.currentNamespace}()));function g0(e,t,r){const o=In(),a=fi(),d=e+_r,g=a.firstCreatePass?function JP(e,t,r,o,a){const d=t.consts,g=Ga(d,o),y=gu(t,e,8,"ng-container",g);return null!==g&&Qy(y,g,!0),rg(t,r,y,Ga(d,a)),null!==t.queries&&t.queries.elementStart(t,y),y}(d,a,o,t,r):a.data[d];wa(g,!0);const y=nC(a,o,g,e);return o[d]=y,Ch()&&$d(a,o,y,g),es(y,o),xu(g)&&(td(a,o,g),Jp(a,g,o)),null!=r&&Yp(o,g),g0}function m0(){let e=oo();const t=fi();return tp()?ju():(e=e.parent,wa(e,!1)),t.firstCreatePass&&(Dh(t,e),bc(e)&&t.queries.elementEnd(e)),m0}function GI(e,t,r){return g0(e,t,r),m0(),GI}let nC=(e,t,r,o)=>(pl(!0),Zc(t[Hr],""));function rC(){return In()}const Nf=void 0;var tM=["en",[["a","p"],["AM","PM"],Nf],[["AM","PM"],Nf,Nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nf,"{1} 'at' {0}",Nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Ng={};function WI(e){const t=function nM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=aC(t);if(r)return r;const o=t.split("-")[0];if(r=aC(o),r)return r;if("en"===o)return tM;throw new Qn(701,!1)}function sC(e){return WI(e)[kg.PluralCase]}function aC(e){return e in Ng||(Ng[e]=Ui.ng&&Ui.ng.common&&Ui.ng.common.locales&&Ui.ng.common.locales[e]),Ng[e]}var kg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(kg||{});const v0="en-US";let lC=v0,DC=(e,t,r)=>{};function XI(e,t,r,o){const a=In(),d=fi(),g=oo();return QI(d,a,a[Hr],g,e,t,o),XI}function QI(e,t,r,o,a,d,g){const y=xu(o),$=e.firstCreatePass&&vf(e),J=t[ro],me=Vl(t);let Ye=!0;if(3&o.type||g){const ln=os(o,t),Dn=g?g(ln):ln,zn=me.length,fn=g?ei=>g(Pi(ei[o.index])):o.index;let Vr=null;if(!g&&y&&(Vr=function zM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===o){const y=t[Ls],C=a[d+2];return y.length>C?y[C]:null}"string"==typeof g&&(d+=2)}return null}(e,t,a,o.index)),null!==Vr)(Vr.__ngLastListenerFn__||Vr).__ngNextListenerFn__=d,Vr.__ngLastListenerFn__=d,Ye=!1;else{d=PC(o,t,J,d),DC(ln,a,d);const ei=r.listen(Dn,a,d);me.push(d,ei),$&&$.push(a,fn,zn,zn+1)}}else d=PC(o,t,J,d);const ct=o.outputs;let nt;if(Ye&&null!==ct&&(nt=ct[a])){const ln=nt.length;if(ln)for(let Dn=0;Dn<ln;Dn+=2){const Co=t[nt[Dn]][nt[Dn+1]].subscribe(d),Rs=me.length;me.push(d,Co),$&&$.push(a,o.index,Rs,-(Rs+1))}}}function RC(e,t,r,o){const a=ee(null);try{return Fs(6,t,r),!1!==r(o)}catch(d){return yf(e,d),!1}finally{Fs(7,t,r),ee(a)}}function PC(e,t,r,o){return function a(d){if(d===Function)return o;Qd(e.componentOffset>-1?Js(e.index,t):t,5);let y=RC(t,r,o,d),C=a.__ngNextListenerFn__;for(;C;)y=RC(t,r,C,d)&&y,C=C.__ngNextListenerFn__;return y}}function MC(e=1){return function tm(e){return(qr.lFrame.contextLView=function _d(e,t){for(;e>0;)t=t[eu],e--;return t}(e,qr.lFrame.contextLView))[ro]}(e)}function GM(e,t){let r=null;const o=function E(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const d=t[a];if("*"!==d){if(null===o?ld(e,d,!0):S(o,d))return a}else r=a}return r}function OC(e){const t=In()[bo][Ro];if(!t.projection){const o=t.projection=function Hl(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let d=t.child;for(;null!==d;){if(128!==d.type){const g=e?GM(d,e):0;null!==g&&(a[g]?a[g].projectionNext=d:o[g]=d,a[g]=d)}d=d.next}}}function xC(e,t=0,r,o,a,d){const g=In(),y=fi(),C=o?e+1:null;null!==C&&Nv(g,y,C,o,a,d,null,r);const $=gu(y,_r+e,16,null,r||null);null===$.projection&&($.projection=t),ju();const me=!g[bs]||lu();null===g[bo][Ro].projection[$.projection]&&null!==C?function WM(e,t,r){const o=_r+r,a=t.data[o],d=e[o],g=Rf(d,a.tView.ssrId);Kd(d,Wd(e,a,void 0,{dehydratedView:g}),0,rd(a,g))}(g,y,C):me&&32&~$.flags&&function Qp(e,t,r){nv(t[Hr],0,t,r,Jm(e,r,t),Zm(r.parent||t[Ro],r,t))}(y,g,$)}function HC(e,t,r,o){!function Ob(e,t,r,o){const a=fi();if(a.firstCreatePass){const d=oo();xb(a,new Sb(t,r,o),d.index),function XS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return Pb(a,In(),r)}(e,t,r,o)}function zC(e,t,r){!function Mb(e,t,r){const o=fi();return o.firstCreatePass&&(xb(o,new Sb(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),Pb(o,In(),t)}(e,t,r)}function GC(e){const t=In(),r=fi(),o=Hu();fl(o+1);const a=gI(r,o);if(e.dirty&&function V0(e){return!(4&~e[mr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=Nb(t,o);e.reset(d,Vh),e.notifyOnChanges()}return!0}return!1}function WC(){return function pI(e,t){return e[Ha].queries[t].queryList}(In(),Hu())}function KC(e){return function za(e,t){return e[t]}(function np(){return qr.lFrame.contextLView}(),_r+e)}function rD(e,t=""){const r=In(),o=fi(),a=e+_r,d=o.firstCreatePass?gu(o,a,1,t,null):o.data[a],g=iD(o,r,d,t,e);r[a]=g,Ch()&&$d(o,r,g,d),wa(d,!1)}let iD=(e,t,r,o,a)=>(pl(!0),function Ct(e,t){return e.createText(t)}(t[Hr],o));function ZI(e){return I0("",e,""),ZI}function I0(e,t,r){const o=In(),a=function Cg(e,t,r,o){return us(e,dl(),r)?t+Mr(r)+o:Zr}(o,e,t,r);return a!==Zr&&Xa(o,ss(),a),I0}function eA(e,t,r,o,a){const d=In(),g=Dg(d,e,t,r,o,a);return g!==Zr&&Xa(d,ss(),g),eA}function tA(e,t,r){Ub(t)&&(t=t());const o=In();return us(o,dl(),t)&&ea(fi(),co(),o,e,t,o[Hr],r,!1),tA}function hD(e,t){const r=Ub(e);return r&&e.set(t),r}function nA(e,t){const r=In(),o=fi(),a=oo();return QI(o,r,r[Hr],a,e,t),nA}function rA(e,t,r,o,a){if(e=Ce(e),Array.isArray(e))for(let d=0;d<e.length;d++)rA(e[d],t,r,o,a);else{const d=fi(),g=In(),y=oo();let C=Ua(e)?e:Ce(e.provide);const $=yc(e),J=1048575&y.providerIndexes,me=y.directiveStart,Ye=y.providerIndexes>>20;if(Ua(e)||!e.multi){const ct=new Mc($,a,nc),nt=oA(C,t,a?J:J+Ye,me);-1===nt?(Oh(bd(y,g),d,C),iA(d,e,t.length),t.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(ct),g.push(ct)):(r[nt]=ct,g[nt]=ct)}else{const ct=oA(C,t,J+Ye,me),nt=oA(C,t,J,J+Ye),Dn=nt>=0&&r[nt];if(a&&!Dn||!a&&!(ct>=0&&r[ct])){Oh(bd(y,g),d,C);const zn=function hO(e,t,r,o,a){const d=new Mc(e,r,nc);return d.multi=[],d.index=t,d.componentProviders=0,gD(d,a,o&&!r),d}(a?dO:cO,r.length,a,o,$);!a&&Dn&&(r[nt].providerFactory=zn),iA(d,e,t.length,0),t.push(C),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(zn),g.push(zn)}else iA(d,e,ct>-1?ct:nt,gD(r[a?nt:ct],$,!a&&o));!a&&o&&Dn&&r[nt].componentProviders++}}}function iA(e,t,r,o){const a=Ua(t),d=function ql(e){return!!e.useClass}(t);if(a||d){const C=(d?Ce(t.useClass):t).prototype.ngOnDestroy;if(C){const $=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const J=$.indexOf(r);-1===J?$.push(r,[o,C]):$[J+1].push(o,C)}else $.push(r,C)}}}function gD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function oA(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function cO(e,t,r,o){return sA(this.multi,[])}function dO(e,t,r,o){const a=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=kc(r,r[Kn],this.providerFactory.index,o);d=y.slice(0,g),sA(a,d);for(let C=g;C<y.length;C++)d.push(y[C])}else d=[],sA(a,d);return d}function sA(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function mD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function uO(e,t,r){const o=fi();if(o.firstCreatePass){const a=Qs(e);rA(r,o.data,o.blueprint,a,!0),rA(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let fO=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Kl(0,o.type),d=a.length>0?EI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Nr({token:e,providedIn:"environment",factory:()=>new e($r(ca))}),t})();function vD(e){Ra("NgStandalone"),e.getStandaloneInjector=t=>t.get(fO).getOrCreateStandaloneInjector(e)}class BD{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const nx=new BD("18.2.6");let $D=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const GD=new wr(""),WD=new wr("");let fA,Sx=(()=>{var e;class t{constructor(o,a,d){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fA||(function Rx(e){fA=e}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o()},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)($r(Po),$r(KD),$r(WD))},e.\u0275prov=Nr({token:e,factory:e.\u0275fac}),t})(),KD=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var d,g;return null!==(d=null===(g=fA)||void 0===g?void 0:g.findTestabilityInTree(this,o,a))&&void 0!==d?d:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function pA(e){return!!e&&"function"==typeof e.then}function qD(e){return!!e&&"function"==typeof e.subscribe}const XD=new wr("");let QD=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=null!==(o=Jn(XD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(pA(g))o.push(g);else if(qD(g)){const y=new Promise((C,$)=>{g.subscribe({complete:C,error:$})});o.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const D0=new wr("");function YD(e,t){return Array.isArray(t)?t.reduce(YD,e):{...e,...t}}let cc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jn(Mi),this.afterRenderManager=Jn(cT),this.zonelessEnabled=Jn(Sv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new wn.B,this.afterTick=new wn.B,this.componentTypes=[],this.components=[],this.isStable=Jn(Wu).hasPendingTasks.pipe((0,Dt.T)(o=>!o)),this._injector=Jn(ca)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:d=>{d&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof mb;if(!this._injector.get(QD).done)throw!d&&Ao(o),new Qn(405,!1);let y;y=d?o:this._injector.get(pg).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const C=function Px(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Pf),J=y.create(Us.NULL,[],a||y.selector,C),me=J.location.nativeElement,Ye=J.injector.get(GD,null);return null==Ye||Ye.registerApplication(me),J.onDestroy(()=>{this.detachView(J.hostView),w0(this.components,J),null==Ye||Ye.unregisterApplication(me)}),this._loadComponent(J),J}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Qn(101,!1);const o=ee(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ee(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(iI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:y,notifyErrorHandler:C}of this._views)xx(y,C,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,d;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>yd(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;w0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(D0,[]);[...this._bootstrapListeners,...a].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>w0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Qn(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function w0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function xx(e,t,r,o){(r||yd(e))&&oc(e,t,r&&!o?0:1)}class Nx{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let kx=(()=>{var e;class t{compileModuleSync(o){return new yI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=_n(Qi(o).declarations).reduce((y,C)=>{const $=Tr(C);return $&&y.push(new Mv($)),y},[]);return new Nx(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Vx=(()=>{var e;class t{constructor(){this.zone=Jn(Po),this.changeDetectionScheduler=Jn(fg),this.applicationRef=Jn(cc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function gA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Po({...mA(),scheduleInRootZone:r})),[{provide:Po,useFactory:e},{provide:qs,multi:!0,useFactory:()=>{const a=Jn(Vx,{optional:!0});return()=>a.initialize()}},{provide:qs,multi:!0,useFactory:()=>{const a=Jn(Bx);return()=>{a.initialize()}}},!0===t?{provide:gb,useValue:!0}:[],{provide:rI,useValue:null!=r?r:Lh}]}function mA(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let Bx=(()=>{var e;class t{constructor(){this.subscription=new Jt.yU,this.initialized=!1,this.zone=Jn(Po),this.pendingTasks=Jn(Wu)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;Po.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Xv=(()=>{var e;class t{constructor(){var o,a,d;this.appRef=Jn(cc),this.taskService=Jn(Wu),this.ngZone=Jn(Po),this.zonelessEnabled=Jn(Sv),this.disableScheduling=null!==(o=Jn(gb,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Jt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(yp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=Jn(rI,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Ep||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?R_:S_;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,R_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _A=new wr("",{providedIn:"root",factory:()=>Jn(_A,zr.Optional|zr.SkipSelf)||function $x(){return typeof $localize<"u"&&$localize.locale||v0}()}),jx=new wr("",{providedIn:"root",factory:()=>"USD"}),yA=new wr("");function S0(e){return!!e.platformInjector}let ow=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=null==a?void 0:a.scheduleInRootZone,C=[gA({ngZoneFactory:()=>function x_(e="zone.js",t){return"noop"===e?new Ep:"zone.js"===e?new Po(t):e}(null==a?void 0:a.ngZone,{...mA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:fg,useExisting:Xv}],$=function mR(e,t,r){return new _I(e,t,r,!1)}(o.moduleType,this.injector,C);return function iw(e){const t=S0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Po);return r.run(()=>{S0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Wa,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),S0(e)){const d=()=>t.destroy(),g=e.platformInjector.get(yA);g.add(d),t.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else e.moduleRef.onDestroy(()=>{w0(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function Ox(e,t,r){try{const o=r();return pA(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=t.get(QD);return d.runInitializers(),d.donePromise.then(()=>{if(function sM(e){"string"==typeof e&&(lC=e.toLowerCase().replace(/_/g,"-"))}(t.get(_A,v0)||v0),S0(e)){const y=t.get(cc);return void 0!==e.rootComponent&&y.bootstrap(e.rootComponent),y}return function Kx(e,t){const r=e.injector.get(cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Qn(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:$,allPlatformModules:this._modules})}bootstrapModule(o,a=[]){const d=YD({},a);return function Fx(e,t,r){const o=new yI(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qn(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(yA,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)($r(Us))},e.\u0275prov=Nr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ah=null;const sw=new wr("");function aw(e,t,r=[]){const o=`Platform: ${t}`,a=new wr(o);return(d=[])=>{let g=EA();if(!g||g.injector.get(sw,!1)){const y=[...r,...d,{provide:a,useValue:!0}];e?e(y):function qx(e){if(ah&&!ah.get(sw,!1))throw new Qn(400,!1);(function JD(){!function Ve(e){Gn=e}(()=>{throw new Qn(600,!1)})})(),ah=e;const t=e.get(ow);(function uw(e){const t=e.get(Md,null);null==t||t.forEach(r=>r())})(e)}(function lw(e=[],t){return Us.create({name:t,providers:[{provide:gh,useValue:"platform"},{provide:yA,useValue:new Set([()=>ah=null])},...e]})}(y,o))}return function Xx(){const t=EA();if(!t)throw new Qn(401,!1);return t}()}}function EA(){var e,t;return null!==(e=null===(t=ah)||void 0===t?void 0:t.get(ow))&&void 0!==e?e:null}function Jx(){return!1}let dw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yx,t})();function Yx(e){return function Zx(e,t,r){if(ru(e)&&!r){const o=Js(e.index,t);return new Jd(o,o)}return 175&e.type?new Jd(t[bo],t):null}(oo(),In(),!(16&~e))}class gw{constructor(){}supports(t){return e0(t)}create(t){return new iN(t)}}const rN=(e,t)=>t;class iN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<vw(o,a,d)?r:o,y=vw(g,a,d),C=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const $=y-a,J=C-a;if($!=J){for(let Ye=0;Ye<$;Ye++){const ct=Ye<d.length?d[Ye]:d[Ye]=0,nt=ct+Ye;J<=nt&&nt<$&&(d[Ye]=ct+1)}d[g.previousIndex]=J-$}}y!==C&&t(g,y,C)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!e0(t))throw new Qn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)d=t[y],g=this._trackByFn(y,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,y)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,y),o=!0),r=r._next}else a=0,function yR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,y=>{g=this._trackByFn(a,y),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,y,g,a)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,a)):t=this._addAfter(new oN(r,o),d,a),t}_verifyReinsertion(t,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new mw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oN{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class mw{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new sN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vw(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class _w{constructor(){}supports(t){return t instanceof Map||II(t)}create(){return new aN}}class aN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||II(t)))throw new Qn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const o=new lN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class lN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yw(){return new CA([new gw])}let CA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||yw()),deps:[[t,new jl,new Ks]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new Qn(901,!1)}}return(e=t).\u0275prov=Nr({token:e,providedIn:"root",factory:yw}),t})();function Ew(){return new DA([new _w])}let DA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Ew()),deps:[[t,new jl,new Ks]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new Qn(901,!1)}}return(e=t).\u0275prov=Nr({token:e,providedIn:"root",factory:Ew}),t})();const dN=aw(null,"core",[]);let hN=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)($r(cc))},e.\u0275mod=Or({type:e}),e.\u0275inj=Xo({}),t})();const Lw=new wr("");function HN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function GN(e,t){Ra("NgSignals");const r=function Pe(e){const t=Object.create(An);t.computation=e;const r=()=>{if(Qe(t),ye(t),t.value===tn)throw t.error;return t.value};return r[Q]=t,r}(e);return null!=t&&t.equal&&(r[Q].equal=t.equal),r}function WN(e){const t=ee(null);try{return e()}finally{ee(t)}}function YN(e,t){const r=Tr(e),o=t.elementInjector||Su();return new Mv(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function ZN(e){const t=Tr(e);if(!t)return null;const r=new Mv(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Cn,it,O)=>{"use strict";O.d(it,{DS:()=>gt,X8:()=>yt,$z:()=>ae,UB:()=>ge,yy:()=>Gt,ZP:()=>Ve,AU:()=>ue,CP:()=>Gn,gF:()=>je});var c=O(9842),F=(O(2438),O(177)),_e=O(3953),Q=O(1825),ee=O(9253),Ae=O(1413),xe=O(7673),We=O(1985),Oe=O(8455),ye=O(6365),ze=O(8750),Qe=O(983),Ke=O(3794),mt=O(941),rt=O(5558),st=O(6354),Mt=O(6129);class It extends Ae.B{constructor(Wt=1/0,Lt=1/0,Ft=Mt.U){super(),this._bufferSize=Wt,this._windowTime=Lt,this._timestampProvider=Ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Lt===1/0,this._bufferSize=Math.max(1,Wt),this._windowTime=Math.max(1,Lt)}next(Wt){const{isStopped:Lt,_buffer:Ft,_infiniteTimeWindow:Fn,_timestampProvider:xt,_windowTime:kn}=this;Lt||(Ft.push(Wt),!Fn&&Ft.push(xt.now()+kn)),this._trimBuffer(),super.next(Wt)}_subscribe(Wt){this._throwIfClosed(),this._trimBuffer();const Lt=this._innerSubscribe(Wt),{_infiniteTimeWindow:Ft,_buffer:Fn}=this,xt=Fn.slice();for(let kn=0;kn<xt.length&&!Wt.closed;kn+=Ft?1:2)Wt.next(xt[kn]);return this._checkFinalizedStatuses(Wt),Lt}_trimBuffer(){const{_bufferSize:Wt,_timestampProvider:Lt,_buffer:Ft,_infiniteTimeWindow:Fn}=this,xt=(Fn?1:2)*Wt;if(Wt<1/0&&xt<Ft.length&&Ft.splice(0,Ft.length-xt),!Fn){const kn=Lt.now();let Ht=0;for(let wn=1;wn<Ft.length&&Ft[wn]<=kn;wn+=2)Ht=wn;Ht&&Ft.splice(0,Ht+1)}}}var Ee=O(7707),we=O(9974);function Je(ft,Wt,...Lt){if(!0===Wt)return void ft();if(!1===Wt)return;const Ft=new Ee.Ms({next:()=>{Ft.unsubscribe(),ft()}});return(0,ze.Tg)(Wt(...Lt)).subscribe(Ft)}function tt(ft,Wt,Lt){let Ft,Fn=!1;return ft&&"object"==typeof ft?({bufferSize:Ft=1/0,windowTime:Wt=1/0,refCount:Fn=!1,scheduler:Lt}=ft):Ft=null!=ft?ft:1/0,function ke(ft={}){const{connector:Wt=()=>new Ae.B,resetOnError:Lt=!0,resetOnComplete:Ft=!0,resetOnRefCountZero:Fn=!0}=ft;return xt=>{let kn,Ht,wn,Jt=0,Dt=!1,bn=!1;const ot=()=>{null==Ht||Ht.unsubscribe(),Ht=void 0},Le=()=>{ot(),kn=wn=void 0,Dt=bn=!1},qe=()=>{const un=kn;Le(),null==un||un.unsubscribe()};return(0,we.N)((un,jn)=>{Jt++,!bn&&!Dt&&ot();const fr=wn=null!=wn?wn:Wt();jn.add(()=>{Jt--,0===Jt&&!bn&&!Dt&&(Ht=Je(qe,Fn))}),fr.subscribe(jn),!kn&&Jt>0&&(kn=new Ee.Ms({next:sr=>fr.next(sr),error:sr=>{bn=!0,ot(),Ht=Je(Le,Lt,sr),fr.error(sr)},complete:()=>{Dt=!0,ot(),Ht=Je(Le,Ft),fr.complete()}}),(0,ze.Tg)(un).subscribe(kn))})(xt)}}({connector:()=>new It(Ft,Wt,Lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fn})}var Ot=O(1594),Pe=O(8071);function pt(ft,Wt){return(0,Pe.T)(Wt)?(0,rt.n)(()=>ft,Wt):(0,rt.n)(()=>ft)}var kt=O(6745),tn=O(5964),An=O(7935);const Gn=new _e.nKC("angularfire2.auth.use-emulator"),Gt=new _e.nKC("angularfire2.auth.settings"),Ve=new _e.nKC("angularfire2.auth.tenant-id"),ae=new _e.nKC("angularfire2.auth.langugage-code"),ue=new _e.nKC("angularfire2.auth.use-device-language"),ge=new _e.nKC("angularfire.auth.persistence"),je=(ft,Wt,Lt,Ft,Fn,xt,kn,Ht)=>(0,ee.BM)(`${ft.name}.auth`,"AngularFireAuth",ft.name,()=>{const wn=Wt.runOutsideAngular(()=>ft.auth());if(Lt&&wn.useEmulator(...Lt),Ft&&(wn.tenantId=Ft),wn.languageCode=Fn,xt&&wn.useDeviceLanguage(),kn)for(const[Jt,Dt]of Object.entries(kn))wn.settings[Jt]=Dt;return Ht&&wn.setPersistence(Ht),wn},[Lt,Ft,Fn,xt,kn,Ht]);let gt=(()=>{var ft;class Wt{constructor(Ft,Fn,xt,kn,Ht,wn,Jt,Dt,bn,ot,Le,qe){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const un=new Ae.B,jn=(0,xe.of)(void 0).pipe((0,mt.Q)(Ht.outsideAngular),(0,rt.n)(()=>kn.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,st.T)(()=>(0,ee.iB)(Ft,kn,Fn)),(0,st.T)(fr=>je(fr,kn,wn,Dt,bn,ot,Jt,Le)),tt({bufferSize:1,refCount:!1}));if((0,F.Vy)(xt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xe.of)(null);else{jn.pipe((0,Ot.$)()).subscribe();const fr=jn.pipe((0,rt.n)(en=>en.getRedirectResult().then(yr=>yr,()=>null)),Q.U0,tt({bufferSize:1,refCount:!1})),sr=jn.pipe((0,rt.n)(en=>new We.c(yr=>({unsubscribe:kn.runOutsideAngular(()=>en.onAuthStateChanged(pr=>yr.next(pr),pr=>yr.error(pr),()=>yr.complete()))})))),Un=jn.pipe((0,rt.n)(en=>new We.c(yr=>({unsubscribe:kn.runOutsideAngular(()=>en.onIdTokenChanged(pr=>yr.next(pr),pr=>yr.error(pr),()=>yr.complete()))}))));this.authState=fr.pipe(pt(sr),(0,kt._)(Ht.outsideAngular),(0,mt.Q)(Ht.insideAngular)),this.user=fr.pipe(pt(Un),(0,kt._)(Ht.outsideAngular),(0,mt.Q)(Ht.insideAngular)),this.idToken=this.user.pipe((0,rt.n)(en=>en?(0,Oe.H)(en.getIdToken()):(0,xe.of)(null))),this.idTokenResult=this.user.pipe((0,rt.n)(en=>en?(0,Oe.H)(en.getIdTokenResult()):(0,xe.of)(null))),this.credential=function at(...ft){const Wt=(0,Ke.lI)(ft),Lt=(0,Ke.R0)(ft,1/0),Ft=ft;return Ft.length?1===Ft.length?(0,ze.Tg)(Ft[0]):(0,ye.U)(Lt)((0,Oe.H)(Ft,Wt)):Qe.w}(fr,un,this.authState.pipe((0,tn.p)(en=>!en))).pipe((0,st.T)(en=>null!=en&&en.user?en:null),(0,kt._)(Ht.outsideAngular),(0,mt.Q)(Ht.insideAngular))}return(0,ee.Gt)(this,jn,kn,{spy:{apply:(fr,sr,Un)=>{(fr.startsWith("signIn")||fr.startsWith("createUser"))&&Un.then(en=>un.next(en))}}})}}return ft=Wt,(0,c.A)(Wt,"\u0275fac",function(Ft){return new(Ft||ft)(_e.KVO(ee.rx),_e.KVO(ee.uP,8),_e.KVO(_e.Agw),_e.KVO(_e.SKi),_e.KVO(Q.u0),_e.KVO(Gn,8),_e.KVO(Gt,8),_e.KVO(Ve,8),_e.KVO(ae,8),_e.KVO(ue,8),_e.KVO(ge,8),_e.KVO(Q.Jv,8))}),(0,c.A)(Wt,"\u0275prov",_e.jDH({token:ft,factory:ft.\u0275fac,providedIn:"any"})),Wt})(),yt=(()=>{var ft;class Wt{constructor(){An.A.registerVersion("angularfire",Q.xv.full,"auth-compat")}}return ft=Wt,(0,c.A)(Wt,"\u0275fac",function(Ft){return new(Ft||ft)}),(0,c.A)(Wt,"\u0275mod",_e.$C({type:ft})),(0,c.A)(Wt,"\u0275inj",_e.G2t({providers:[gt]})),Wt})()},6598:(Cn,it,O)=>{"use strict";O.d(it,{Qe:()=>Hp,cM:()=>rb});var c=O(9842),h=O(177),F=O(3953),_e=O(1825),Q=O(9253),ee=O(1182),Ae=O(3236),xe=O(1985),We=O(8455),Oe=O(7673),ye=O(9172),ze=O(9974),Qe=O(4360);function Ke(){return(0,ze.N)((l,n)=>{let i,s=!1;l.subscribe((0,Qe._)(n,u=>{const f=i;i=u,s&&n.next([f,u]),s=!0}))})}var pt,kt,at=O(6354),mt=O(2816),rt=O(3294),st=O(5964),It=(O(2438),O(3345)),Ee=O(467),we=O(7852),ke=O(1362),Je=O(8041),tt=O(1076),Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ut,ht,Rt){Rt||(Rt=0);var Bt=Array(16);if("string"==typeof ht)for(var Xt=0;16>Xt;++Xt)Bt[Xt]=ht.charCodeAt(Rt++)|ht.charCodeAt(Rt++)<<8|ht.charCodeAt(Rt++)<<16|ht.charCodeAt(Rt++)<<24;else for(Xt=0;16>Xt;++Xt)Bt[Xt]=ht[Rt++]|ht[Rt++]<<8|ht[Rt++]<<16|ht[Rt++]<<24;var Zt=Ut.g[3],Ct=(ht=Ut.g[0])+(Zt^(Rt=Ut.g[1])&((Xt=Ut.g[2])^Zt))+Bt[0]+3614090360&4294967295;Ct=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=(Rt=(Xt=(Zt=(ht=Rt+(Ct<<7&4294967295|Ct>>>25))+((Ct=Zt+(Xt^ht&(Rt^Xt))+Bt[1]+3905402710&4294967295)<<12&4294967295|Ct>>>20))+((Ct=Xt+(Rt^Zt&(ht^Rt))+Bt[2]+606105819&4294967295)<<17&4294967295|Ct>>>15))+((Ct=Rt+(ht^Xt&(Zt^ht))+Bt[3]+3250441966&4294967295)<<22&4294967295|Ct>>>10))+((Ct=ht+(Zt^Rt&(Xt^Zt))+Bt[4]+4118548399&4294967295)<<7&4294967295|Ct>>>25))+((Ct=Zt+(Xt^ht&(Rt^Xt))+Bt[5]+1200080426&4294967295)<<12&4294967295|Ct>>>20))+((Ct=Xt+(Rt^Zt&(ht^Rt))+Bt[6]+2821735955&4294967295)<<17&4294967295|Ct>>>15))+((Ct=Rt+(ht^Xt&(Zt^ht))+Bt[7]+4249261313&4294967295)<<22&4294967295|Ct>>>10))+((Ct=ht+(Zt^Rt&(Xt^Zt))+Bt[8]+1770035416&4294967295)<<7&4294967295|Ct>>>25))+((Ct=Zt+(Xt^ht&(Rt^Xt))+Bt[9]+2336552879&4294967295)<<12&4294967295|Ct>>>20))+((Ct=Xt+(Rt^Zt&(ht^Rt))+Bt[10]+4294925233&4294967295)<<17&4294967295|Ct>>>15))+((Ct=Rt+(ht^Xt&(Zt^ht))+Bt[11]+2304563134&4294967295)<<22&4294967295|Ct>>>10))+((Ct=ht+(Zt^Rt&(Xt^Zt))+Bt[12]+1804603682&4294967295)<<7&4294967295|Ct>>>25))+((Ct=Zt+(Xt^ht&(Rt^Xt))+Bt[13]+4254626195&4294967295)<<12&4294967295|Ct>>>20))+((Ct=Xt+(Rt^Zt&(ht^Rt))+Bt[14]+2792965006&4294967295)<<17&4294967295|Ct>>>15))+((Ct=Rt+(ht^Xt&(Zt^ht))+Bt[15]+1236535329&4294967295)<<22&4294967295|Ct>>>10))+((Ct=ht+(Xt^Zt&(Rt^Xt))+Bt[1]+4129170786&4294967295)<<5&4294967295|Ct>>>27))+((Ct=Zt+(Rt^Xt&(ht^Rt))+Bt[6]+3225465664&4294967295)<<9&4294967295|Ct>>>23))+((Ct=Xt+(ht^Rt&(Zt^ht))+Bt[11]+643717713&4294967295)<<14&4294967295|Ct>>>18))+((Ct=Rt+(Zt^ht&(Xt^Zt))+Bt[0]+3921069994&4294967295)<<20&4294967295|Ct>>>12))+((Ct=ht+(Xt^Zt&(Rt^Xt))+Bt[5]+3593408605&4294967295)<<5&4294967295|Ct>>>27))+((Ct=Zt+(Rt^Xt&(ht^Rt))+Bt[10]+38016083&4294967295)<<9&4294967295|Ct>>>23))+((Ct=Xt+(ht^Rt&(Zt^ht))+Bt[15]+3634488961&4294967295)<<14&4294967295|Ct>>>18))+((Ct=Rt+(Zt^ht&(Xt^Zt))+Bt[4]+3889429448&4294967295)<<20&4294967295|Ct>>>12))+((Ct=ht+(Xt^Zt&(Rt^Xt))+Bt[9]+568446438&4294967295)<<5&4294967295|Ct>>>27))+((Ct=Zt+(Rt^Xt&(ht^Rt))+Bt[14]+3275163606&4294967295)<<9&4294967295|Ct>>>23))+((Ct=Xt+(ht^Rt&(Zt^ht))+Bt[3]+4107603335&4294967295)<<14&4294967295|Ct>>>18))+((Ct=Rt+(Zt^ht&(Xt^Zt))+Bt[8]+1163531501&4294967295)<<20&4294967295|Ct>>>12))+((Ct=ht+(Xt^Zt&(Rt^Xt))+Bt[13]+2850285829&4294967295)<<5&4294967295|Ct>>>27))+((Ct=Zt+(Rt^Xt&(ht^Rt))+Bt[2]+4243563512&4294967295)<<9&4294967295|Ct>>>23))+((Ct=Xt+(ht^Rt&(Zt^ht))+Bt[7]+1735328473&4294967295)<<14&4294967295|Ct>>>18))+((Ct=Rt+(Zt^ht&(Xt^Zt))+Bt[12]+2368359562&4294967295)<<20&4294967295|Ct>>>12))+((Ct=ht+(Rt^Xt^Zt)+Bt[5]+4294588738&4294967295)<<4&4294967295|Ct>>>28))+((Ct=Zt+(ht^Rt^Xt)+Bt[8]+2272392833&4294967295)<<11&4294967295|Ct>>>21))+((Ct=Xt+(Zt^ht^Rt)+Bt[11]+1839030562&4294967295)<<16&4294967295|Ct>>>16))+((Ct=Rt+(Xt^Zt^ht)+Bt[14]+4259657740&4294967295)<<23&4294967295|Ct>>>9))+((Ct=ht+(Rt^Xt^Zt)+Bt[1]+2763975236&4294967295)<<4&4294967295|Ct>>>28))+((Ct=Zt+(ht^Rt^Xt)+Bt[4]+1272893353&4294967295)<<11&4294967295|Ct>>>21))+((Ct=Xt+(Zt^ht^Rt)+Bt[7]+4139469664&4294967295)<<16&4294967295|Ct>>>16))+((Ct=Rt+(Xt^Zt^ht)+Bt[10]+3200236656&4294967295)<<23&4294967295|Ct>>>9))+((Ct=ht+(Rt^Xt^Zt)+Bt[13]+681279174&4294967295)<<4&4294967295|Ct>>>28))+((Ct=Zt+(ht^Rt^Xt)+Bt[0]+3936430074&4294967295)<<11&4294967295|Ct>>>21))+((Ct=Xt+(Zt^ht^Rt)+Bt[3]+3572445317&4294967295)<<16&4294967295|Ct>>>16))+((Ct=Rt+(Xt^Zt^ht)+Bt[6]+76029189&4294967295)<<23&4294967295|Ct>>>9))+((Ct=ht+(Rt^Xt^Zt)+Bt[9]+3654602809&4294967295)<<4&4294967295|Ct>>>28))+((Ct=Zt+(ht^Rt^Xt)+Bt[12]+3873151461&4294967295)<<11&4294967295|Ct>>>21))+((Ct=Xt+(Zt^ht^Rt)+Bt[15]+530742520&4294967295)<<16&4294967295|Ct>>>16))+((Ct=Rt+(Xt^Zt^ht)+Bt[2]+3299628645&4294967295)<<23&4294967295|Ct>>>9))+((Ct=ht+(Xt^(Rt|~Zt))+Bt[0]+4096336452&4294967295)<<6&4294967295|Ct>>>26))+((Ct=Zt+(Rt^(ht|~Xt))+Bt[7]+1126891415&4294967295)<<10&4294967295|Ct>>>22))+((Ct=Xt+(ht^(Zt|~Rt))+Bt[14]+2878612391&4294967295)<<15&4294967295|Ct>>>17))+((Ct=Rt+(Zt^(Xt|~ht))+Bt[5]+4237533241&4294967295)<<21&4294967295|Ct>>>11))+((Ct=ht+(Xt^(Rt|~Zt))+Bt[12]+1700485571&4294967295)<<6&4294967295|Ct>>>26))+((Ct=Zt+(Rt^(ht|~Xt))+Bt[3]+2399980690&4294967295)<<10&4294967295|Ct>>>22))+((Ct=Xt+(ht^(Zt|~Rt))+Bt[10]+4293915773&4294967295)<<15&4294967295|Ct>>>17))+((Ct=Rt+(Zt^(Xt|~ht))+Bt[1]+2240044497&4294967295)<<21&4294967295|Ct>>>11))+((Ct=ht+(Xt^(Rt|~Zt))+Bt[8]+1873313359&4294967295)<<6&4294967295|Ct>>>26))+((Ct=Zt+(Rt^(ht|~Xt))+Bt[15]+4264355552&4294967295)<<10&4294967295|Ct>>>22))+((Ct=Xt+(ht^(Zt|~Rt))+Bt[6]+2734768916&4294967295)<<15&4294967295|Ct>>>17))+((Ct=Rt+(Zt^(Xt|~ht))+Bt[13]+1309151649&4294967295)<<21&4294967295|Ct>>>11))+((Zt=(ht=Rt+((Ct=ht+(Xt^(Rt|~Zt))+Bt[4]+4149444226&4294967295)<<6&4294967295|Ct>>>26))+((Ct=Zt+(Rt^(ht|~Xt))+Bt[11]+3174756917&4294967295)<<10&4294967295|Ct>>>22))^((Xt=Zt+((Ct=Xt+(ht^(Zt|~Rt))+Bt[2]+718787259&4294967295)<<15&4294967295|Ct>>>17))|~ht))+Bt[9]+3951481745&4294967295,Ut.g[0]=Ut.g[0]+ht&4294967295,Ut.g[1]=Ut.g[1]+(Xt+(Ct<<21&4294967295|Ct>>>11))&4294967295,Ut.g[2]=Ut.g[2]+Xt&4294967295,Ut.g[3]=Ut.g[3]+Zt&4294967295}function _(Ut,ht){this.h=ht;for(var Rt=[],Bt=!0,Xt=Ut.length-1;0<=Xt;Xt--){var Zt=0|Ut[Xt];Bt&&Zt==ht||(Rt[Xt]=Zt,Bt=!1)}this.g=Rt}(function n(Ut,ht){function Rt(){}Rt.prototype=ht.prototype,Ut.D=ht.prototype,Ut.prototype=new Rt,Ut.prototype.constructor=Ut,Ut.C=function(Bt,Xt,Zt){for(var Ct=Array(arguments.length-2),Ll=2;Ll<arguments.length;Ll++)Ct[Ll-2]=arguments[Ll];return ht.prototype[Xt].apply(Bt,Ct)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ut,ht){void 0===ht&&(ht=Ut.length);for(var Rt=ht-this.blockSize,Bt=this.B,Xt=this.h,Zt=0;Zt<ht;){if(0==Xt)for(;Zt<=Rt;)u(this,Ut,Zt),Zt+=this.blockSize;if("string"==typeof Ut){for(;Zt<ht;)if(Bt[Xt++]=Ut.charCodeAt(Zt++),Xt==this.blockSize){u(this,Bt),Xt=0;break}}else for(;Zt<ht;)if(Bt[Xt++]=Ut[Zt++],Xt==this.blockSize){u(this,Bt),Xt=0;break}}this.h=Xt,this.o+=ht},s.prototype.v=function(){var Ut=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ut[0]=128;for(var ht=1;ht<Ut.length-8;++ht)Ut[ht]=0;var Rt=8*this.o;for(ht=Ut.length-8;ht<Ut.length;++ht)Ut[ht]=255&Rt,Rt/=256;for(this.u(Ut),Ut=Array(16),ht=Rt=0;4>ht;++ht)for(var Bt=0;32>Bt;Bt+=8)Ut[Rt++]=this.g[ht]>>>Bt&255;return Ut};var R={};function k(Ut){return-128<=Ut&&128>Ut?function f(Ut,ht){var Rt=R;return Object.prototype.hasOwnProperty.call(Rt,Ut)?Rt[Ut]:Rt[Ut]=ht(Ut)}(Ut,function(ht){return new _([0|ht],0>ht?-1:0)}):new _([0|Ut],0>Ut?-1:0)}function Y(Ut){if(isNaN(Ut)||!isFinite(Ut))return He;if(0>Ut)return Nn(Y(-Ut));for(var ht=[],Rt=1,Bt=0;Ut>=Rt;Bt++)ht[Bt]=Ut/Rt|0,Rt*=4294967296;return new _(ht,0)}var He=k(0),Et=k(1),Yt=k(16777216);function _n(Ut){if(0!=Ut.h)return!1;for(var ht=0;ht<Ut.g.length;ht++)if(0!=Ut.g[ht])return!1;return!0}function xn(Ut){return-1==Ut.h}function Nn(Ut){for(var ht=Ut.g.length,Rt=[],Bt=0;Bt<ht;Bt++)Rt[Bt]=~Ut.g[Bt];return new _(Rt,~Ut.h).add(Et)}function vr(Ut,ht){return Ut.add(Nn(ht))}function Sr(Ut,ht){for(;(65535&Ut[ht])!=Ut[ht];)Ut[ht+1]+=Ut[ht]>>>16,Ut[ht]&=65535,ht++}function Cr(Ut,ht){this.g=Ut,this.h=ht}function Gr(Ut,ht){if(_n(ht))throw Error("division by zero");if(_n(Ut))return new Cr(He,He);if(xn(Ut))return ht=Gr(Nn(Ut),ht),new Cr(Nn(ht.g),Nn(ht.h));if(xn(ht))return ht=Gr(Ut,Nn(ht)),new Cr(Nn(ht.g),ht.h);if(30<Ut.g.length){if(xn(Ut)||xn(ht))throw Error("slowDivide_ only works with positive integers.");for(var Rt=Et,Bt=ht;0>=Bt.l(Ut);)Rt=Li(Rt),Bt=Li(Bt);var Xt=Yr(Rt,1),Zt=Yr(Bt,1);for(Bt=Yr(Bt,2),Rt=Yr(Rt,2);!_n(Bt);){var Ct=Zt.add(Bt);0>=Ct.l(Ut)&&(Xt=Xt.add(Rt),Zt=Ct),Bt=Yr(Bt,1),Rt=Yr(Rt,1)}return ht=vr(Ut,Xt.j(ht)),new Cr(Xt,ht)}for(Xt=He;0<=Ut.l(ht);){for(Rt=Math.max(1,Math.floor(Ut.m()/ht.m())),Bt=48>=(Bt=Math.ceil(Math.log(Rt)/Math.LN2))?1:Math.pow(2,Bt-48),Ct=(Zt=Y(Rt)).j(ht);xn(Ct)||0<Ct.l(Ut);)Ct=(Zt=Y(Rt-=Bt)).j(ht);_n(Zt)&&(Zt=Et),Xt=Xt.add(Zt),Ut=vr(Ut,Ct)}return new Cr(Xt,Ut)}function Li(Ut){for(var ht=Ut.g.length+1,Rt=[],Bt=0;Bt<ht;Bt++)Rt[Bt]=Ut.i(Bt)<<1|Ut.i(Bt-1)>>>31;return new _(Rt,Ut.h)}function Yr(Ut,ht){var Rt=ht>>5;ht%=32;for(var Bt=Ut.g.length-Rt,Xt=[],Zt=0;Zt<Bt;Zt++)Xt[Zt]=0<ht?Ut.i(Zt+Rt)>>>ht|Ut.i(Zt+Rt+1)<<32-ht:Ut.i(Zt+Rt);return new _(Xt,Ut.h)}(l=_.prototype).m=function(){if(xn(this))return-Nn(this).m();for(var Ut=0,ht=1,Rt=0;Rt<this.g.length;Rt++){var Bt=this.i(Rt);Ut+=(0<=Bt?Bt:4294967296+Bt)*ht,ht*=4294967296}return Ut},l.toString=function(Ut){if(2>(Ut=Ut||10)||36<Ut)throw Error("radix out of range: "+Ut);if(_n(this))return"0";if(xn(this))return"-"+Nn(this).toString(Ut);for(var ht=Y(Math.pow(Ut,6)),Rt=this,Bt="";;){var Xt=Gr(Rt,ht).g,Zt=((0<(Rt=vr(Rt,Xt.j(ht))).g.length?Rt.g[0]:Rt.h)>>>0).toString(Ut);if(_n(Rt=Xt))return Zt+Bt;for(;6>Zt.length;)Zt="0"+Zt;Bt=Zt+Bt}},l.i=function(Ut){return 0>Ut?0:Ut<this.g.length?this.g[Ut]:this.h},l.l=function(Ut){return xn(Ut=vr(this,Ut))?-1:_n(Ut)?0:1},l.abs=function(){return xn(this)?Nn(this):this},l.add=function(Ut){for(var ht=Math.max(this.g.length,Ut.g.length),Rt=[],Bt=0,Xt=0;Xt<=ht;Xt++){var Zt=Bt+(65535&this.i(Xt))+(65535&Ut.i(Xt)),Ct=(Zt>>>16)+(this.i(Xt)>>>16)+(Ut.i(Xt)>>>16);Bt=Ct>>>16,Rt[Xt]=(Ct&=65535)<<16|(Zt&=65535)}return new _(Rt,-2147483648&Rt[Rt.length-1]?-1:0)},l.j=function(Ut){if(_n(this)||_n(Ut))return He;if(xn(this))return xn(Ut)?Nn(this).j(Nn(Ut)):Nn(Nn(this).j(Ut));if(xn(Ut))return Nn(this.j(Nn(Ut)));if(0>this.l(Yt)&&0>Ut.l(Yt))return Y(this.m()*Ut.m());for(var ht=this.g.length+Ut.g.length,Rt=[],Bt=0;Bt<2*ht;Bt++)Rt[Bt]=0;for(Bt=0;Bt<this.g.length;Bt++)for(var Xt=0;Xt<Ut.g.length;Xt++){var Zt=this.i(Bt)>>>16,Ct=65535&this.i(Bt),Ll=Ut.i(Xt)>>>16,Zc=65535&Ut.i(Xt);Rt[2*Bt+2*Xt]+=Ct*Zc,Sr(Rt,2*Bt+2*Xt),Rt[2*Bt+2*Xt+1]+=Zt*Zc,Sr(Rt,2*Bt+2*Xt+1),Rt[2*Bt+2*Xt+1]+=Ct*Ll,Sr(Rt,2*Bt+2*Xt+1),Rt[2*Bt+2*Xt+2]+=Zt*Ll,Sr(Rt,2*Bt+2*Xt+2)}for(Bt=0;Bt<ht;Bt++)Rt[Bt]=Rt[2*Bt+1]<<16|Rt[2*Bt];for(Bt=ht;Bt<2*ht;Bt++)Rt[Bt]=0;return new _(Rt,0)},l.A=function(Ut){return Gr(this,Ut).h},l.and=function(Ut){for(var ht=Math.max(this.g.length,Ut.g.length),Rt=[],Bt=0;Bt<ht;Bt++)Rt[Bt]=this.i(Bt)&Ut.i(Bt);return new _(Rt,this.h&Ut.h)},l.or=function(Ut){for(var ht=Math.max(this.g.length,Ut.g.length),Rt=[],Bt=0;Bt<ht;Bt++)Rt[Bt]=this.i(Bt)|Ut.i(Bt);return new _(Rt,this.h|Ut.h)},l.xor=function(Ut){for(var ht=Math.max(this.g.length,Ut.g.length),Rt=[],Bt=0;Bt<ht;Bt++)Rt[Bt]=this.i(Bt)^Ut.i(Bt);return new _(Rt,this.h^Ut.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kt=Pe.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=Y,_.fromString=function Te(Ut,ht){if(0==Ut.length)throw Error("number format error: empty string");if(2>(ht=ht||10)||36<ht)throw Error("radix out of range: "+ht);if("-"==Ut.charAt(0))return Nn(Te(Ut.substring(1),ht));if(0<=Ut.indexOf("-"))throw Error('number format error: interior "-" character');for(var Rt=Y(Math.pow(ht,8)),Bt=He,Xt=0;Xt<Ut.length;Xt+=8){var Zt=Math.min(8,Ut.length-Xt),Ct=parseInt(Ut.substring(Xt,Xt+Zt),ht);8>Zt?(Zt=Y(Math.pow(ht,Zt)),Bt=Bt.j(Zt).add(Y(Ct))):Bt=(Bt=Bt.j(Rt)).add(Y(Ct))}return Bt},pt=Pe.Integer=_}).apply(typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{});var hn,Gt,Ve,ae,ue,ge,je,gt,tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,U,oe){return v==Array.prototype||v==Object.prototype||(v[U]=oe.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof tn&&tn];for(var U=0;U<v.length;++U){var oe=v[U];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}(this);!function u(v,U){if(U)e:{var oe=s;v=v.split(".");for(var Fe=0;Fe<v.length-1;Fe++){var Qt=v[Fe];if(!(Qt in oe))break e;oe=oe[Qt]}(U=U(Fe=oe[v=v[v.length-1]]))!=Fe&&null!=U&&n(oe,v,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(v){return v||function(){return function f(v,U){v instanceof String&&(v+="");var oe=0,Fe=!1,Qt={next:function(){if(!Fe&&oe<v.length){var dn=oe++;return{value:U(dn,v[dn]),done:!1}}return Fe=!0,{done:!0,value:void 0}}};return Qt[Symbol.iterator]=function(){return Qt},Qt}(this,function(U,oe){return oe})}});var _=_||{},R=this||self;function k(v){var U=typeof v;return"array"==(U="object"!=U?U:v?Array.isArray(v)?"array":U:"null")||"object"==U&&"number"==typeof v.length}function Y(v){var U=typeof v;return"object"==U&&null!=v||"function"==U}function Te(v,U,oe){return v.call.apply(v.bind,arguments)}function He(v,U,oe){if(!v)throw Error();if(2<arguments.length){var Fe=Array.prototype.slice.call(arguments,2);return function(){var Qt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qt,Fe),v.apply(U,Qt)}}return function(){return v.apply(U,arguments)}}function Et(v,U,oe){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Te:He).apply(null,arguments)}function Yt(v,U){var oe=Array.prototype.slice.call(arguments,1);return function(){var Fe=oe.slice();return Fe.push.apply(Fe,arguments),v.apply(this,Fe)}}function _n(v,U){function oe(){}oe.prototype=U.prototype,v.aa=U.prototype,v.prototype=new oe,v.prototype.constructor=v,v.Qb=function(Fe,Qt,dn){for(var ir=Array(arguments.length-2),ho=2;ho<arguments.length;ho++)ir[ho-2]=arguments[ho];return U.prototype[Qt].apply(Fe,ir)}}function xn(v){const U=v.length;if(0<U){const oe=Array(U);for(let Fe=0;Fe<U;Fe++)oe[Fe]=v[Fe];return oe}return[]}function Nn(v,U){for(let oe=1;oe<arguments.length;oe++){const Fe=arguments[oe];if(k(Fe)){const Qt=v.length||0,dn=Fe.length||0;v.length=Qt+dn;for(let ir=0;ir<dn;ir++)v[Qt+ir]=Fe[ir]}else v.push(Fe)}}function Sr(v){return/^[\s\xa0]*$/.test(v)}function Cr(){var v=R.navigator;return v&&(v=v.userAgent)?v:""}function Gr(v){return Gr[" "](v),v}Gr[" "]=function(){};var Li=!(-1==Cr().indexOf("Gecko")||-1!=Cr().toLowerCase().indexOf("webkit")&&-1==Cr().indexOf("Edge")||-1!=Cr().indexOf("Trident")||-1!=Cr().indexOf("MSIE")||-1!=Cr().indexOf("Edge"));function Yr(v,U,oe){for(const Fe in v)U.call(oe,v[Fe],Fe,v)}function ht(v){const U={};for(const oe in v)U[oe]=v[oe];return U}const Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(v,U){let oe,Fe;for(let Qt=1;Qt<arguments.length;Qt++){for(oe in Fe=arguments[Qt],Fe)v[oe]=Fe[oe];for(let dn=0;dn<Rt.length;dn++)oe=Rt[dn],Object.prototype.hasOwnProperty.call(Fe,oe)&&(v[oe]=Fe[oe])}}function Xt(v){var U=1;v=v.split(":");const oe=[];for(;0<U&&v.length;)oe.push(v.shift()),U--;return v.length&&oe.push(v.join(":")),oe}function Zt(v){R.setTimeout(()=>{throw v},0)}function Ct(){var v=Gp;let U=null;return v.g&&(U=v.g,v.g=v.g.next,v.g||(v.h=null),U.next=null),U}var Zc=new class vr{constructor(U,oe){this.i=U,this.j=oe,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new zp,v=>v.reset());class zp{constructor(){this.next=this.g=this.h=null}set(U,oe){this.h=U,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let ef,tf=!1,Gp=new class Ll{constructor(){this.h=this.g=null}add(U,oe){const Fe=Zc.get();Fe.set(U,oe),this.h?this.h.next=Fe:this.g=Fe,this.h=Fe}},_y=()=>{const v=R.Promise.resolve(void 0);ef=()=>{v.then(kE)}};var kE=()=>{for(var v;v=Ct();){try{v.h.call(v.g)}catch(oe){Zt(oe)}var U=Zc;U.j(v),100>U.h&&(U.h++,v.next=U.g,U.g=v)}tf=!1};function pu(){this.s=this.s,this.C=this.C}function _s(v,U){this.type=v,this.g=this.target=U,this.defaultPrevented=!1}pu.prototype.s=!1,pu.prototype.ma=function(){this.s||(this.s=!0,this.N())},pu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},_s.prototype.h=function(){this.defaultPrevented=!0};var nf=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var v=!1,U=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const oe=()=>{};R.addEventListener("test",oe,U),R.removeEventListener("test",oe,U)}catch{}return v}();function ec(v,U){if(_s.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var oe=this.type=v.type,Fe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=U,U=v.relatedTarget){if(Li){e:{try{Gr(U.nodeName);var Qt=!0;break e}catch{}Qt=!1}Qt||(U=null)}}else"mouseover"==oe?U=v.fromElement:"mouseout"==oe&&(U=v.toElement);this.relatedTarget=U,Fe?(this.clientX=void 0!==Fe.clientX?Fe.clientX:Fe.pageX,this.clientY=void 0!==Fe.clientY?Fe.clientY:Fe.pageY,this.screenX=Fe.screenX||0,this.screenY=Fe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Qm[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ec.aa.h.call(this)}}_n(ec,_s);var Qm={2:"touch",3:"pen",4:"mouse"};ec.prototype.h=function(){ec.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var rf="closure_listenable_"+(1e6*Math.random()|0),LE=0;function Jm(v,U,oe,Fe,Qt){this.listener=v,this.proxy=null,this.src=U,this.type=oe,this.capture=!!Fe,this.ha=Qt,this.key=++LE,this.da=this.fa=!1}function sf(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Fl(v){this.src=v,this.g={},this.h=0}function Wp(v,U){var oe=U.type;if(oe in v.g){var dn,Fe=v.g[oe],Qt=Array.prototype.indexOf.call(Fe,U,void 0);(dn=0<=Qt)&&Array.prototype.splice.call(Fe,Qt,1),dn&&(sf(U),0==v.g[oe].length&&(delete v.g[oe],v.h--))}}function Kp(v,U,oe,Fe){for(var Qt=0;Qt<v.length;++Qt){var dn=v[Qt];if(!dn.da&&dn.listener==U&&dn.capture==!!oe&&dn.ha==Fe)return Qt}return-1}Fl.prototype.add=function(v,U,oe,Fe,Qt){var dn=v.toString();(v=this.g[dn])||(v=this.g[dn]=[],this.h++);var ir=Kp(v,U,Fe,Qt);return-1<ir?(U=v[ir],oe||(U.fa=!1)):((U=new Jm(U,this.src,dn,!!Fe,Qt)).fa=oe,v.push(U)),U};var af="closure_lm_"+(1e6*Math.random()|0),Ym={};function Zm(v,U,oe,Fe,Qt){if(Fe&&Fe.once)return qp(v,U,oe,Fe,Qt);if(Array.isArray(U)){for(var dn=0;dn<U.length;dn++)Zm(v,U[dn],oe,Fe,Qt);return null}return oe=Xp(oe),v&&v[rf]?v.K(U,oe,Y(Fe)?!!Fe.capture:!!Fe,Qt):ev(v,U,oe,!1,Fe,Qt)}function ev(v,U,oe,Fe,Qt,dn){if(!U)throw Error("Invalid event type");var ir=Y(Qt)?!!Qt.capture:!!Qt,ho=lf(v);if(ho||(v[af]=ho=new Fl(v)),(oe=ho.add(U,oe,Fe,ir,dn)).proxy)return oe;if(Fe=function yy(){const U=Ey;return function v(oe){return U.call(v.src,v.listener,oe)}}(),oe.proxy=Fe,Fe.src=v,Fe.listener=oe,v.addEventListener)nf||(Qt=ir),void 0===Qt&&(Qt=!1),v.addEventListener(U.toString(),Fe,Qt);else if(v.attachEvent)v.attachEvent(tc(U.toString()),Fe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Fe)}return oe}function qp(v,U,oe,Fe,Qt){if(Array.isArray(U)){for(var dn=0;dn<U.length;dn++)qp(v,U[dn],oe,Fe,Qt);return null}return oe=Xp(oe),v&&v[rf]?v.L(U,oe,Y(Fe)?!!Fe.capture:!!Fe,Qt):ev(v,U,oe,!0,Fe,Qt)}function tv(v,U,oe,Fe,Qt){if(Array.isArray(U))for(var dn=0;dn<U.length;dn++)tv(v,U[dn],oe,Fe,Qt);else Fe=Y(Fe)?!!Fe.capture:!!Fe,oe=Xp(oe),v&&v[rf]?(v=v.i,(U=String(U).toString())in v.g&&-1<(oe=Kp(dn=v.g[U],oe,Fe,Qt))&&(sf(dn[oe]),Array.prototype.splice.call(dn,oe,1),0==dn.length&&(delete v.g[U],v.h--))):v&&(v=lf(v))&&(U=v.g[U.toString()],v=-1,U&&(v=Kp(U,oe,Fe,Qt)),(oe=-1<v?U[v]:null)&&$d(oe))}function $d(v){if("number"!=typeof v&&v&&!v.da){var U=v.src;if(U&&U[rf])Wp(U.i,v);else{var oe=v.type,Fe=v.proxy;U.removeEventListener?U.removeEventListener(oe,Fe,v.capture):U.detachEvent?U.detachEvent(tc(oe),Fe):U.addListener&&U.removeListener&&U.removeListener(Fe),(oe=lf(U))?(Wp(oe,v),0==oe.h&&(oe.src=null,U[af]=null)):sf(v)}}}function tc(v){return v in Ym?Ym[v]:Ym[v]="on"+v}function Ey(v,U){if(v.da)v=!0;else{U=new ec(U,this);var oe=v.listener,Fe=v.ha||v.src;v.fa&&$d(v),v=oe.call(Fe,U)}return v}function lf(v){return(v=v[af])instanceof Fl?v:null}var ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xp(v){return"function"==typeof v?v:(v[ed]||(v[ed]=function(U){return v.handleEvent(U)}),v[ed])}function ys(){pu.call(this),this.i=new Fl(this),this.M=this,this.F=null}function Es(v,U){var oe,Fe=v.F;if(Fe)for(oe=[];Fe;Fe=Fe.F)oe.push(Fe);if(v=v.M,Fe=U.type||U,"string"==typeof U)U=new _s(U,v);else if(U instanceof _s)U.target=U.target||v;else{var Qt=U;Bt(U=new _s(Fe,v),Qt)}if(Qt=!0,oe)for(var dn=oe.length-1;0<=dn;dn--){var ir=U.g=oe[dn];Qt=Qp(ir,Fe,!0,U)&&Qt}if(Qt=Qp(ir=U.g=v,Fe,!0,U)&&Qt,Qt=Qp(ir,Fe,!1,U)&&Qt,oe)for(dn=0;dn<oe.length;dn++)Qt=Qp(ir=U.g=oe[dn],Fe,!1,U)&&Qt}function Qp(v,U,oe,Fe){if(!(U=v.i.g[String(U)]))return!0;U=U.concat();for(var Qt=!0,dn=0;dn<U.length;++dn){var ir=U[dn];if(ir&&!ir.da&&ir.capture==oe){var ho=ir.listener,Ds=ir.ha||ir.src;ir.fa&&Wp(v.i,ir),Qt=!1!==ho.call(Ds,Fe)&&Qt}}return Qt&&!Fe.defaultPrevented}function nv(v,U,oe){if("function"==typeof v)oe&&(v=Et(v,oe));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Et(v.handleEvent,v)}return 2147483647<Number(U)?-1:R.setTimeout(v,U||0)}function Iy(v){v.g=nv(()=>{v.g=null,v.i&&(v.i=!1,Iy(v))},v.l);const U=v.h;v.h=null,v.m.apply(null,U)}_n(ys,pu),ys.prototype[rf]=!0,ys.prototype.removeEventListener=function(v,U,oe,Fe){tv(this,v,U,oe,Fe)},ys.prototype.N=function(){if(ys.aa.N.call(this),this.i){var U,v=this.i;for(U in v.g){for(var oe=v.g[U],Fe=0;Fe<oe.length;Fe++)sf(oe[Fe]);delete v.g[U],v.h--}}this.F=null},ys.prototype.K=function(v,U,oe,Fe){return this.i.add(String(v),U,!1,oe,Fe)},ys.prototype.L=function(v,U,oe,Fe){return this.i.add(String(v),U,!0,oe,Fe)};class FE extends pu{constructor(U,oe){super(),this.m=U,this.l=oe,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uf(v){pu.call(this),this.h=v,this.g={}}_n(uf,pu);var rv=[];function iv(v){Yr(v.g,function(U,oe){this.g.hasOwnProperty(oe)&&$d(U)},v),v.g={}}uf.prototype.N=function(){uf.aa.N.call(this),iv(this)},uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=R.JSON.stringify,Ay=R.JSON.parse,by=class{stringify(v){return R.JSON.stringify(v,void 0)}parse(v){return R.JSON.parse(v,void 0)}};function nc(){}function sv(){}nc.prototype.h=null;var cf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jd(){_s.call(this,"d")}function gu(){_s.call(this,"c")}_n(jd,_s),_n(gu,_s);var mu={},Hd=null;function df(){return Hd=Hd||new ys}function Jp(v){_s.call(this,mu.La,v)}function td(v){const U=df();Es(U,new Jp(U))}function Yp(v,U){_s.call(this,mu.STAT_EVENT,v),this.stat=U}function js(v){const U=df();Es(U,new Yp(U,v))}function Zp(v,U){_s.call(this,mu.Ma,v),this.size=U}function hf(v,U){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){v()},U)}function ff(){this.g=!0}function zd(v,U,oe,Fe){v.info(function(){return"XMLHTTP TEXT ("+U+"): "+function BE(v,U){if(!v.g)return U;if(!U)return null;try{var oe=JSON.parse(U);if(oe)for(v=0;v<oe.length;v++)if(Array.isArray(oe[v])){var Fe=oe[v];if(!(2>Fe.length)){var Qt=Fe[1];if(Array.isArray(Qt)&&!(1>Qt.length)){var dn=Qt[0];if("noop"!=dn&&"stop"!=dn&&"close"!=dn)for(var ir=1;ir<Qt.length;ir++)Qt[ir]=""}}}return Zr(oe)}catch{return U}}(v,oe)+(Fe?" "+Fe:"")})}mu.La="serverreachability",_n(Jp,_s),mu.STAT_EVENT="statevent",_n(Yp,_s),mu.Ma="timingevent",_n(Zp,_s),ff.prototype.xa=function(){this.g=!1},ff.prototype.info=function(){};var tg,eg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},av={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ng(){}function rc(v,U,oe,Fe){this.j=v,this.i=U,this.l=oe,this.R=Fe||1,this.U=new uf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}_n(ng,nc),ng.prototype.g=function(){return new XMLHttpRequest},ng.prototype.i=function(){return{}},tg=new ng;var Cy={},lv={};function Dy(v,U,oe){v.L=1,v.v=Xa(Vl(U)),v.m=oe,v.P=!0,rg(v,null)}function rg(v,U){v.F=Date.now(),ig(v),v.A=Vl(v.v);var oe=v.A,Fe=v.R;Array.isArray(Fe)||(Fe=[String(Fe)]),ky(oe.i,"t",Fe),v.C=0,oe=v.j.J,v.h=new ea,v.g=Av(v.j,oe?U:null,!v.m),0<v.O&&(v.M=new FE(Et(v.Y,v,v.g),v.O)),U=v.U,oe=v.g,Fe=v.ca;var Qt="readystatechange";Array.isArray(Qt)||(Qt&&(rv[0]=Qt.toString()),Qt=rv);for(var dn=0;dn<Qt.length;dn++){var ir=Zm(oe,Qt[dn],Fe||U.handleEvent,!1,U.h||U);if(!ir)break;U.g[ir.key]=ir}U=v.H?ht(v.H):{},v.m?(v.u||(v.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,U)):(v.u="GET",v.g.ea(v.A,v.u,null,U)),td(),function VE(v,U,oe,Fe,Qt,dn){v.info(function(){if(v.g)if(dn)for(var ir="",ho=dn.split("&"),Ds=0;Ds<ho.length;Ds++){var Hi=ho[Ds].split("=");if(1<Hi.length){var Is=Hi[0];Hi=Hi[1];var ls=Is.split("_");ir=2<=ls.length&&"type"==ls[1]?ir+(Is+"=")+Hi+"&":ir+(Is+"=redacted&")}}else ir=null;else ir=dn;return"XMLHTTP REQ ("+Fe+") [attempt "+Qt+"]: "+U+"\n"+oe+"\n"+ir})}(v.i,v.u,v.A,v.l,v.R,v.m)}function uv(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function $E(v,U){var oe=v.C,Fe=U.indexOf("\n",oe);return-1==Fe?lv:(oe=Number(U.substring(oe,Fe)),isNaN(oe)?Cy:(Fe+=1)+oe>U.length?lv:(U=U.slice(Fe,Fe+oe),v.C=Fe+oe,U))}function ig(v){v.S=Date.now()+v.I,wy(v,v.I)}function wy(v,U){if(null!=v.B)throw Error("WatchDog timer not null");v.B=hf(Et(v.ba,v),U)}function og(v){v.B&&(R.clearTimeout(v.B),v.B=null)}function pf(v){0==v.j.G||v.J||Iv(v.j,v)}function nd(v){og(v);var U=v.M;U&&"function"==typeof U.ma&&U.ma(),v.M=null,iv(v.U),v.g&&(U=v.g,v.g=null,U.abort(),U.ma())}function gf(v,U){try{var oe=v.j;if(0!=oe.G&&(oe.g==v||cv(oe.h,v)))if(!v.K&&cv(oe.h,v)&&3==oe.G){try{var Fe=oe.Da.g.parse(U)}catch{Fe=null}if(Array.isArray(Fe)&&3==Fe.length){var Qt=Fe;if(0==Qt[0]){e:if(!oe.u){if(oe.g){if(!(oe.g.F+3e3<v.F))break e;sd(oe),ug(oe)}Df(oe),js(18)}}else oe.za=Qt[1],0<oe.za-oe.T&&37500>Qt[2]&&oe.F&&0==oe.v&&!oe.C&&(oe.C=hf(Et(oe.Za,oe),6e3));if(1>=Py(oe.h)&&oe.ca){try{oe.ca()}catch{}oe.ca=void 0}}else sc(oe,11)}else if((v.K||oe.g==v)&&sd(oe),!Sr(U))for(Qt=oe.Da.g.parse(U),U=0;U<Qt.length;U++){let Hi=Qt[U];if(oe.T=Hi[0],Hi=Hi[1],2==oe.G)if("c"==Hi[0]){oe.K=Hi[1],oe.ia=Hi[2];const Is=Hi[3];null!=Is&&(oe.la=Is,oe.j.info("VER="+oe.la));const ls=Hi[4];null!=ls&&(oe.Aa=ls,oe.j.info("SVER="+oe.Aa));const nh=Hi[5];null!=nh&&"number"==typeof nh&&0<nh&&(oe.L=Fe=1.5*nh,oe.j.info("backChannelRequestTimeoutMs_="+Fe)),Fe=oe;const yl=v.g;if(yl){const dg=yl.g?yl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dg){var dn=Fe.h;dn.g||-1==dg.indexOf("spdy")&&-1==dg.indexOf("quic")&&-1==dg.indexOf("h2")||(dn.j=dn.l,dn.g=new Set,dn.h&&(qa(dn,dn.h),dn.h=null))}if(Fe.D){const Tv=yl.g?yl.g.getResponseHeader("X-HTTP-Session-Id"):null;Tv&&(Fe.ya=Tv,_o(Fe.I,Fe.D,Tv))}}oe.G=3,oe.l&&oe.l.ua(),oe.ba&&(oe.R=Date.now()-v.F,oe.j.info("Handshake RTT: "+oe.R+"ms"));var ir=v;if((Fe=oe).qa=eh(Fe,Fe.J?Fe.ia:null,Fe.W),ir.K){sg(Fe.h,ir);var ho=ir,Ds=Fe.L;Ds&&(ho.I=Ds),ho.B&&(og(ho),ig(ho)),Fe.g=ir}else Hy(Fe);0<oe.i.length&&Ev(oe)}else"stop"!=Hi[0]&&"close"!=Hi[0]||sc(oe,7);else 3==oe.G&&("stop"==Hi[0]||"close"==Hi[0]?"stop"==Hi[0]?sc(oe,7):By(oe):"noop"!=Hi[0]&&oe.l&&oe.l.ta(Hi),oe.v=0)}td()}catch{}}rc.prototype.ca=function(v){v=v.target;const U=this.M;U&&3==vu(v)?U.j():this.Y(v)},rc.prototype.Y=function(v){try{if(v==this.g)e:{const ls=vu(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>ls)&&(3!=ls||this.g&&(this.h.h||this.g.oa()||bf(this.g)))){this.J||4!=ls||7==U||td(),og(this);var oe=this.g.Z();this.X=oe;t:if(uv(this)){var Fe=bf(this.g);v="";var Qt=Fe.length,dn=4==vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nd(this),pf(this);var ir="";break t}this.h.i=new R.TextDecoder}for(U=0;U<Qt;U++)this.h.h=!0,v+=this.h.i.decode(Fe[U],{stream:!(dn&&U==Qt-1)});Fe.length=0,this.h.g+=v,this.C=0,ir=this.h.g}else ir=this.g.oa();if(this.o=200==oe,function Ty(v,U,oe,Fe,Qt,dn,ir){v.info(function(){return"XMLHTTP RESP ("+Fe+") [ attempt "+Qt+"]: "+U+"\n"+oe+"\n"+dn+" "+ir})}(this.i,this.u,this.A,this.l,this.R,ls,oe),this.o){if(this.T&&!this.K){t:{if(this.g){var ho,Ds=this.g;if((ho=Ds.g?Ds.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sr(ho)){var Hi=ho;break t}}Hi=null}if(!(oe=Hi)){this.o=!1,this.s=3,js(12),nd(this),pf(this);break e}zd(this.i,this.l,oe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,oe)}if(this.P){let yl;for(oe=!0;!this.J&&this.C<ir.length;){if(yl=$E(this,ir),yl==lv){4==ls&&(this.s=4,js(14),oe=!1),zd(this.i,this.l,null,"[Incomplete Response]");break}if(yl==Cy){this.s=4,js(15),zd(this.i,this.l,ir,"[Invalid Chunk]"),oe=!1;break}zd(this.i,this.l,yl,null),gf(this,yl)}if(uv(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ls||0!=ir.length||this.h.h||(this.s=1,js(16),oe=!1),this.o=this.o&&oe,oe){if(0<ir.length&&!this.W){this.W=!0;var Is=this.j;Is.g==this&&Is.ba&&!Is.M&&(Is.j.info("Great, no buffering proxy detected. Bytes received: "+ir.length),od(Is),Is.M=!0,js(11))}}else zd(this.i,this.l,ir,"[Invalid Chunked Response]"),nd(this),pf(this)}else zd(this.i,this.l,ir,null),gf(this,ir);4==ls&&nd(this),this.o&&!this.J&&(4==ls?Iv(this.j,this):(this.o=!1,ig(this)))}else(function yv(v){const U={};v=(v.g&&2<=vu(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Fe=0;Fe<v.length;Fe++){if(Sr(v[Fe]))continue;var oe=Xt(v[Fe]);const Qt=oe[0];if("string"!=typeof(oe=oe[1]))continue;oe=oe.trim();const dn=U[Qt]||[];U[Qt]=dn,dn.push(oe)}!function Ut(v,U){for(const oe in v)U.call(void 0,v[oe],oe,v)}(U,function(Fe){return Fe.join(", ")})})(this.g),400==oe&&0<ir.indexOf("Unknown SID")?(this.s=3,js(12)):(this.s=0,js(13)),nd(this),pf(this)}}}catch{}},rc.prototype.cancel=function(){this.J=!0,nd(this)},rc.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function UE(v,U){v.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(td(),js(17)),nd(this),this.s=2,pf(this)):wy(this,this.S-v)};var jE=class{constructor(v,U){this.g=v,this.map=U}};function Sy(v){this.l=v||10,v=R.PerformanceNavigationTiming?0<(v=R.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ry(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Py(v){return v.h?1:v.g?v.g.size:0}function cv(v,U){return v.h?v.h==U:!!v.g&&v.g.has(U)}function qa(v,U){v.g?v.g.add(U):v.h=U}function sg(v,U){v.h&&v.h==U?v.h=null:v.g&&v.g.has(U)&&v.g.delete(U)}function My(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let U=v.i;for(const oe of v.g.values())U=U.concat(oe.D);return U}return xn(v.i)}function dv(v,U){if(v.forEach&&"function"==typeof v.forEach)v.forEach(U,void 0);else if(k(v)||"string"==typeof v)Array.prototype.forEach.call(v,U,void 0);else for(var oe=function Oy(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(k(v)||"string"==typeof v){var U=[];v=v.length;for(var oe=0;oe<v;oe++)U.push(oe);return U}U=[],oe=0;for(const Fe in v)U[oe++]=Fe;return U}}}(v),Fe=function HE(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(k(v)){for(var U=[],oe=v.length,Fe=0;Fe<oe;Fe++)U.push(v[Fe]);return U}for(Fe in U=[],oe=0,v)U[oe++]=v[Fe];return U}(v),Qt=Fe.length,dn=0;dn<Qt;dn++)U.call(void 0,Fe[dn],oe&&oe[dn],v)}Sy.prototype.cancel=function(){if(this.i=My(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var mf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gd(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Gd){this.h=v.h,vf(this,v.j),this.o=v.o,this.g=v.g,_f(this,v.s),this.l=v.l;var U=v.i,oe=new id;oe.i=U.i,U.g&&(oe.g=new Map(U.g),oe.h=U.h),yf(this,oe),this.m=v.m}else v&&(U=String(v).match(mf))?(this.h=!1,vf(this,U[1]||"",!0),this.o=Ef(U[2]||""),this.g=Ef(U[3]||"",!0),_f(this,U[4]),this.l=Ef(U[5]||"",!0),yf(this,U[6]||"",!0),this.m=Ef(U[7]||"")):(this.h=!1,this.i=new id(null,this.h))}function Vl(v){return new Gd(v)}function vf(v,U,oe){v.j=oe?Ef(U,!0):U,v.j&&(v.j=v.j.replace(/:$/,""))}function _f(v,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);v.s=U}else v.s=null}function yf(v,U,oe){U instanceof id?(v.i=U,function zE(v,U){U&&!v.j&&(Qa(v),v.i=null,v.g.forEach(function(oe,Fe){var Qt=Fe.toLowerCase();Fe!=Qt&&(pv(this,Fe),ky(this,Qt,oe))},v)),v.j=U}(v.i,v.h)):(oe||(U=If(U,rd)),v.i=new id(U,v.h))}function _o(v,U,oe){v.i.set(U,oe)}function Xa(v){return _o(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ef(v,U){return v?U?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function If(v,U,oe){return"string"==typeof v?(v=encodeURI(v).replace(U,fv),oe&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function fv(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Gd.prototype.toString=function(){var v=[],U=this.j;U&&v.push(If(U,xy,!0),":");var oe=this.g;return(oe||"file"==U)&&(v.push("//"),(U=this.o)&&v.push(If(U,xy,!0),"@"),v.push(encodeURIComponent(String(oe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(oe=this.s)&&v.push(":",String(oe))),(oe=this.l)&&(this.g&&"/"!=oe.charAt(0)&&v.push("/"),v.push(If(oe,"/"==oe.charAt(0)?Ny:Wd,!0))),(oe=this.i.toString())&&v.push("?",oe),(oe=this.m)&&v.push("#",If(oe,Kd)),v.join("")};var xy=/[#\/\?@]/g,Wd=/[#\?:]/g,Ny=/[#\?]/g,rd=/[#\?@]/g,Kd=/#/g;function id(v,U){this.h=this.g=null,this.i=v||null,this.j=!!U}function Qa(v){v.g||(v.g=new Map,v.h=0,v.i&&function hv(v,U){if(v){v=v.split("&");for(var oe=0;oe<v.length;oe++){var Fe=v[oe].indexOf("="),Qt=null;if(0<=Fe){var dn=v[oe].substring(0,Fe);Qt=v[oe].substring(Fe+1)}else dn=v[oe];U(dn,Qt?decodeURIComponent(Qt.replace(/\+/g," ")):"")}}}(v.i,function(U,oe){v.add(decodeURIComponent(U.replace(/\+/g," ")),oe)}))}function pv(v,U){Qa(v),U=qd(v,U),v.g.has(U)&&(v.i=null,v.h-=v.g.get(U).length,v.g.delete(U))}function gv(v,U){return Qa(v),U=qd(v,U),v.g.has(U)}function ky(v,U,oe){pv(v,U),0<oe.length&&(v.i=null,v.g.set(qd(v,U),xn(oe)),v.h+=oe.length)}function qd(v,U){return U=String(U),v.j&&(U=U.toLowerCase()),U}function ic(v,U,oe,Fe,Qt){try{Qt&&(Qt.onload=null,Qt.onerror=null,Qt.onabort=null,Qt.ontimeout=null),Fe(oe)}catch{}}function Ly(){this.g=new by}function KE(v,U,oe){const Fe=oe||"";try{dv(v,function(Qt,dn){let ir=Qt;Y(Qt)&&(ir=Zr(Qt)),U.push(Fe+dn+"="+encodeURIComponent(ir))})}catch(Qt){throw U.push(Fe+"type="+encodeURIComponent("_badmap")),Qt}}function oc(v){this.l=v.Ub||null,this.j=v.eb||!1}function ag(v,U){ys.call(this),this.D=v,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function mv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Af(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Xd(v)}function Xd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Fy(v){let U="";return Yr(v,function(oe,Fe){U+=Fe,U+=":",U+=oe,U+="\r\n"}),U}function vv(v,U,oe){e:{for(Fe in oe){var Fe=!1;break e}Fe=!0}Fe||(oe=Fy(oe),"string"==typeof v?null!=oe&&encodeURIComponent(String(oe)):_o(v,U,oe))}function Lo(v){ys.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=id.prototype).add=function(v,U){Qa(this),this.i=null,v=qd(this,v);var oe=this.g.get(v);return oe||this.g.set(v,oe=[]),oe.push(U),this.h+=1,this},l.forEach=function(v,U){Qa(this),this.g.forEach(function(oe,Fe){oe.forEach(function(Qt){v.call(U,Qt,Fe,this)},this)},this)},l.na=function(){Qa(this);const v=Array.from(this.g.values()),U=Array.from(this.g.keys()),oe=[];for(let Fe=0;Fe<U.length;Fe++){const Qt=v[Fe];for(let dn=0;dn<Qt.length;dn++)oe.push(U[Fe])}return oe},l.V=function(v){Qa(this);let U=[];if("string"==typeof v)gv(this,v)&&(U=U.concat(this.g.get(qd(this,v))));else{v=Array.from(this.g.values());for(let oe=0;oe<v.length;oe++)U=U.concat(v[oe])}return U},l.set=function(v,U){return Qa(this),this.i=null,gv(this,v=qd(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[U]),this.h+=1,this},l.get=function(v,U){return v&&0<(v=this.V(v)).length?String(v[0]):U},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],U=Array.from(this.g.keys());for(var oe=0;oe<U.length;oe++){var Fe=U[oe];const dn=encodeURIComponent(String(Fe)),ir=this.V(Fe);for(Fe=0;Fe<ir.length;Fe++){var Qt=dn;""!==ir[Fe]&&(Qt+="="+encodeURIComponent(String(ir[Fe]))),v.push(Qt)}}return this.i=v.join("&")},_n(oc,nc),oc.prototype.g=function(){return new ag(this.l,this.j)},oc.prototype.i=function(v){return function(){return v}}({}),_n(ag,ys),(l=ag.prototype).open=function(v,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=U,this.readyState=1,Xd(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(U.body=v),(this.D||R).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Af(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var U=v.value?v.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!v.done}))&&(this.response=this.responseText+=U)}v.done?Af(this):Xd(this),3==this.readyState&&mv(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,Af(this))},l.Qa=function(v){this.g&&(this.response=v,Af(this))},l.ga=function(){this.g&&Af(this)},l.setRequestHeader=function(v,U){this.u.append(v,U)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],U=this.h.entries();for(var oe=U.next();!oe.done;)v.push((oe=oe.value)[0]+": "+oe[1]),oe=U.next();return v.join("\r\n")},Object.defineProperty(ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),_n(Lo,ys);var _v=/^https?$/i,Vy=["POST","PUT"];function Qd(v,U){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=U,v.m=5,Jd(v),lg(v)}function Jd(v){v.A||(v.A=!0,Es(v,"complete"),Es(v,"error"))}function Yd(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=vu(v)||2!=v.Z()))if(v.u&&4==vu(v))nv(v.Ea,0,v);else if(Es(v,"readystatechange"),4==vu(v)){v.h=!1;try{const ir=v.Z();e:switch(ir){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var oe;if(!(oe=U)){var Fe;if(Fe=0===ir){var Qt=String(v.D).match(mf)[1]||null;!Qt&&R.self&&R.self.location&&(Qt=R.self.location.protocol.slice(0,-1)),Fe=!_v.test(Qt?Qt.toLowerCase():"")}oe=Fe}if(oe)Es(v,"complete"),Es(v,"success");else{v.m=6;try{var dn=2<vu(v)?v.g.statusText:""}catch{dn=""}v.l=dn+" ["+v.Z()+"]",Jd(v)}}finally{lg(v)}}}function lg(v,U){if(v.g){Uy(v);const oe=v.g,Fe=v.v[0]?()=>{}:null;v.g=null,v.v=null,U||Es(v,"ready");try{oe.onreadystatechange=Fe}catch{}}}function Uy(v){v.I&&(R.clearTimeout(v.I),v.I=null)}function vu(v){return v.g?v.g.readyState:0}function bf(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(v,U,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[v]||U}function qE(v){this.Aa=0,this.i=[],this.j=new ff,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tf("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tf("baseRetryDelayMs",5e3,v),this.cb=Tf("retryDelaySeedMs",1e4,v),this.Wa=Tf("forwardChannelMaxRetries",2,v),this.wa=Tf("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Sy(v&&v.concurrentRequestLimit),this.Da=new Ly,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function By(v){if($y(v),3==v.G){var U=v.U++,oe=Vl(v.I);if(_o(oe,"SID",v.K),_o(oe,"RID",U),_o(oe,"TYPE","terminate"),Cf(v,oe),(U=new rc(v,v.j,U)).L=2,U.v=Xa(Vl(oe)),oe=!1,R.navigator&&R.navigator.sendBeacon)try{oe=R.navigator.sendBeacon(U.v.toString(),"")}catch{}!oe&&R.Image&&((new Image).src=U.v,oe=!0),oe||(U.g=Av(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ig(U)}zy(v)}function ug(v){v.g&&(od(v),v.g.cancel(),v.g=null)}function $y(v){ug(v),v.u&&(R.clearTimeout(v.u),v.u=null),sd(v),v.h.cancel(),v.s&&("number"==typeof v.s&&R.clearTimeout(v.s),v.s=null)}function Ev(v){if(!Ry(v.h)&&!v.s){v.s=!0;var U=v.Ga;ef||_y(),tf||(ef(),tf=!0),Gp.add(U,v),v.B=0}}function QE(v,U){var oe;oe=U?U.l:v.U++;const Fe=Vl(v.I);_o(Fe,"SID",v.K),_o(Fe,"RID",oe),_o(Fe,"AID",v.T),Cf(v,Fe),v.m&&v.o&&vv(Fe,v.m,v.o),oe=new rc(v,v.j,oe,v.B+1),null===v.m&&(oe.H=v.o),U&&(v.i=U.D.concat(v.i)),U=jy(v,oe,1e3),oe.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),qa(v.h,oe),Dy(oe,Fe,U)}function Cf(v,U){v.H&&Yr(v.H,function(oe,Fe){_o(U,Fe,oe)}),v.l&&dv({},function(oe,Fe){_o(U,Fe,oe)})}function jy(v,U,oe){oe=Math.min(v.i.length,oe);var Fe=v.l?Et(v.l.Na,v.l,v):null;e:{var Qt=v.i;let dn=-1;for(;;){const ir=["count="+oe];-1==dn?0<oe?(dn=Qt[0].g,ir.push("ofs="+dn)):dn=0:ir.push("ofs="+dn);let ho=!0;for(let Ds=0;Ds<oe;Ds++){let Hi=Qt[Ds].g;const Is=Qt[Ds].map;if(Hi-=dn,0>Hi)dn=Math.max(0,Qt[Ds].g-100),ho=!1;else try{KE(Is,ir,"req"+Hi+"_")}catch{Fe&&Fe(Is)}}if(ho){Fe=ir.join("&");break e}}}return v=v.i.splice(0,oe),U.D=v,Fe}function Hy(v){if(!v.g&&!v.u){v.Y=1;var U=v.Fa;ef||_y(),tf||(ef(),tf=!0),Gp.add(U,v),v.v=0}}function Df(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=hf(Et(v.Fa,v),Zd(v,v.v)),v.v++,0))}function od(v){null!=v.A&&(R.clearTimeout(v.A),v.A=null)}function cg(v){v.g=new rc(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var U=Vl(v.qa);_o(U,"RID","rpc"),_o(U,"SID",v.K),_o(U,"AID",v.T),_o(U,"CI",v.F?"0":"1"),!v.F&&v.ja&&_o(U,"TO",v.ja),_o(U,"TYPE","xmlhttp"),Cf(v,U),v.m&&v.o&&vv(U,v.m,v.o),v.L&&(v.g.I=v.L);var oe=v.g;v=v.ia,oe.L=1,oe.v=Xa(Vl(U)),oe.m=null,oe.P=!0,rg(oe,v)}function sd(v){null!=v.C&&(R.clearTimeout(v.C),v.C=null)}function Iv(v,U){var oe=null;if(v.g==U){sd(v),od(v),v.g=null;var Fe=2}else{if(!cv(v.h,U))return;oe=U.D,sg(v.h,U),Fe=1}if(0!=v.G)if(U.o)if(1==Fe){oe=U.m?U.m.length:0,U=Date.now()-U.F;var Qt=v.B;Es(Fe=df(),new Zp(Fe,oe)),Ev(v)}else Hy(v);else if(3==(Qt=U.s)||0==Qt&&0<U.X||!(1==Fe&&function XE(v,U){return!(Py(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=U.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=hf(Et(v.Ga,v,U),Zd(v,v.B)),v.B++,0)))}(v,U)||2==Fe&&Df(v)))switch(oe&&0<oe.length&&(U=v.h,U.i=U.i.concat(oe)),Qt){case 1:sc(v,5);break;case 4:sc(v,10);break;case 3:sc(v,6);break;default:sc(v,2)}}function Zd(v,U){let oe=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(oe*=2),oe*U}function sc(v,U){if(v.j.info("Error code "+U),2==U){var oe=Et(v.fb,v),Fe=v.Xa;const Qt=!Fe;Fe=new Gd(Fe||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||vf(Fe,"https"),Xa(Fe),Qt?function GE(v,U){const oe=new ff;if(R.Image){const Fe=new Image;Fe.onload=Yt(ic,oe,"TestLoadImage: loaded",!0,U,Fe),Fe.onerror=Yt(ic,oe,"TestLoadImage: error",!1,U,Fe),Fe.onabort=Yt(ic,oe,"TestLoadImage: abort",!1,U,Fe),Fe.ontimeout=Yt(ic,oe,"TestLoadImage: timeout",!1,U,Fe),R.setTimeout(function(){Fe.ontimeout&&Fe.ontimeout()},1e4),Fe.src=v}else U(!1)}(Fe.toString(),oe):function WE(v,U){new ff;const Fe=new AbortController,Qt=setTimeout(()=>{Fe.abort(),ic(0,0,!1,U)},1e4);fetch(v,{signal:Fe.signal}).then(dn=>{clearTimeout(Qt),ic(0,0,!!dn.ok,U)}).catch(()=>{clearTimeout(Qt),ic(0,0,!1,U)})}(Fe.toString(),oe)}else js(2);v.G=0,v.l&&v.l.sa(U),zy(v),$y(v)}function zy(v){if(v.G=0,v.ka=[],v.l){const U=My(v.h);(0!=U.length||0!=v.i.length)&&(Nn(v.ka,U),Nn(v.ka,v.i),v.h.i.length=0,xn(v.i),v.i.length=0),v.l.ra()}}function eh(v,U,oe){var Fe=oe instanceof Gd?Vl(oe):new Gd(oe);if(""!=Fe.g)U&&(Fe.g=U+"."+Fe.g),_f(Fe,Fe.s);else{var Qt=R.location;Fe=Qt.protocol,U=U?U+"."+Qt.hostname:Qt.hostname,Qt=+Qt.port;var dn=new Gd(null);Fe&&vf(dn,Fe),U&&(dn.g=U),Qt&&_f(dn,Qt),oe&&(dn.l=oe),Fe=dn}return U=v.ya,(oe=v.D)&&U&&_o(Fe,oe,U),_o(Fe,"VER",v.la),Cf(v,Fe),Fe}function Av(v,U,oe){if(U&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Lo(v.Ca&&!v.pa?new oc({eb:oe}):v.pa)).Ha(v.J),U}function bv(){}function wf(){}function ga(v,U){ys.call(this),this.g=new qE(U),this.l=v,this.h=U&&U.messageUrlParams||null,v=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(v?v["X-WebChannel-Content-Type"]=U.messageContentType:v={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(v?v["X-WebChannel-Client-Profile"]=U.va:v={"X-WebChannel-Client-Profile":U.va}),this.g.S=v,(v=U&&U.Sb)&&!Sr(v)&&(this.g.m=v),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!Sr(U)&&(this.g.D=U,null!==(v=this.h)&&U in v&&U in(v=this.h)&&delete v[U]),this.j=new th(this)}function Gy(v){jd.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var U=v.__sm__;if(U){e:{for(const oe in U){v=oe;break e}v=void 0}(this.i=v)&&(v=this.i,U=null!==U&&v in U?U[v]:void 0),this.data=U}else this.data=v}function Wy(){gu.call(this),this.status=1}function th(v){this.g=v}(l=Lo.prototype).Ha=function(v){this.J=v},l.ea=function(v,U,oe,Fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);U=U?U.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tg.g(),this.v=function ov(v){return v.h||(v.h=v.i())}(this.o?this.o:tg),this.g.onreadystatechange=Et(this.Ea,this);try{this.B=!0,this.g.open(U,String(v),!0),this.B=!1}catch(dn){return void Qd(this,dn)}if(v=oe||"",oe=new Map(this.headers),Fe)if(Object.getPrototypeOf(Fe)===Object.prototype)for(var Qt in Fe)oe.set(Qt,Fe[Qt]);else{if("function"!=typeof Fe.keys||"function"!=typeof Fe.get)throw Error("Unknown input type for opt_headers: "+String(Fe));for(const dn of Fe.keys())oe.set(dn,Fe.get(dn))}Fe=Array.from(oe.keys()).find(dn=>"content-type"==dn.toLowerCase()),Qt=R.FormData&&v instanceof R.FormData,!(0<=Array.prototype.indexOf.call(Vy,U,void 0))||Fe||Qt||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[dn,ir]of oe)this.g.setRequestHeader(dn,ir);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uy(this),this.u=!0,this.g.send(v),this.u=!1}catch(dn){Qd(this,dn)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Es(this,"complete"),Es(this,"abort"),lg(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lg(this,!0)),Lo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Yd(this):this.bb())},l.bb=function(){Yd(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<vu(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var U=this.g.responseText;return v&&0==U.indexOf(v)&&(U=U.substring(v.length)),Ay(U)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=qE.prototype).la=8,l.G=1,l.connect=function(v,U,oe,Fe){js(0),this.W=v,this.H=U||{},oe&&void 0!==Fe&&(this.H.OSID=oe,this.H.OAID=Fe),this.F=this.X,this.I=eh(this,null,this.W),Ev(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Qt=new rc(this,this.j,v);let dn=this.o;if(this.S&&(dn?(dn=ht(dn),Bt(dn,this.S)):dn=this.S),null!==this.m||this.O||(Qt.H=dn,dn=null),this.P)e:{for(var U=0,oe=0;oe<this.i.length;oe++){var Fe=this.i[oe];if(void 0===(Fe="__data__"in Fe.map&&"string"==typeof(Fe=Fe.map.__data__)?Fe.length:void 0))break;if(4096<(U+=Fe)){U=oe;break e}if(4096===U||oe===this.i.length-1){U=oe+1;break e}}U=1e3}else U=1e3;U=jy(this,Qt,U),_o(oe=Vl(this.I),"RID",v),_o(oe,"CVER",22),this.D&&_o(oe,"X-HTTP-Session-Id",this.D),Cf(this,oe),dn&&(this.O?U="headers="+encodeURIComponent(String(Fy(dn)))+"&"+U:this.m&&vv(oe,this.m,dn)),qa(this.h,Qt),this.Ua&&_o(oe,"TYPE","init"),this.P?(_o(oe,"$req",U),_o(oe,"SID","null"),Qt.T=!0,Dy(Qt,oe,null)):Dy(Qt,oe,U),this.G=2}}else 3==this.G&&(v?QE(this,v):0==this.i.length||Ry(this.h)||QE(this))},l.Fa=function(){if(this.u=null,cg(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=hf(Et(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,js(10),ug(this),cg(this))},l.Za=function(){null!=this.C&&(this.C=null,ug(this),Df(this),js(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),js(2)):(this.j.info("Failed to ping google.com"),js(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=bv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},wf.prototype.g=function(v,U){return new ga(v,U)},_n(ga,ys),ga.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ga.prototype.close=function(){By(this.g)},ga.prototype.o=function(v){var U=this.g;if("string"==typeof v){var oe={};oe.__data__=v,v=oe}else this.u&&((oe={}).__data__=Zr(v),v=oe);U.i.push(new jE(U.Ya++,v)),3==U.G&&Ev(U)},ga.prototype.N=function(){this.g.l=null,delete this.j,By(this.g),delete this.g,ga.aa.N.call(this)},_n(Gy,jd),_n(Wy,gu),_n(th,bv),th.prototype.ua=function(){Es(this.g,"a")},th.prototype.ta=function(v){Es(this.g,new Gy(v))},th.prototype.sa=function(v){Es(this.g,new Wy)},th.prototype.ra=function(){Es(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,ga.prototype.send=ga.prototype.o,ga.prototype.open=ga.prototype.m,ga.prototype.close=ga.prototype.close,gt=An.createWebChannelTransport=function(){return new wf},je=An.getStatEventTarget=function(){return df()},ge=An.Event=mu,ue=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eg.NO_ERROR=0,eg.TIMEOUT=8,eg.HTTP_ERROR=6,ae=An.ErrorCode=eg,av.COMPLETE="complete",Ve=An.EventType=av,sv.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",ys.prototype.listen=ys.prototype.K,Gt=An.WebChannel=sv,An.FetchXmlHttpFactory=oc,Lo.prototype.listenOnce=Lo.prototype.L,Lo.prototype.getLastError=Lo.prototype.Ka,Lo.prototype.getLastErrorCode=Lo.prototype.Ba,Lo.prototype.getStatus=Lo.prototype.Z,Lo.prototype.getResponseJson=Lo.prototype.Oa,Lo.prototype.getResponseText=Lo.prototype.oa,Lo.prototype.send=Lo.prototype.ea,Lo.prototype.setWithCredentials=Lo.prototype.Ha,hn=An.XhrIo=Lo}).apply(typeof tn<"u"?tn:typeof self<"u"?self:typeof window<"u"?window:{});const yt="@firebase/firestore";class ft{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");let Wt="10.14.0";const Lt=new Je.Vy("@firebase/firestore");function Ft(){return Lt.logLevel}function xt(l,...n){if(Lt.logLevel<=Je.$b.DEBUG){const i=n.map(wn);Lt.debug(`Firestore (${Wt}): ${l}`,...i)}}function kn(l,...n){if(Lt.logLevel<=Je.$b.ERROR){const i=n.map(wn);Lt.error(`Firestore (${Wt}): ${l}`,...i)}}function Ht(l,...n){if(Lt.logLevel<=Je.$b.WARN){const i=n.map(wn);Lt.warn(`Firestore (${Wt}): ${l}`,...i)}}function wn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Jt(l="Unexpected state"){const n=`FIRESTORE (${Wt}) INTERNAL ASSERTION FAILED: `+l;throw kn(n),new Error(n)}function Dt(l,n){l||Jt()}function ot(l,n){return l}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends tt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class un{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class jn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class fr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(ft.UNAUTHENTICATED))}shutdown(){}}class sr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Un{constructor(n){this.t=n,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Dt(void 0===this.o);let u=this.i;const f=Y=>this.i!==u?(u=this.i,i(Y)):Promise.resolve();let _=new un;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new un,n.enqueueRetryable(()=>f(this.currentUser))};const R=()=>{const Y=_;n.enqueueRetryable((0,Ee.A)(function*(){yield Y.promise,yield f(s.currentUser)}))},k=Y=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(Y=>k(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?k(Y):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new un)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dt("string"==typeof s.accessToken),new jn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Dt(null===n||"string"==typeof n),new ft(n)}}class en{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yr{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new en(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gr{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){Dt(void 0===this.o);const s=f=>{null!=f.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,xt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>s(f))};const u=f=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Dt("string"==typeof i.token),this.R=i.token,new pr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ti(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class _i{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=ti(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Bn(l,n){return l<n?-1:l>n?1:0}function Wr(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function Yn(l){return l+"\0"}class nr{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new qe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new qe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new qe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new qe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return nr.fromMillis(Date.now())}static fromDate(n){return nr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new nr(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Bn(this.nanoseconds,n.nanoseconds):Bn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new qn(n)}static min(){return new qn(new nr(0,0))}static max(){return new qn(new nr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yi{constructor(n,i,s){void 0===i?i=0:i>n.length&&Jt(),void 0===s?s=n.length-i:s>n.length-i&&Jt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===yi.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof yi?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const f=n.get(u),_=i.get(u);if(f<_)return-1;if(f>_)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Xn extends yi{construct(n,i,s){return new Xn(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new qe(Le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Xn(i)}static emptyPath(){return new Xn([])}}const ni=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends yi{construct(n,i,s){return new Er(n,i,s)}static isValidIdentifier(n){return ni.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new qe(Le.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new qe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const k=n[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new qe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=k,u+=2}else"`"===R?(_=!_,u++):"."!==R||_?(s+=R,u++):(f(),u++)}if(f(),_)throw new qe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Er(i)}static emptyPath(){return new Er([])}}class Pn{constructor(n){this.path=n}static fromPath(n){return new Pn(Xn.fromString(n))}static fromName(n){return new Pn(Xn.fromString(n).popFirst(5))}static empty(){return new Pn(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Xn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Xn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Pn(new Xn(n.slice()))}}class si{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function $t(l){return l.fields.find(n=>2===n.kind)}function bt(l){return l.fields.filter(n=>2!==n.kind)}si.UNKNOWN_ID=-1;class ut{constructor(n,i){this.fieldPath=n,this.kind=i}}class Z{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new Z(0,Xe.min())}}function X(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=qn.fromTimestamp(1e9===s?new nr(i+1,0):new nr(i,s));return new Xe(u,Pn.empty(),n)}function se(l){return new Xe(l.readTime,l.key,-1)}class Xe{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new Xe(qn.min(),Pn.empty(),-1)}static max(){return new Xe(qn.max(),Pn.empty(),-1)}}function et(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=Pn.comparator(l.documentKey,n.documentKey),0!==i?i:Bn(l.largestBatchId,n.largestBatchId))}const rn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Zn(l){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,Ee.A)(function*(l){if(l.code!==Le.FAILED_PRECONDITION||l.message!==rn)throw l;xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class vt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new vt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof vt?i:vt.resolve(i)}catch(i){return vt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):vt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):vt.reject(i)}static resolve(n){return new vt((i,s)=>{i(n)})}static reject(n){return new vt((i,s)=>{s(n)})}static waitFor(n){return new vt((i,s)=>{let u=0,f=0,_=!1;n.forEach(R=>{++u,R.next(()=>{++f,_&&f===u&&i()},k=>s(k))}),_=!0,f===u&&i()})}static or(n){let i=vt.resolve(!1);for(const s of n)i=i.next(u=>u?vt.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(n,i){return new vt((s,u)=>{const f=n.length,_=new Array(f);let R=0;for(let k=0;k<f;k++){const Y=k;i(n[Y]).next(Te=>{_[Y]=Te,++R,R===f&&s(_)},Te=>u(Te))}})}static doWhile(n,i){return new vt((s,u)=>{const f=()=>{!0===n()?i().next(()=>{f()},u):s()};f()})}}class Ir{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new un,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Fi(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Yi(s.target.error);this.V.reject(new Fi(n,u))}}static open(n,i,s,u){try{return new Ir(i,n.transaction(u,s))}catch(f){throw new Fi(i,f)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(xt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new ji(i)}}class Mn{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===Mn.S((0,tt.ZQ)())&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return xt("SimpleDb","Removing database:",n),Ei(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,tt.zW)())return!1;if(Mn.v())return!0;const n=(0,tt.ZQ)(),i=Mn.S(n),s=0<i&&i<10,u=Pr(n),f=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||f)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,Ee.A)(function*(){return i.db||(xt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=_=>{s(_.target.result)},f.onblocked=()=>{u(new Fi(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const R=_.target.error;u("VersionError"===R.name?new qe(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new qe(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new Fi(n,R))},f.onupgradeneeded=_=>{xt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,f.transaction,_.oldVersion,i.version).next(()=>{xt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var f=this;return(0,Ee.A)(function*(){const _="readonly"===i;let R=0;for(;;){++R;try{f.db=yield f.M(n);const k=Ir.open(f.db,n,_?"readonly":"readwrite",s),Y=u(k).next(Te=>(k.g(),Te)).catch(Te=>(k.abort(Te),vt.reject(Te))).toPromise();return Y.catch(()=>{}),yield k.m,Y}catch(k){const Y=k,Te="FirebaseError"!==Y.name&&R<3;if(xt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",Te),f.close(),!Te)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Pr(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Ti{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Ei(this.B.delete())}}class Fi extends qe{constructor(n,i){super(Le.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Xr(l){return"IndexedDbTransactionError"===l.name}class ji{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(xt("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(xt("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),Ei(s)}add(n){return xt("SimpleDb","ADD",this.store.name,n,n),Ei(this.store.add(n))}get(n){return Ei(this.store.get(n)).next(i=>(void 0===i&&(i=null),xt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return xt("SimpleDb","DELETE",this.store.name,n),Ei(this.store.delete(n))}count(){return xt("SimpleDb","COUNT",this.store.name),Ei(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new vt((_,R)=>{f.onerror=k=>{R(k.target.error)},f.onsuccess=k=>{_(k.target.result)}})}{const f=this.cursor(s),_=[];return this.W(f,(R,k)=>{_.push(k)}).next(()=>_)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new vt((u,f)=>{s.onerror=_=>{f(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(n,i){xt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,_,R)=>R.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new vt((s,u)=>{i.onerror=f=>{const _=Yi(f.target.error);u(_)},i.onsuccess=f=>{const _=f.target.result;_?n(_.primaryKey,_.value).next(R=>{R?_.continue():s()}):s()}})}W(n,i){const s=[];return new vt((u,f)=>{n.onerror=_=>{f(_.target.error)},n.onsuccess=_=>{const R=_.target.result;if(!R)return void u();const k=new Ti(R),Y=i(R.primaryKey,R.value,k);if(Y instanceof vt){const Te=Y.catch(He=>(k.done(),vt.reject(He)));s.push(Te)}k.isDone?u():null===k.K?R.continue():R.continue(k.K)}}).next(()=>vt.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Ei(l){return new vt((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=Yi(s.target.error);i(u)}})}let Vi=!1;function Yi(l){const n=Mn.S((0,tt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vi||(Vi=!0,setTimeout(()=>{throw s},0)),s}}return l}class Wi{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;xt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ee.A)(function*(){i.task=null;try{xt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Xr(s)?xt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Zn(s)}yield i.X(6e4)}))}}class fe{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Ee.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,f=!0;return vt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(_=>{if(null!==_&&!s.has(_))return xt("IndexBackfiller",`Processing collection: ${_}`),this.ne(n,_,u).next(R=>{u-=R,s.add(_)});f=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(f=>{const _=f.changes;return this.localStore.indexManager.updateIndexEntries(n,_).next(()=>this.re(u,f)).next(R=>(xt("IndexBackfiller",`Updating offset: ${R}`),this.localStore.indexManager.updateCollectionGroup(n,i,R))).next(()=>_.size)}))}re(n,i){let s=n;return i.changes.forEach((u,f)=>{const _=se(f);et(_,s)>0&&(s=_)}),new Xe(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let q=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Me(l){return null==l}function ne(l){return 0===l&&1/l==-1/0}function le(l){return"number"==typeof l&&Number.isInteger(l)&&!ne(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Ne(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=on(n)),n=St(l.get(i),n);return on(n)}function St(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const f=l.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function on(l){return l+"\x01\x01"}function gn(l){const n=l.length;if(Dt(n>=2),2===n)return Dt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Xn.emptyPath();const i=n-2,s=[];let u="";for(let f=0;f<n;){const _=l.indexOf("\x01",f);switch((_<0||_>i)&&Jt(),l.charAt(_+1)){case"\x01":const R=l.substring(f,_);let k;0===u.length?k=R:(u+=R,k=u,u=""),s.push(k);break;case"\x10":u+=l.substring(f,_),u+="\0";break;case"\x11":u+=l.substring(f,_+1);break;default:Jt()}f=_+2}return new Xn(s)}const he=["userId","batchId"];function $e(l,n){return[l,Ne(n)]}function Nt(l,n,i){return[l,Ne(n),i]}const wt={},zt=["prefixPath","collectionGroup","readTime","documentId"],En=["prefixPath","collectionGroup","documentId"],$n=["collectionGroup","readTime","prefixPath","documentId"],Ln=["canonicalId","targetId"],dr=["targetId","path"],or=["path","targetId"],xr=["collectionId","parent"],ai=["indexId","uid"],Ci=["uid","sequenceNumber"],Di=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ui=["indexId","uid","orderedDocumentKey"],wi=["userId","collectionPath","documentId"],Br=["userId","collectionPath","largestBatchId"],Lr=["userId","collectionGroup","largestBatchId"],Ki=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rr=[...Ki,"documentOverlays"],Oi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qi=Oi,Zi=[...qi,"indexConfiguration","indexState","indexEntries"],fo=Zi,po=[...Zi,"globals"];class go extends Sn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function pi(l,n){const i=ot(l);return Mn.F(i._e,n)}function yo(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function mo(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function jo(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Qr{constructor(n,i){this.comparator=n,this.root=i||zi.EMPTY}insert(n,i){return new Qr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(n){return new Qr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,zi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Wo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Wo(this.root,n,this.comparator,!1)}getReverseIterator(){return new Wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Wo(this.root,n,this.comparator,!0)}}class Wo{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?s(n.key,i):1,i&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class zi{constructor(n,i,s,u,f){this.key=n,this.value=i,this.color=null!=s?s:zi.RED,this.left=null!=u?u:zi.EMPTY,this.right=null!=f?f:zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,f){return new zi(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const f=s(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return zi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const n=this.left.check();if(n!==this.right.check())throw Jt();return n+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(n,i,s,u,f){return this}insert(n,i,s){return new zi(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(n){this.comparator=n,this.data=new Qr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Do(this.data.getIterator())}getIteratorFrom(n){return new Do(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof ri)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new ri(this.comparator);return i.data=n,i}}class Do{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fo(l){return l.hasNext()?l.getNext():void 0}class ci{constructor(n){this.fields=n,n.sort(Er.comparator)}static empty(){return new ci([])}unionWith(n){let i=new ri(Er.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new ci(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Wr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class M extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pe{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new M("Invalid base64 string: "+f):f}}(n);return new pe(i)}static fromUint8Array(n){const i=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(n);return new pe(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Bn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}pe.EMPTY_BYTE_STRING=new pe("");const N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function T(l){if(Dt(!!l),"string"==typeof l){let n=0;const i=N.exec(l);if(Dt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:V(l.seconds),nanos:V(l.nanos)}}function V(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ue(l){return"string"==typeof l?pe.fromBase64String(l):pe.fromUint8Array(l)}function Ze(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function _t(l){const n=l.mapValue.fields.__previous_value__;return Ze(n)?_t(n):n}function Tt(l){const n=T(l.mapValue.fields.__local_write_time__.timestampValue);return new nr(n.seconds,n.nanos)}class cn{constructor(n,i,s,u,f,_,R,k,Y){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=R,this.longPollingOptions=k,this.useFetchStreams=Y}}class mn{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new mn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof mn&&n.projectId===this.projectId&&n.database===this.database}}const an={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pn={nullValue:"NULL_VALUE"};function Hn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ze(l)?4:xo(l)?9007199254740991:hs(l)?10:11:Jt()}function Wn(l,n){if(l===n)return!0;const i=Hn(l);if(i!==Hn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Tt(l).isEqual(Tt(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=T(u.timestampValue),R=T(f.timestampValue);return _.seconds===R.seconds&&_.nanos===R.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return f=n,Ue(l.bytesValue).isEqual(Ue(f.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,f){return V(u.geoPointValue.latitude)===V(f.geoPointValue.latitude)&&V(u.geoPointValue.longitude)===V(f.geoPointValue.longitude)}(l,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return V(u.integerValue)===V(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=V(u.doubleValue),R=V(f.doubleValue);return _===R?ne(_)===ne(R):isNaN(_)&&isNaN(R)}return!1}(l,n);case 9:return Wr(l.arrayValue.values||[],n.arrayValue.values||[],Wn);case 10:case 11:return function(u,f){const _=u.mapValue.fields||{},R=f.mapValue.fields||{};if(yo(_)!==yo(R))return!1;for(const k in _)if(_.hasOwnProperty(k)&&(void 0===R[k]||!Wn(_[k],R[k])))return!1;return!0}(l,n);default:return Jt()}var f}function tr(l,n){return void 0!==(l.values||[]).find(i=>Wn(i,n))}function ur(l,n){if(l===n)return 0;const i=Hn(l),s=Hn(n);if(i!==s)return Bn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bn(l.booleanValue,n.booleanValue);case 2:return function(f,_){const R=V(f.integerValue||f.doubleValue),k=V(_.integerValue||_.doubleValue);return R<k?-1:R>k?1:R===k?0:isNaN(R)?isNaN(k)?0:-1:1}(l,n);case 3:return Fr(l.timestampValue,n.timestampValue);case 4:return Fr(Tt(l),Tt(n));case 5:return Bn(l.stringValue,n.stringValue);case 6:return function(f,_){const R=Ue(f),k=Ue(_);return R.compareTo(k)}(l.bytesValue,n.bytesValue);case 7:return function(f,_){const R=f.split("/"),k=_.split("/");for(let Y=0;Y<R.length&&Y<k.length;Y++){const Te=Bn(R[Y],k[Y]);if(0!==Te)return Te}return Bn(R.length,k.length)}(l.referenceValue,n.referenceValue);case 8:return function(f,_){const R=Bn(V(f.latitude),V(_.latitude));return 0!==R?R:Bn(V(f.longitude),V(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return xi(l.arrayValue,n.arrayValue);case 10:return function(f,_){var R,k,Y,Te;const Yt=null===(R=(f.fields||{}).value)||void 0===R?void 0:R.arrayValue,_n=null===(k=(_.fields||{}).value)||void 0===k?void 0:k.arrayValue,xn=Bn((null===(Y=null==Yt?void 0:Yt.values)||void 0===Y?void 0:Y.length)||0,(null===(Te=null==_n?void 0:_n.values)||void 0===Te?void 0:Te.length)||0);return 0!==xn?xn:xi(Yt,_n)}(l.mapValue,n.mapValue);case 11:return function(f,_){if(f===an.mapValue&&_===an.mapValue)return 0;if(f===an.mapValue)return 1;if(_===an.mapValue)return-1;const R=f.fields||{},k=Object.keys(R),Y=_.fields||{},Te=Object.keys(Y);k.sort(),Te.sort();for(let He=0;He<k.length&&He<Te.length;++He){const Et=Bn(k[He],Te[He]);if(0!==Et)return Et;const Yt=ur(R[k[He]],Y[Te[He]]);if(0!==Yt)return Yt}return Bn(k.length,Te.length)}(l.mapValue,n.mapValue);default:throw Jt()}}function Fr(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return Bn(l,n);const i=T(l),s=T(n),u=Bn(i.seconds,s.seconds);return 0!==u?u:Bn(i.nanos,s.nanos)}function xi(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=ur(i[u],s[u]);if(f)return f}return Bn(i.length,s.length)}function ii(l){return vi(l)}function vi(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=T(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ue(l.bytesValue).toBase64():"referenceValue"in l?Pn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=vi(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const _ of s)f?f=!1:u+=",",u+=`${_}:${vi(i.fields[_])}`;return u+"}"}(l.mapValue):Jt()}function Ho(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function Xi(l){return!!l&&"integerValue"in l}function Qn(l){return!!l&&"arrayValue"in l}function so(l){return!!l&&"nullValue"in l}function Oo(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Ps(l){return!!l&&"mapValue"in l}function hs(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ta(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return mo(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=ta(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ta(l.arrayValue.values[i]);return n}return Object.assign({},l)}function xo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const ao={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Vo(l){return"nullValue"in l?pn:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Ho(mn.empty(),Pn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?hs(l)?ao:{mapValue:{}}:Jt()}function zo(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Ho(mn.empty(),Pn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?ao:"mapValue"in l?hs(l)?{mapValue:{}}:an:Jt()}function fs(l,n){const i=ur(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function va(l,n){const i=ur(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class lo{constructor(n){this.value=n}static empty(){return new lo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Ps(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=ta(i)}setAll(n){let i=Er.emptyPath(),s={},u=[];n.forEach((_,R)=>{if(!i.isImmediateParentOf(R)){const k=this.getFieldsMap(i);this.applyChanges(k,s,u),s={},u=[],i=R.popLast()}_?s[R.lastSegment()]=ta(_):u.push(R.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(n){const i=this.field(n.popLast());Ps(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Wn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Ps(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){mo(i,(u,f)=>n[u]=f);for(const u of s)delete n[u]}clone(){return new lo(ta(this.value))}}function Ko(l){const n=[];return mo(l.fields,(i,s)=>{const u=new Er([i]);if(Ps(s)){const f=Ko(s.mapValue).fields;if(0===f.length)n.push(u);else for(const _ of f)n.push(u.child(_))}else n.push(u)}),new ci(n)}class di{constructor(n,i,s,u,f,_,R){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=_,this.documentState=R}static newInvalidDocument(n){return new di(n,0,qn.min(),qn.min(),qn.min(),lo.empty(),0)}static newFoundDocument(n,i,s,u){return new di(n,1,i,qn.min(),s,u,0)}static newNoDocument(n,i){return new di(n,2,i,qn.min(),qn.min(),lo.empty(),0)}static newUnknownDocument(n,i){return new di(n,3,i,qn.min(),qn.min(),lo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(qn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof di&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ui{constructor(n,i){this.position=n,this.inclusive=i}}function Uo(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const f=n[u],_=l.position[u];if(s=f.field.isKeyField()?Pn.comparator(Pn.fromName(_.referenceValue),i.key):ur(_,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Hs(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!Wn(l.position[i],n.position[i]))return!1;return!0}class re{constructor(n,i="asc"){this.field=n,this.dir=i}}function G(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class A{}class b extends A{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new ar(n,i,s):"array-contains"===i?new qo(n,s):"in"===i?new Bo(n,s):"not-in"===i?new K(n,s):"array-contains-any"===i?new x(n,s):new b(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new br(n,s):new Ni(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ur(i,this.value)):null!==i&&Hn(this.value)===Hn(i)&&this.matchesComparison(ur(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class H extends A{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new H(n,i)}matches(n){return ce(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ce(l){return"and"===l.op}function be(l){return"or"===l.op}function Ce(l){return lt(l)&&ce(l)}function lt(l){for(const n of l.filters)if(n instanceof H)return!1;return!0}function At(l){if(l instanceof b)return l.field.canonicalString()+l.op.toString()+ii(l.value);if(Ce(l))return l.filters.map(n=>At(n)).join(",");{const n=l.filters.map(i=>At(i)).join(",");return`${l.op}(${n})`}}function dt(l,n){return l instanceof b?(s=l,(u=n)instanceof b&&s.op===u.op&&s.field.isEqual(u.field)&&Wn(s.value,u.value)):l instanceof H?function(s,u){return u instanceof H&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,_,R)=>f&&dt(_,u.filters[R]),!0)}(l,n):void Jt();var s,u}function Tn(l,n){const i=l.filters.concat(n);return H.create(i,l.op)}function Vn(l){return l instanceof b?`${(i=l).field.canonicalString()} ${i.op} ${ii(i.value)}`:l instanceof H?function(i){return i.op.toString()+" {"+i.getFilters().map(Vn).join(" ,")+"}"}(l):"Filter";var i}class ar extends b{constructor(n,i,s){super(n,i,s),this.key=Pn.fromName(s.referenceValue)}matches(n){const i=Pn.comparator(n.key,this.key);return this.matchesComparison(i)}}class br extends b{constructor(n,i){super(n,"in",i),this.keys=hi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Ni extends b{constructor(n,i){super(n,"not-in",i),this.keys=hi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function hi(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Pn.fromName(s.referenceValue))}class qo extends b{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Qn(i)&&tr(i.arrayValue,this.value)}}class Bo extends b{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&tr(this.value.arrayValue,i)}}class K extends b{constructor(n,i){super(n,"not-in",i)}matches(n){if(tr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!tr(this.value.arrayValue,i)}}class x extends b{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Qn(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>tr(this.value.arrayValue,s))}}class de{constructor(n,i=null,s=[],u=[],f=null,_=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=_,this.endAt=R,this.ue=null}}function j(l,n=null,i=[],s=[],u=null,f=null,_=null){return new de(l,n,i,s,u,f,_)}function ve(l){const n=ot(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>At(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Me(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ii(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ii(s)).join(",")),n.ue=i}return n.ue}function yn(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!G(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!dt(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Hs(l.startAt,n.startAt)&&Hs(l.endAt,n.endAt)}function cr(l){return Pn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function ki(l,n){return l.filters.filter(i=>i instanceof b&&i.field.isEqual(n))}function wo(l,n,i){let s=pn,u=!0;for(const f of ki(l,n)){let _=pn,R=!0;switch(f.op){case"<":case"<=":_=Vo(f.value);break;case"==":case"in":case">=":_=f.value;break;case">":_=f.value,R=!1;break;case"!=":case"not-in":_=pn}fs({value:s,inclusive:u},{value:_,inclusive:R})<0&&(s=_,u=R)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(n)){const _=i.position[f];fs({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function Eo(l,n,i){let s=an,u=!0;for(const f of ki(l,n)){let _=an,R=!0;switch(f.op){case">=":case">":_=zo(f.value),R=!1;break;case"==":case"in":case"<=":_=f.value;break;case"<":_=f.value,R=!1;break;case"!=":case"not-in":_=an}va({value:s,inclusive:u},{value:_,inclusive:R})>0&&(s=_,u=R)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(n)){const _=i.position[f];va({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class Nr{constructor(n,i=null,s=[],u=[],f=null,_="F",R=null,k=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=_,this.startAt=R,this.endAt=k,this.ce=null,this.le=null,this.he=null}}function Ma(l,n,i,s,u,f,_,R){return new Nr(l,n,i,s,u,f,_,R)}function Xo(l){return new Nr(l)}function zs(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Oa(l){return null!==l.collectionGroup}function na(l){const n=ot(l);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(_){let R=new ri(Er.comparator);return _.filters.forEach(k=>{k.getFlattenedFilters().forEach(Y=>{Y.isInequality()&&(R=R.add(Y.field))})}),R})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new re(f,s))}),i.has(Er.keyField().canonicalString())||n.ce.push(new re(Er.keyField(),s))}return n.ce}function $o(l){const n=ot(l);return n.le||(n.le=function _a(l,n){if("F"===l.limitType)return j(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new re(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new Ui(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Ui(l.startAt.position,l.startAt.inclusive):null;return j(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,na(l))),n.le}function ra(l,n){const i=l.filters.concat([n]);return new Nr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function Ya(l,n,i){return new Nr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function ia(l,n){return yn($o(l),$o(n))&&l.limitType===n.limitType}function wr(l){return`${ve($o(l))}|lt:${l.limitType}`}function ps(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Vn(u)).join(", ")}]`),Me(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ii(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ii(u)).join(",")),`Target(${s})`}($o(l))}; limitType=${l.limitType})`}function xa(l,n){return n.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Pn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,n)&&function(s,u){for(const f of na(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(l,n)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(_,R,k){const Y=Uo(_,R,k);return _.inclusive?Y<=0:Y<0}(s.startAt,na(s),u)||s.endAt&&!function(_,R,k){const Y=Uo(_,R,k);return _.inclusive?Y>=0:Y>0}(s.endAt,na(s),u)));var s,u}function Al(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Bl(l){return(n,i)=>{let s=!1;for(const u of na(l)){const f=Eu(u,n,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Eu(l,n,i){const s=l.field.isKeyField()?Pn.comparator(n.key,i.key):function(f,_,R){const k=_.data.field(f),Y=R.data.field(f);return null!==k&&null!==Y?ur(k,Y):Jt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Jt()}}class Ms{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){mo(this.inner,(i,s)=>{for(const[u,f]of s)n(u,f)})}isEmpty(){return jo(this.inner)}size(){return this.innerSize}}const lh=new Qr(Pn.comparator);function Qo(){return lh}const Iu=new Qr(Pn.comparator);function $l(...l){let n=Iu;for(const i of l)n=n.insert(i.key,i);return n}function ya(l){let n=Iu;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function Jo(){return ka()}function Na(){return ka()}function ka(){return new Ms(l=>l.toString(),(l,n)=>l.isEqual(n))}const Za=new Qr(Pn.comparator),Ws=new ri(Pn.comparator);function kr(...l){let n=Ws;for(const i of l)n=n.add(i);return n}const dc=new ri(Bn);function Mr(){return dc}function Ii(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ne(n)?"-0":n}}function Au(l){return{integerValue:""+l}}function La(l,n){return le(n)?Au(n):Ii(l,n)}class Fa{constructor(){this._=void 0}}function hc(l,n,i){return l instanceof zr?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ze(f)&&(f=_t(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(i,n):l instanceof As?oa(l,n):l instanceof Gi?bu(l,n):function(u,f){const _=Va(u,f),R=D(_)+D(u.Pe);return Xi(_)&&Xi(u.Pe)?Au(R):Ii(u.serializer,R)}(l,n)}function el(l,n,i){return l instanceof As?oa(l,n):l instanceof Gi?bu(l,n):i}function Va(l,n){return l instanceof tl?Xi(s=n)||(f=s)&&"doubleValue"in f?n:{integerValue:0}:null;var s,f}class zr extends Fa{}class As extends Fa{constructor(n){super(),this.elements=n}}function oa(l,n){const i=W(n);for(const s of l.elements)i.some(u=>Wn(u,s))||i.push(s);return{arrayValue:{values:i}}}class Gi extends Fa{constructor(n){super(),this.elements=n}}function bu(l,n){let i=W(n);for(const s of l.elements)i=i.filter(u=>!Wn(u,s));return{arrayValue:{values:i}}}class tl extends Fa{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function D(l){return V(l.integerValue||l.doubleValue)}function W(l){return Qn(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Be{constructor(n,i){this.field=n,this.transform=i}}class De{constructor(n,i){this.version=n,this.transformResults=i}}class Ge{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Ge}static exists(n){return new Ge(void 0,n)}static updateTime(n){return new Ge(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function sn(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class On{}function Rr(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new rs(l.key,Ge.none()):new gi(l.key,l.data,Ge.none());{const i=l.data,s=lo.empty();let u=new ri(Er.comparator);for(let f of n.fields)if(!u.has(f)){let _=i.field(f);null===_&&f.length>1&&(f=f.popLast(),_=i.field(f)),null===_?s.delete(f):s.set(f,_),u=u.add(f)}return new Jn(l.key,s,new ci(u.toArray()),Ge.none())}}function li(l,n,i){l instanceof gi?function(u,f,_){const R=u.value.clone(),k=Bi(u.fieldTransforms,f,_.transformResults);R.setAll(k),f.convertToFoundDocument(_.version,R).setHasCommittedMutations()}(l,n,i):l instanceof Jn?function(u,f,_){if(!sn(u.precondition,f))return void f.convertToUnknownDocument(_.version);const R=Bi(u.fieldTransforms,f,_.transformResults),k=f.data;k.setAll(Yo(u)),k.setAll(R),f.convertToFoundDocument(_.version,k).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Kr(l,n,i,s){return l instanceof gi?function(f,_,R,k){if(!sn(f.precondition,_))return R;const Y=f.value.clone(),Te=ns(f.fieldTransforms,k,_);return Y.setAll(Te),_.convertToFoundDocument(_.version,Y).setHasLocalMutations(),null}(l,n,i,s):l instanceof Jn?function(f,_,R,k){if(!sn(f.precondition,_))return R;const Y=ns(f.fieldTransforms,k,_),Te=_.data;return Te.setAll(Yo(f)),Te.setAll(Y),_.convertToFoundDocument(_.version,Te).setHasLocalMutations(),null===R?null:R.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(He=>He.field))}(l,n,i,s):(R=i,sn(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):R);var _,R}function Ur(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),f=Va(s.transform,u||null);null!=f&&(null===i&&(i=lo.empty()),i.set(s.field,f))}return i||null}function $r(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Wr(s,u,(f,_)=>function z(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof As&&u instanceof As||s instanceof Gi&&u instanceof Gi?Wr(s.elements,u.elements,Wn):s instanceof tl&&u instanceof tl?Wn(s.Pe,u.Pe):s instanceof zr&&u instanceof zr);var s,u}(f,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class gi extends On{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Jn extends On{constructor(n,i,s,u,f=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Yo(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function Bi(l,n,i){const s=new Map;Dt(l.length===i.length);for(let u=0;u<i.length;u++){const f=l[u],_=f.transform,R=n.data.field(f.field);s.set(f.field,el(_,R,i[u]))}return s}function ns(l,n,i){const s=new Map;for(const u of l){const f=u.transform,_=i.data.field(u.field);s.set(u.field,hc(f,_,n))}return s}class rs extends On{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gs extends On{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Os{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&li(f,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Kr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Kr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=Na();return this.mutations.forEach(u=>{const f=n.get(u.key),_=f.overlayedDocument;let R=this.applyToLocalView(_,f.mutatedFields);R=i.has(u.key)?null:R;const k=Rr(_,R);null!==k&&s.set(u.key,k),_.isValidDocument()||_.convertToNoDocument(qn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),kr())}isEqual(n){return this.batchId===n.batchId&&Wr(this.mutations,n.mutations,(i,s)=>$r(i,s))&&Wr(this.baseMutations,n.baseMutations,(i,s)=>$r(i,s))}}class Ea{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Dt(n.mutations.length===s.length);let u=function(){return Za}();const f=n.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,s[_].version);return new Ea(n,i,s,u)}}class Ks{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jl{constructor(n,i){this.count=n,this.unchangedNames=i}}var Io,oi;function bl(l){switch(l){default:return Jt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function is(l){if(void 0===l)return kn("GRPC error has no .code"),Le.UNKNOWN;switch(l){case Io.OK:return Le.OK;case Io.CANCELLED:return Le.CANCELLED;case Io.UNKNOWN:return Le.UNKNOWN;case Io.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Io.INTERNAL:return Le.INTERNAL;case Io.UNAVAILABLE:return Le.UNAVAILABLE;case Io.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Io.NOT_FOUND:return Le.NOT_FOUND;case Io.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Io.ABORTED:return Le.ABORTED;case Io.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Io.DATA_LOSS:return Le.DATA_LOSS;default:return Jt()}}(oi=Io||(Io={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";function xs(){return new TextEncoder}const fc=new pt([4294967295,4294967295],0);function Hl(l){const n=xs().encode(l),i=new kt;return i.update(n),new Uint8Array(i.digest())}function ad(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new pt([i,s],0),new pt([u,f],0)]}class pc{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new nl(`Invalid padding: ${i}`);if(s<0)throw new nl(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new nl(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=pt.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(pt.fromNumber(s)));return 1===u.compare(fc)&&(u=new pt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Hl(n),[s,u]=ad(i);for(let f=0;f<this.hashCount;f++){const _=this.Ee(s,u,f);if(!this.de(_))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),_=new pc(f,u,i);return s.forEach(R=>_.insert(R)),_}insert(n){if(0===this.Ie)return;const i=Hl(n),[s,u]=ad(i);for(let f=0;f<this.hashCount;f++){const _=this.Ee(s,u,f);this.Ae(_)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zl{constructor(n,i,s,u,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,vo.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new zl(qn.min(),u,new Qr(Bn),Qo(),kr())}}class vo{constructor(n,i,s,u,f){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new vo(s,i,kr(),kr(),kr())}}class Tl{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class eo{constructor(n,i){this.targetId=n,this.me=i}}class Ff{constructor(n,i,s=pe.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Cl{constructor(){this.fe=0,this.ge=qs(),this.pe=pe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=kr(),i=kr(),s=kr();return this.ge.forEach((u,f)=>{switch(f){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Jt()}}),new vo(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=qs()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aa{constructor(n){this.Le=n,this.Be=new Map,this.ke=Qo(),this.qe=Ai(),this.Qe=new Qr(Bn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:Jt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const f=u.target;if(cr(f))if(0===s){const _=new Pn(f.path);this.Ue(i,_,di.newNoDocument(_,qn.min()))}else Dt(1===s);else{const _=this.Ye(i);if(_!==s){const R=this.Ze(n),k=R?this.Xe(R,n,_):1;0!==k&&(this.je(i),this.Qe=this.Qe.insert(i,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let _,R;try{_=Ue(s).toUint8Array()}catch(k){if(k instanceof M)return Ht("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{R=new pc(_,u,f)}catch(k){return Ht(k instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===R.Ie?null:R}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const _=this.Le.tt(),R=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;n.mightContain(R)||(this.Ue(i,f,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((f,_)=>{const R=this.Je(_);if(R){if(f.current&&cr(R.target)){const k=new Pn(R.target.path);null!==this.ke.get(k)||this.it(_,k)||this.Ue(_,k,di.newNoDocument(k,n))}f.be&&(i.set(_,f.ve()),f.Ce())}});let s=kr();this.qe.forEach((f,_)=>{let R=!0;_.forEachWhile(k=>{const Y=this.Je(k);return!Y||"TargetPurposeLimboResolution"===Y.purpose||(R=!1,!1)}),R&&(s=s.add(f))}),this.ke.forEach((f,_)=>_.setReadTime(n));const u=new zl(n,i,this.Qe,this.ke,s);return this.ke=Qo(),this.qe=Ai(),this.Qe=new Qr(Bn),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new Cl,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new ri(Bn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||xt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new Cl),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function Ai(){return new Qr(Pn.comparator)}function qs(){return new Qr(Pn.comparator)}const ch={asc:"ASCENDING",desc:"DESCENDING"},Tu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cu={and:"AND",or:"OR"};class Dl{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ns(l,n){return l.useProto3Json||Me(n)?n:{value:n}}function Go(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Gl(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function gc(l,n){return Go(l,n.toTimestamp())}function uo(l){return Dt(!!l),qn.fromTimestamp(function(i){const s=T(i);return new nr(s.seconds,s.nanos)}(l))}function Wl(l,n){return Ia(l,n).canonicalString()}function Ia(l,n){const i=(u=l,new Xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function mc(l){const n=Xn.fromString(l);return Dt(Ao(n)),n}function Aa(l,n){return Wl(l.databaseId,n.path)}function Xs(l,n){const i=mc(n);if(i.get(1)!==l.databaseId.projectId)throw new qe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new qe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new Pn(ks(i))}function vc(l,n){return Wl(l.databaseId,n)}function dh(l){const n=mc(l);return 4===n.length?Xn.emptyPath():ks(n)}function hh(l){return new Xn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function ks(l){return Dt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function fh(l,n,i){return{name:Aa(l,n),fields:i.value.mapValue.fields}}function ld(l,n,i){const s=Xs(l,n.name),u=uo(n.updateTime),f=n.createTime?uo(n.createTime):qn.min(),_=new lo({mapValue:{fields:n.fields}}),R=di.newFoundDocument(s,u,f,_);return i&&R.setHasCommittedMutations(),i?R.setHasCommittedMutations():R}function L(l,n){let i;if(n instanceof gi)i={update:fh(l,n.key,n.value)};else if(n instanceof rs)i={delete:Aa(l,n.key)};else if(n instanceof Jn)i={update:fh(l,n.key,n.data),updateMask:So(n.fieldMask)};else{if(!(n instanceof gs))return Jt();i={verify:Aa(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(f,_){const R=_.transform;if(R instanceof zr)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof As)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Gi)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof tl)return{fieldPath:_.field.canonicalString(),increment:R.Pe};throw Jt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:gc(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Jt()),i;var f}function S(l,n){const i=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?Ge.updateTime(uo(f.updateTime)):void 0!==f.exists?Ge.exists(f.exists):Ge.none():Ge.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(_,R){let k=null;"setToServerValue"in R?(Dt("REQUEST_TIME"===R.setToServerValue),k=new zr):"appendMissingElements"in R?k=new As(R.appendMissingElements.values||[]):"removeAllFromArray"in R?k=new Gi(R.removeAllFromArray.values||[]):"increment"in R?k=new tl(_,R.increment):Jt();const Y=Er.fromServerFormat(R.fieldPath);return new Be(Y,k)}(l,u)):[];var f;if(n.update){const u=Xs(l,n.update.name),f=new lo({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new ci((n.updateMask.fieldPaths||[]).map(Te=>Er.fromServerFormat(Te)));return new Jn(u,f,_,i,s)}return new gi(u,f,i,s)}if(n.delete){const u=Xs(l,n.delete);return new rs(u,i)}if(n.verify){const u=Xs(l,n.verify);return new gs(u,i)}return Jt()}function Ie(l,n){return{documents:[vc(l,n.path)]}}function Se(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=vc(l,u);const f=function(Y){if(0!==Y.length)return Si(H.create(Y,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const _=function(Y){if(0!==Y.length)return Y.map(Te=>{return{field:$i((Et=Te).field),direction:Or(Et.dir)};var Et})}(n.orderBy);_&&(i.structuredQuery.orderBy=_);const R=Ns(l,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(Y=n.startAt).inclusive,values:Y.position}),n.endAt&&(i.structuredQuery.endAt=function(Y){return{before:!Y.inclusive,values:Y.position}}(n.endAt)),{_t:i,parent:u};var Y}function vn(l){let n=dh(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Dt(1===s);const Te=i.from[0];Te.allDescendants?u=Te.collectionId:n=n.child(Te.collectionId)}let f=[];i.where&&(f=function(He){const Et=er(He);return Et instanceof H&&Ce(Et)?Et.getFilters():[Et]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Et=>{return new re(Tr((_n=Et).field),function(Nn){switch(Nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_n.direction));var _n}));let R=null;i.limit&&(R=function(He){let Et;return Et="object"==typeof He?He.value:He,Me(Et)?null:Et}(i.limit));let k=null;var He;i.startAt&&(k=new Ui((He=i.startAt).values||[],!!He.before));let Y=null;return i.endAt&&(Y=function(He){return new Ui(He.values||[],!He.before)}(i.endAt)),Ma(n,u,_,f,R,"F",k,Y)}function er(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Tr(i.unaryFilter.field);return b.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Tr(i.unaryFilter.field);return b.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Tr(i.unaryFilter.field);return b.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Tr(i.unaryFilter.field);return b.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}(l):void 0!==l.fieldFilter?b.create(Tr((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return H.create(i.compositeFilter.filters.map(s=>er(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Jt()}}(i.compositeFilter.op))}(l):Jt();var i}function Or(l){return ch[l]}function bi(l){return Tu[l]}function jr(l){return Cu[l]}function $i(l){return{fieldPath:l.canonicalString()}}function Tr(l){return Er.fromServerFormat(l.fieldPath)}function Si(l){return l instanceof b?function(i){if("=="===i.op){if(Oo(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NAN"}};if(so(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Oo(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NOT_NAN"}};if(so(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(i.field),op:bi(i.op),value:i.value}}}(l):l instanceof H?function(i){const s=i.getFilters().map(u=>Si(u));return 1===s.length?s[0]:{compositeFilter:{op:jr(i.op),filters:s}}}(l):Jt()}function So(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Ao(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Qi{constructor(n,i,s,u,f=qn.min(),_=qn.min(),R=pe.EMPTY_BYTE_STRING,k=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=R,this.expectedCount=k}withSequenceNumber(n){return new Qi(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class rl{constructor(n){this.ct=n}}function il(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:la(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:Aa(f=l.ct,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:Go(f,_.version.toTimestamp()),createTime:Go(f,_.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:ol(n.version)};else{if(!n.isUnknownDocument())return Jt();s.unknownDocument={path:i.path.toArray(),version:ol(n.version)}}var f,_;return s}function la(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function ol(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function ba(l){const n=new nr(l.seconds,l.nanoseconds);return qn.fromTimestamp(n)}function sl(l,n){const i=(n.baseMutations||[]).map(f=>S(l.ct,f));for(let f=0;f<n.mutations.length-1;++f)f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(n.mutations[f].updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f);const s=n.mutations.map(f=>S(l.ct,f)),u=nr.fromMillis(n.localWriteTimeMs);return new Os(n.batchId,u,i,s)}function Kl(l){const n=ba(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?ba(l.lastLimboFreeSnapshotVersion):qn.min();let s;return s=void 0!==l.query.documents?(Dt(1===(f=l.query).documents.length),$o(Xo(dh(f.documents[0])))):function(f){return $o(vn(f))}(l.query),new Qi(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,pe.fromBase64String(l.resumeToken));var f}function al(l,n){const i=ol(n.snapshotVersion),s=ol(n.lastLimboFreeSnapshotVersion);let u;u=cr(n.target)?Ie(l.ct,n.target):Se(l.ct,n.target)._t;const f=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ve(n.target),readTime:i,resumeToken:f,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function wl(l){const n=vn({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?Ya(n,n.limit,"L"):n}function Vf(l,n){return new Ks(n.largestBatchId,S(l.ct,n.overlayMutation))}function ud(l,n){const i=n.path.lastSegment();return[l,Ne(n.path.popLast()),i]}function Uf(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:ol(s.readTime),documentKey:Ne(s.documentKey.path),largestBatchId:s.largestBatchId}}class _c{getBundleMetadata(n,i){return cd(n).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:ba(f.createTime),version:f.version};var f})}saveBundleMetadata(n,i){return cd(n).put({bundleId:(u=i).id,createTime:ol(uo(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return ph(n).get(i).next(s=>{if(s)return{name:(f=s).name,query:wl(f.bundledQuery),readTime:ba(f.readTime)};var f})}saveNamedQuery(n,i){return ph(n).put({name:(u=i).name,readTime:ol(uo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function cd(l){return pi(l,"bundles")}function ph(l){return pi(l,"namedQueries")}class Ua{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Ua(n,i.uid||"")}getOverlay(n,i){return ql(n).get(ud(this.userId,i)).next(s=>s?Vf(this.serializer,s):null)}getOverlays(n,i){const s=Jo();return vt.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((f,_)=>{const R=new Ks(i,_);u.push(this.ht(n,R))}),vt.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(_=>u.add(Ne(_.getCollectionPath())));const f=[];return u.forEach(_=>{const R=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);f.push(ql(n).j("collectionPathOverlayIndex",R))}),vt.waitFor(f)}getOverlaysForCollection(n,i,s){const u=Jo(),f=Ne(i),_=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ql(n).U("collectionPathOverlayIndex",_).next(R=>{for(const k of R){const Y=Vf(this.serializer,k);u.set(Y.getKey(),Y)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const f=Jo();let _;const R=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ql(n).J({index:"collectionGroupOverlayIndex",range:R},(k,Y,Te)=>{const He=Vf(this.serializer,Y);f.size()<u||He.largestBatchId===_?(f.set(He.getKey(),He),_=He.largestBatchId):Te.done()}).next(()=>f)}ht(n,i){return ql(n).put(function(u,f,_){const[R,k,Y]=ud(f,_.mutation.key);return{userId:f,collectionPath:k,documentId:Y,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:L(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function ql(l){return pi(l,"documentOverlays")}class gh{Pt(n){return pi(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?pe.fromUint8Array(s):pe.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class ua{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(V(n.integerValue));else if("doubleValue"in n){const s=V(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ne(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=T(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(Ue(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?xo(n)?this.dt(i,Number.MAX_SAFE_INTEGER):hs(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Jt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const f=n.fields||{};this.dt(i,53);const _="value",R=(null===(u=null===(s=f[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(V(R)),this.Vt(_,i),this.Tt(f[_],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),Pn.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Vg(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function wu(l){const n=64-function(s){let u=0;for(let f=0;f<8;++f){const _=Vg(255&s[f]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(n/8)}ua.vt=new ua;class Su{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=wu(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=wu(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class ca{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Ba{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Xl{constructor(){this.jt=new Su,this.Ht=new ca(this.jt),this.Jt=new Ba(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Ql{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new Ql(this.indexId,this.documentKey,this.arrayValue,s)}}function $a(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=yc(l.arrayValue,n.arrayValue),0!==i?i:(i=yc(l.directionalValue,n.directionalValue),0!==i?i:Pn.comparator(l.documentKey,n.documentKey)))}function yc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class ll{constructor(n){this.Xt=new ri((i,s)=>Er.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(Dt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=$t(n);if(void 0!==i&&!this.sn(i))return!1;const s=bt(n);let u=new Set,f=0,_=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const R=this.Xt.getIterator().getNext();if(!u.has(R.field.canonicalString())){const k=s[f];if(!this.on(R,k)||!this._n(this.en[_++],k))return!1}++f}for(;f<s.length;++f)if(_>=this.en.length||!this._n(this.en[_++],s[f]))return!1;return!0}an(){if(this.nn)return null;let n=new ri(Er.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new ut(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new ut(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new ut(s.field,"asc"===s.dir?0:1)));return new si(si.UNKNOWN_ID,this.collectionId,i,Z.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Bf(l){var n,i;if(Dt(l instanceof b||l instanceof H),l instanceof b){if(l instanceof Bo){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(f=>b.create(l.field,"==",f)))||[];return H.create(u,"or")}return l}const s=l.filters.map(u=>Bf(u));return H.create(s,l.op)}function $f(l){if(0===l.getFilters().length)return[];const n=hd(Bf(l));return Dt(jf(n)),dd(n)||Ru(n)?[n]:n.getFilters()}function dd(l){return l instanceof b}function Ru(l){return l instanceof H&&Ce(l)}function jf(l){return dd(l)||Ru(l)||function(i){if(i instanceof H&&be(i)){for(const s of i.getFilters())if(!dd(s)&&!Ru(s))return!1;return!0}return!1}(l)}function hd(l){if(Dt(l instanceof b||l instanceof H),l instanceof b)return l;if(1===l.filters.length)return hd(l.filters[0]);const n=l.filters.map(s=>hd(s));let i=H.create(n,l.op);return i=fd(i),jf(i)?i:(Dt(i instanceof H),Dt(ce(i)),Dt(i.filters.length>1),i.filters.reduce((s,u)=>Jl(s,u)))}function Jl(l,n){let i;return Dt(l instanceof b||l instanceof H),Dt(n instanceof b||n instanceof H),i=l instanceof b?n instanceof b?H.create([l,n],"and"):Yl(l,n):n instanceof b?Yl(n,l):function(u,f){if(Dt(u.filters.length>0&&f.filters.length>0),ce(u)&&ce(f))return Tn(u,f.getFilters());const _=be(u)?u:f,R=be(u)?f:u,k=_.filters.map(Y=>Jl(Y,R));return H.create(k,"or")}(l,n),fd(i)}function Yl(l,n){if(ce(n))return Tn(n,l.getFilters());{const i=n.filters.map(s=>Jl(l,s));return H.create(i,"or")}}function fd(l){if(Dt(l instanceof b||l instanceof H),l instanceof b)return l;const n=l.getFilters();if(1===n.length)return fd(n[0]);if(lt(l))return l;const i=n.map(u=>fd(u)),s=[];return i.forEach(u=>{u instanceof b?s.push(u):u instanceof H&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:H.create(s,l.op)}class mh{constructor(){this.un=new No}addToCollectionParentIndex(n,i){return this.un.add(i),vt.resolve()}getCollectionParents(n,i){return vt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return vt.resolve()}deleteFieldIndex(n,i){return vt.resolve()}deleteAllFieldIndexes(n){return vt.resolve()}createTargetIndexes(n,i){return vt.resolve()}getDocumentsMatchingTarget(n,i){return vt.resolve(null)}getIndexType(n,i){return vt.resolve(0)}getFieldIndexes(n,i){return vt.resolve([])}getNextCollectionGroupToUpdate(n){return vt.resolve(null)}getMinOffset(n,i){return vt.resolve(Xe.min())}getMinOffsetFromCollectionGroup(n,i){return vt.resolve(Xe.min())}updateCollectionGroup(n,i,s){return vt.resolve()}updateIndexEntries(n,i){return vt.resolve()}}class No{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new ri(Xn.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new ri(Xn.comparator)).toArray()}}const Ec=new Uint8Array(0);class vh{constructor(n,i){this.databaseId=i,this.cn=new No,this.ln=new Ms(s=>ve(s),(s,u)=>yn(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:s,parent:Ne(u)};return Pu(n).put(f)}return vt.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[Yn(i),""],!1,!0);return Pu(n).U(u).next(f=>{for(const _ of f){if(_.collectionId!==i)break;s.push(gn(_.parent))}return s})}addFieldIndex(n,i){const s=Zl(n),u={indexId:(R=i).indexId,collectionGroup:R.collectionGroup,fields:R.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var R;delete u.indexId;const f=s.add(u);if(i.indexState){const _=Rl(n);return f.next(R=>{_.put(Uf(R,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(n,i){const s=Zl(n),u=Rl(n),f=Sl(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=Zl(n),s=Sl(n),u=Rl(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return vt.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const f=new ll(s).an();if(null!=f)return this.addFieldIndex(n,f)}}))}getDocumentsMatchingTarget(n,i){const s=Sl(n);let u=!0;const f=new Map;return vt.forEach(this.hn(i),_=>this.Pn(n,_).next(R=>{u&&(u=!!R),f.set(_,R)})).next(()=>{if(u){let _=kr();const R=[];return vt.forEach(f,(k,Y)=>{var Cr;xt("IndexedDbIndexManager",`Using index ${Cr=k,`id=${Cr.indexId}|cg=${Cr.collectionGroup}|f=${Cr.fields.map(Gr=>`${Gr.fieldPath}:${Gr.kind}`).join(",")}`} to execute ${ve(i)}`);const Te=function(Cr,Gr){const Li=$t(Gr);if(void 0===Li)return null;for(const Yr of ki(Cr,Li.fieldPath))switch(Yr.op){case"array-contains-any":return Yr.value.arrayValue.values||[];case"array-contains":return[Yr.value]}return null}(Y,k),He=function(Cr,Gr){const Li=new Map;for(const Yr of bt(Gr))for(const Ut of ki(Cr,Yr.fieldPath))switch(Ut.op){case"==":case"in":Li.set(Yr.fieldPath.canonicalString(),Ut.value);break;case"not-in":case"!=":return Li.set(Yr.fieldPath.canonicalString(),Ut.value),Array.from(Li.values())}return null}(Y,k),Et=function(Cr,Gr){const Li=[];let Yr=!0;for(const Ut of bt(Gr)){const ht=0===Ut.kind?wo(Cr,Ut.fieldPath,Cr.startAt):Eo(Cr,Ut.fieldPath,Cr.startAt);Li.push(ht.value),Yr&&(Yr=ht.inclusive)}return new Ui(Li,Yr)}(Y,k),Yt=function(Cr,Gr){const Li=[];let Yr=!0;for(const Ut of bt(Gr)){const ht=0===Ut.kind?Eo(Cr,Ut.fieldPath,Cr.endAt):wo(Cr,Ut.fieldPath,Cr.endAt);Li.push(ht.value),Yr&&(Yr=ht.inclusive)}return new Ui(Li,Yr)}(Y,k),_n=this.In(k,Y,Et),xn=this.In(k,Y,Yt),Nn=this.Tn(k,Y,He),vr=this.En(k.indexId,Te,_n,Et.inclusive,xn,Yt.inclusive,Nn);return vt.forEach(vr,Sr=>s.G(Sr,i.limit).next(Cr=>{Cr.forEach(Gr=>{const Li=Pn.fromSegments(Gr.documentKey);_.has(Li)||(_=_.add(Li),R.push(Li))})}))}).next(()=>R)}return vt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:$f(H.create(n.filters,"and")).map(s=>j(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,f,_,R){const k=(null!=i?i.length:1)*Math.max(s.length,f.length),Y=k/(null!=i?i.length:1),Te=[];for(let He=0;He<k;++He){const Et=i?this.dn(i[He/Y]):Ec,Yt=this.An(n,Et,s[He%Y],u),_n=this.Rn(n,Et,f[He%Y],_),xn=R.map(Nn=>this.An(n,Et,Nn,!0));Te.push(...this.createRange(Yt,_n,xn))}return Te}An(n,i,s,u){const f=new Ql(n,Pn.empty(),i,s);return u?f:f.Zt()}Rn(n,i,s,u){const f=new Ql(n,Pn.empty(),i,s);return u?f.Zt():f}Pn(n,i){const s=new ll(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(f=>{let _=null;for(const R of f)s.rn(R)&&(!_||R.fields.length>_.fields.length)&&(_=R);return _})}getIndexType(n,i){let s=2;const u=this.hn(i);return vt.forEach(u,f=>this.Pn(n,f).next(_=>{_?0!==s&&_.fields.length<function(k){let Y=new ri(Er.comparator),Te=!1;for(const He of k.filters)for(const Et of He.getFlattenedFilters())Et.field.isKeyField()||("array-contains"===Et.op||"array-contains-any"===Et.op?Te=!0:Y=Y.add(Et.field));for(const He of k.orderBy)He.field.isKeyField()||(Y=Y.add(He.field));return Y.size+(Te?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new Xl;for(const u of bt(n)){const f=i.data.field(u.fieldPath);if(null==f)return null;const _=s.Yt(u.kind);ua.vt.It(f,_)}return s.zt()}dn(n){const i=new Xl;return ua.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new Xl;return ua.vt.It(Ho(this.databaseId,i),s.Yt(function(f){const _=bt(f);return 0===_.length?0:_[_.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new Xl);let f=0;for(const _ of bt(n)){const R=s[f++];for(const k of u)if(this.fn(i,_.fieldPath)&&Qn(R))u=this.gn(u,_,R);else{const Y=k.Yt(_.kind);ua.vt.It(R,Y)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],f=[];for(const _ of s.arrayValue.values||[])for(const R of u){const k=new Xl;k.seed(R.zt()),ua.vt.It(_,k.Yt(i.kind)),f.push(k)}return f}fn(n,i){return!!n.filters.find(s=>s instanceof b&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=Zl(n),u=Rl(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const _=[];return vt.forEach(f,R=>u.get([R.indexId,this.uid]).next(k=>{_.push(function(Te,He){const Et=He?new Z(He.sequenceNumber,new Xe(ba(He.readTime),new Pn(gn(He.documentKey)),He.largestBatchId)):Z.empty(),Yt=Te.fields.map(([_n,xn])=>new ut(Er.fromServerFormat(_n),xn));return new si(Te.indexId,Te.collectionGroup,Yt,Et)}(R,k))})).next(()=>_)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Bn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=Zl(n),f=Rl(n);return this.yn(n).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(R=>vt.forEach(R,k=>f.put(Uf(k.indexId,this.uid,_,s)))))}updateIndexEntries(n,i){const s=new Map;return vt.forEach(i,(u,f)=>{const _=s.get(u.collectionGroup);return(_?vt.resolve(_):this.getFieldIndexes(n,u.collectionGroup)).next(R=>(s.set(u.collectionGroup,R),vt.forEach(R,k=>this.wn(n,u,k).next(Y=>{const Te=this.Sn(f,k);return Y.isEqual(Te)?vt.resolve():this.bn(n,f,k,Y,Te)}))))})}Dn(n,i,s,u){return Sl(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return Sl(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=Sl(n);let f=new ri($a);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,R)=>{f=f.add(new Ql(s.indexId,i,R.arrayValue,R.directionalValue))}).next(()=>f)}Sn(n,i){let s=new ri($a);const u=this.Vn(i,n);if(null==u)return s;const f=$t(i);if(null!=f){const _=n.data.field(f.fieldPath);if(Qn(_))for(const R of _.arrayValue.values||[])s=s.add(new Ql(i.indexId,n.key,this.dn(R),u))}else s=s.add(new Ql(i.indexId,n.key,Ec,u));return s}bn(n,i,s,u,f){xt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(k,Y,Te,He,Et){const Yt=k.getIterator(),_n=Y.getIterator();let xn=Fo(Yt),Nn=Fo(_n);for(;xn||Nn;){let vr=!1,Sr=!1;if(xn&&Nn){const Cr=Te(xn,Nn);Cr<0?Sr=!0:Cr>0&&(vr=!0)}else null!=xn?Sr=!0:vr=!0;vr?(He(Nn),Nn=Fo(_n)):Sr?(Et(xn),xn=Fo(Yt)):(xn=Fo(Yt),Nn=Fo(_n))}}(u,f,$a,R=>{_.push(this.Dn(n,i,s,R))},R=>{_.push(this.vn(n,i,s,R))}),vt.waitFor(_)}yn(n){let i=1;return Rl(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((_,R)=>$a(_,R)).filter((_,R,k)=>!R||0!==$a(_,k[R-1]));const u=[];u.push(n);for(const _ of s){const R=$a(_,n),k=$a(_,i);if(0===R)u[0]=n.Zt();else if(R>0&&k<0)u.push(_),u.push(_.Zt());else if(k>0)break}u.push(i);const f=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];f.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Ec,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Ec,[]]))}return f}Cn(n,i){return $a(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(_h)}getMinOffset(n,i){return vt.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||Jt())).next(_h)}}function Pu(l){return pi(l,"collectionParents")}function Sl(l){return pi(l,"indexEntries")}function Zl(l){return pi(l,"indexConfiguration")}function Rl(l){return pi(l,"indexState")}function _h(l){Dt(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;et(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Xe(n.readTime,n.documentKey,i)}const pd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new ms(n,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ic(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),f=[],_=IDBKeyRange.only(i.batchId);let R=0;const k=s.J({range:_},(Te,He,Et)=>(R++,Et.delete()));f.push(k.next(()=>{Dt(1===R)}));const Y=[];for(const Te of i.mutations){const He=Nt(n,Te.key.path,i.batchId);f.push(u.delete(He)),Y.push(Te.key)}return vt.waitFor(f).next(()=>Y)}function Pl(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw Jt();n=l.noDocument}return JSON.stringify(n).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class to{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){Dt(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new to(f,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mr(n).J({index:"userMutationsIndex",range:s},(u,f,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const f=no(n),_=mr(n);return _.add({}).next(R=>{Dt("number"==typeof R);const k=new Os(R,i,s,u),Y=function(Yt,_n,xn){const Nn=xn.baseMutations.map(Sr=>L(Yt.ct,Sr)),vr=xn.mutations.map(Sr=>L(Yt.ct,Sr));return{userId:_n,batchId:xn.batchId,localWriteTimeMs:xn.localWriteTime.toMillis(),baseMutations:Nn,mutations:vr}}(this.serializer,this.userId,k),Te=[];let He=new ri((Et,Yt)=>Bn(Et.canonicalString(),Yt.canonicalString()));for(const Et of u){const Yt=Nt(this.userId,Et.key.path,R);He=He.add(Et.key.path.popLast()),Te.push(_.put(Y)),Te.push(f.put(Yt,wt))}return He.forEach(Et=>{Te.push(this.indexManager.addToCollectionParentIndex(n,Et))}),n.addOnCommittedListener(()=>{this.Fn[R]=k.keys()}),vt.waitFor(Te).next(()=>k)})}lookupMutationBatch(n,i){return mr(n).get(i).next(s=>s?(Dt(s.userId===this.userId),sl(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?vt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return mr(n).J({index:"userMutationsIndex",range:u},(_,R,k)=>{R.userId===this.userId&&(Dt(R.batchId>=s),f=sl(this.serializer,R)),k.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return mr(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,_)=>{s=f.batchId,_.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mr(n).U("userMutationsIndex",i).next(s=>s.map(u=>sl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=$e(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return no(n).J({range:u},(_,R,k)=>{const[Y,Te,He]=_,Et=gn(Te);if(Y===this.userId&&i.path.isEqual(Et))return mr(n).get(He).next(Yt=>{if(!Yt)throw Jt();Dt(Yt.userId===this.userId),f.push(sl(this.serializer,Yt))});k.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new ri(Bn);const u=[];return i.forEach(f=>{const _=$e(this.userId,f.path),R=IDBKeyRange.lowerBound(_),k=no(n).J({range:R},(Y,Te,He)=>{const[Et,Yt,_n]=Y,xn=gn(Yt);Et===this.userId&&f.path.isEqual(xn)?s=s.add(_n):He.done()});u.push(k)}),vt.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,f=$e(this.userId,s),_=IDBKeyRange.lowerBound(f);let R=new ri(Bn);return no(n).J({range:_},(k,Y,Te)=>{const[He,Et,Yt]=k,_n=gn(Et);He===this.userId&&s.isPrefixOf(_n)?_n.length===u&&(R=R.add(Yt)):Te.done()}).next(()=>this.xn(n,R))}xn(n,i){const s=[],u=[];return i.forEach(f=>{u.push(mr(n).get(f).next(_=>{if(null===_)throw Jt();Dt(_.userId===this.userId),s.push(sl(this.serializer,_))}))}),vt.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return Ic(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),vt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return vt.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return no(n).J({range:s},(f,_,R)=>{if(f[0]===this.userId){const k=gn(f[1]);u.push(k)}else R.done()}).next(()=>{Dt(0===u.length)})})}containsKey(n,i){return Kn(n,this.userId,i)}Nn(n){return da(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kn(l,n,i){const s=$e(n,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let _=!1;return no(l).J({range:f,H:!0},(R,k,Y)=>{const[Te,He,Et]=R;Te===n&&He===u&&(_=!0),Y.done()}).next(()=>_)}function mr(l){return pi(l,"mutations")}function no(l){return pi(l,"documentMutations")}function da(l){return pi(l,"mutationQueues")}class Ro{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ro(0)}static kn(){return new Ro(-1)}}class bs{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new Ro(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>qn.fromTimestamp(new nr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>Ls(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(Dt(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const f=[];return Ls(n).J((_,R)=>{const k=Kl(R);k.sequenceNumber<=i&&null===s.get(k.targetId)&&(u++,f.push(this.removeTargetData(n,k)))}).next(()=>vt.waitFor(f)).next(()=>u)}forEachTarget(n,i){return Ls(n).J((s,u)=>{const f=Kl(u);i(f)})}qn(n){return ro(n).get("targetGlobalKey").next(i=>(Dt(null!==i),i))}Qn(n,i){return ro(n).put("targetGlobalKey",i)}Kn(n,i){return Ls(n).put(al(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=ve(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Ls(n).J({range:u,index:"queryTargetsIndex"},(_,R,k)=>{const Y=Kl(R);yn(i,Y.target)&&(f=Y,k.done())}).next(()=>f)}addMatchingKeys(n,i,s){const u=[],f=io(n);return i.forEach(_=>{const R=Ne(_.path);u.push(f.put({targetId:s,path:R})),u.push(this.referenceDelegate.addReference(n,s,_))}),vt.waitFor(u)}removeMatchingKeys(n,i,s){const u=io(n);return vt.forEach(i,f=>{const _=Ne(f.path);return vt.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(n,s,f)])})}removeMatchingKeysForTargetId(n,i){const s=io(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=io(n);let f=kr();return u.J({range:s,H:!0},(_,R,k)=>{const Y=gn(_[1]),Te=new Pn(Y);f=f.add(Te)}).next(()=>f)}containsKey(n,i){const s=Ne(i.path),u=IDBKeyRange.bound([s],[Yn(s)],!1,!0);let f=0;return io(n).J({index:"documentTargetsIndex",H:!0,range:u},([_,R],k,Y)=>{0!==_&&(f++,Y.done())}).next(()=>f>0)}ot(n,i){return Ls(n).get(i).next(s=>s?Kl(s):null)}}function Ls(l){return pi(l,"targets")}function ro(l){return pi(l,"targetGlobal")}function io(l){return pi(l,"targetDocuments")}function ha([l,n],[i,s]){const u=Bn(l,i);return 0===u?Bn(n,s):u}class Hr{constructor(n){this.Un=n,this.buffer=new ri(ha),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ha(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ul{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;xt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ee.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Xr(s)?xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Zn(s)}yield i.Hn(3e5)}))}}class Hf{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return vt.resolve(q.oe);const s=new Hr(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(pd)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pd):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,f,_,R,k,Y;const Te=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),u=this.params.maximumSequenceNumbersToCollect):u=He,_=Date.now(),this.nthSequenceNumber(n,u))).next(He=>(s=He,R=Date.now(),this.removeTargets(n,s,i))).next(He=>(f=He,k=Date.now(),this.removeOrphanedDocuments(n,s))).next(He=>(Y=Date.now(),Ft()<=Je.$b.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Te}ms\n\tDetermined least recently used ${u} in `+(R-_)+`ms\n\tRemoved ${f} targets in `+(k-R)+`ms\n\tRemoved ${He} documents in `+(Y-k)+`ms\nTotal Duration: ${Y-Te}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:He})))}}class bo{constructor(n,i){this.db=n,this.garbageCollector=function eu(l,n){return new Hf(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return ja(n,s)}removeReference(n,i,s){return ja(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return ja(n,i)}nr(n,i){return function(u,f){let _=!1;return da(u).Y(R=>Kn(u,R,f).next(k=>(k&&(_=!0),vt.resolve(!k)))).next(()=>_)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(n,(_,R)=>{if(R<=i){const k=this.nr(n,_).next(Y=>{if(!Y)return f++,s.getEntry(n,_).next(()=>(s.removeEntry(_,qn.min()),io(n).delete([0,Ne(_.path)])))});u.push(k)}}).next(()=>vt.waitFor(u)).next(()=>s.apply(n)).next(()=>f)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return ja(n,i)}tr(n,i){const s=io(n);let u,f=q.oe;return s.J({index:"documentTargetsIndex"},([_,R],{path:k,sequenceNumber:Y})=>{0===_?(f!==q.oe&&i(new Pn(gn(u)),f),f=Y,u=k):f=q.oe}).next(()=>{f!==q.oe&&i(new Pn(gn(u)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function ja(l,n){return io(l).put((u=l.currentSequenceNumber,{targetId:0,path:Ne(n.path),sequenceNumber:u}));var u}class tu{constructor(){this.changes=new Ms(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,di.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?vt.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ha{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Ca(n).put(s)}removeEntry(n,i,s){return Ca(n).delete(function(f,_){const R=f.path.toArray();return[R.slice(0,R.length-2),R[R.length-2],la(_),R[R.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=di.newInvalidDocument(i);return Ca(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(vs(i))},(u,f)=>{s=this.ir(i,f)}).next(()=>s)}sr(n,i){let s={size:0,document:di.newInvalidDocument(i)};return Ca(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(vs(i))},(u,f)=>{s={document:this.ir(i,f),size:Pl(f)}}).next(()=>s)}getEntries(n,i){let s=Qo();return this._r(n,i,(u,f)=>{const _=this.ir(u,f);s=s.insert(u,_)}).next(()=>s)}ar(n,i){let s=Qo(),u=new Qr(Pn.comparator);return this._r(n,i,(f,_)=>{const R=this.ir(f,_);s=s.insert(f,R),u=u.insert(f,Pl(_))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return vt.resolve();let u=new ri(gd);i.forEach(k=>u=u.add(k));const f=IDBKeyRange.bound(vs(u.first()),vs(u.last())),_=u.getIterator();let R=_.getNext();return Ca(n).J({index:"documentKeyIndex",range:f},(k,Y,Te)=>{const He=Pn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;R&&gd(R,He)<0;)s(R,null),R=_.getNext();R&&R.isEqual(He)&&(s(R,Y),R=_.hasNext()?_.getNext():null),R?Te.$(vs(R)):Te.done()}).next(()=>{for(;R;)s(R,null),R=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,f){const _=i.path,R=[_.popLast().toArray(),_.lastSegment(),la(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],k=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(n).U(IDBKeyRange.bound(R,k,!0)).next(Y=>{null==f||f.incrementDocumentReadCount(Y.length);let Te=Qo();for(const He of Y){const Et=this.ir(Pn.fromSegments(He.prefixPath.concat(He.collectionGroup,He.documentId)),He);Et.isFoundDocument()&&(xa(i,Et)||u.has(Et.key))&&(Te=Te.insert(Et.key,Et))}return Te})}getAllFromCollectionGroup(n,i,s,u){let f=Qo();const _=_r(i,s),R=_r(i,Xe.max());return Ca(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,R,!0)},(k,Y,Te)=>{const He=this.ir(Pn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);f=f.insert(He.key,He),f.size===u&&Te.done()}).next(()=>f)}newChangeBuffer(n){return new zf(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Ta(n).get("remoteDocumentGlobalKey").next(i=>(Dt(!!i),i))}rr(n,i){return Ta(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function Du(l,n){let i;if(n.document)i=ld(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=Pn.fromSegments(n.noDocument.path),u=ba(n.noDocument.readTime);i=di.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Jt();{const s=Pn.fromSegments(n.unknownDocument.path),u=ba(n.unknownDocument.version);i=di.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const f=new nr(u[0],u[1]);return qn.fromTimestamp(f)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(qn.min()))return s}return di.newInvalidDocument(n)}}function nu(l){return new Ha(l)}class zf extends tu{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Ms(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new ri((f,_)=>Bn(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const R=this.lr.get(f);if(i.push(this.cr.removeEntry(n,f,R.readTime)),_.isValidDocument()){const k=il(this.cr.serializer,_);u=u.add(f.path.popLast());const Y=Pl(k);s+=Y-R.size,i.push(this.cr.addEntry(n,f,k))}else if(s-=R.size,this.trackRemovals){const k=il(this.cr.serializer,_.convertToNoDocument(qn.min()));i.push(this.cr.addEntry(n,f,k))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,f))}),i.push(this.cr.updateMetadata(n,s)),vt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((f,_)=>{this.lr.set(f,{size:_,readTime:s.get(f).readTime})}),s))}}function Ta(l){return pi(l,"remoteDocumentGlobal")}function Ca(l){return pi(l,"remoteDocumentsV14")}function vs(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function _r(l,n){const i=n.documentKey.path.toArray();return[l,la(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function gd(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=Bn(i[f],s[f]),u)return u;return u=Bn(i.length,s.length),u||(u=Bn(i[i.length-2],s[s.length-2]),u||Bn(i[i.length-1],s[s.length-1]))}class Ac{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class fa{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Kr(s.mutation,u,ci.empty(),nr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,kr()).next(()=>s))}getLocalViewOfDocuments(n,i,s=kr()){const u=Jo();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(f=>{let _=$l();return f.forEach((R,k)=>{_=_.insert(R,k.overlayedDocument)}),_}))}getOverlayedDocuments(n,i){const s=Jo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,kr()))}populateOverlays(n,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(n,u).next(f=>{f.forEach((_,R)=>{i.set(_,R)})})}computeViews(n,i,s,u){let f=Qo();const _=ka(),R=ka();return i.forEach((k,Y)=>{const Te=s.get(Y.key);u.has(Y.key)&&(void 0===Te||Te.mutation instanceof Jn)?f=f.insert(Y.key,Y):void 0!==Te?(_.set(Y.key,Te.mutation.getFieldMask()),Kr(Te.mutation,Y,Te.mutation.getFieldMask(),nr.now())):_.set(Y.key,ci.empty())}),this.recalculateAndSaveOverlays(n,f).next(k=>(k.forEach((Y,Te)=>_.set(Y,Te)),i.forEach((Y,Te)=>{var He;return R.set(Y,new Ac(Te,null!==(He=_.get(Y))&&void 0!==He?He:null))}),R))}recalculateAndSaveOverlays(n,i){const s=ka();let u=new Qr((_,R)=>_-R),f=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(_=>{for(const R of _)R.keys().forEach(k=>{const Y=i.get(k);if(null===Y)return;let Te=s.get(k)||ci.empty();Te=R.applyToLocalView(Y,Te),s.set(k,Te);const He=(u.get(R.batchId)||kr()).add(k);u=u.insert(R.batchId,He)})}).next(()=>{const _=[],R=u.getReverseIterator();for(;R.hasNext();){const k=R.getNext(),Y=k.key,Te=k.value,He=Na();Te.forEach(Et=>{if(!f.has(Et)){const Yt=Rr(i.get(Et),s.get(Et));null!==Yt&&He.set(Et,Yt),f=f.add(Et)}}),_.push(this.documentOverlayCache.saveOverlays(n,Y,He))}return vt.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Pn.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Oa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var _}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-f.size):vt.resolve(Jo());let R=-1,k=f;return _.next(Y=>vt.forEach(Y,(Te,He)=>(R<He.largestBatchId&&(R=He.largestBatchId),f.get(Te)?vt.resolve():this.remoteDocumentCache.getEntry(n,Te).next(Et=>{k=k.insert(Te,Et)}))).next(()=>this.populateOverlays(n,Y,f)).next(()=>this.computeViews(n,k,Y,kr())).next(Te=>({batchId:R,changes:ya(Te)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Pn(i)).next(s=>{let u=$l();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const f=i.collectionGroup;let _=$l();return this.indexManager.getCollectionParents(n,f).next(R=>vt.forEach(R,k=>{const Y=(He=i,Et=k.child(f),new Nr(Et,null,He.explicitOrderBy.slice(),He.filters.slice(),He.limit,He.limitType,He.startAt,He.endAt));var He,Et;return this.getDocumentsMatchingCollectionQuery(n,Y,s,u).next(Te=>{Te.forEach((He,Et)=>{_=_.insert(He,Et)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,f,u))).next(_=>{f.forEach((k,Y)=>{const Te=Y.getKey();null===_.get(Te)&&(_=_.insert(Te,di.newInvalidDocument(Te)))});let R=$l();return _.forEach((k,Y)=>{const Te=f.get(k);void 0!==Te&&Kr(Te.mutation,Y,ci.empty(),nr.now()),xa(i,Y)&&(R=R.insert(k,Y))}),R})}}class md{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return vt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:uo(u.createTime)}),vt.resolve();var u}getNamedQuery(n,i){return vt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:wl(u.bundledQuery),readTime:uo(u.readTime)}),vt.resolve();var u}}class Mu{constructor(){this.overlays=new Qr(Pn.comparator),this.Ir=new Map}getOverlay(n,i){return vt.resolve(this.overlays.get(i))}getOverlays(n,i){const s=Jo();return vt.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,f)=>{this.ht(n,i,f)}),vt.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),vt.resolve()}getOverlaysForCollection(n,i,s){const u=Jo(),f=i.length+1,_=new Pn(i.child("")),R=this.overlays.getIteratorFrom(_);for(;R.hasNext();){const k=R.getNext().value,Y=k.getKey();if(!i.isPrefixOf(Y.path))break;Y.path.length===f&&k.largestBatchId>s&&u.set(k.getKey(),k)}return vt.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let f=new Qr((Y,Te)=>Y-Te);const _=this.overlays.getIterator();for(;_.hasNext();){const Y=_.getNext().value;if(Y.getKey().getCollectionGroup()===i&&Y.largestBatchId>s){let Te=f.get(Y.largestBatchId);null===Te&&(Te=Jo(),f=f.insert(Y.largestBatchId,Te)),Te.set(Y.getKey(),Y)}}const R=Jo(),k=f.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((Y,Te)=>R.set(Y,Te)),!(R.size()>=u)););return vt.resolve(R)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new Ks(i,s));let f=this.Ir.get(i);void 0===f&&(f=kr(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}class ko{constructor(){this.sessionToken=pe.EMPTY_BYTE_STRING}getSessionToken(n){return vt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,vt.resolve()}}class Ou{constructor(){this.Tr=new ri(Ri.Er),this.dr=new ri(Ri.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new Ri(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new Ri(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new Pn(new Xn([])),s=new Ri(i,n),u=new Ri(i,n+1),f=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),f.push(_.key)}),f}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new Pn(new Xn([])),s=new Ri(i,n),u=new Ri(i,n+1);let f=kr();return this.dr.forEachInRange([s,u],_=>{f=f.add(_.key)}),f}containsKey(n){const i=new Ri(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Ri{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return Pn.comparator(n.key,i.key)||Bn(n.wr,i.wr)}static Ar(n,i){return Bn(n.wr,i.wr)||Pn.comparator(n.key,i.key)}}class Zo{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ri(Ri.Er)}checkEmpty(n){return vt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const f=this.Sr;this.Sr++;const _=new Os(f,i,s,u);this.mutationQueue.push(_);for(const R of u)this.br=this.br.add(new Ri(R.key,f)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return vt.resolve(_)}lookupMutationBatch(n,i){return vt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),f=u<0?0:u;return vt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Ri(i,0),u=new Ri(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],_=>{const R=this.Dr(_.wr);f.push(R)}),vt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new ri(Bn);return i.forEach(u=>{const f=new Ri(u,0),_=new Ri(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,_],R=>{s=s.add(R.wr)})}),vt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let f=s;Pn.isDocumentKey(f)||(f=f.child(""));const _=new Ri(new Pn(f),0);let R=new ri(Bn);return this.br.forEachWhile(k=>{const Y=k.key.path;return!!s.isPrefixOf(Y)&&(Y.length===u&&(R=R.add(k.wr)),!0)},_),vt.resolve(this.Cr(R))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Dt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return vt.forEach(i.mutations,u=>{const f=new Ri(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new Ri(i,0),u=this.br.firstAfterOrEqual(s);return vt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return vt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bc{constructor(n){this.Mr=n,this.docs=new Qr(Pn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return vt.resolve(s?s.document.mutableCopy():di.newInvalidDocument(i))}getEntries(n,i){let s=Qo();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():di.newInvalidDocument(u))}),vt.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let f=Qo();const _=i.path,R=new Pn(_.child("")),k=this.docs.getIteratorFrom(R);for(;k.hasNext();){const{key:Y,value:{document:Te}}=k.getNext();if(!_.isPrefixOf(Y.path))break;Y.path.length>_.length+1||et(se(Te),s)<=0||(u.has(Te.key)||xa(i,Te))&&(f=f.insert(Te.key,Te.mutableCopy()))}return vt.resolve(f)}getAllFromCollectionGroup(n,i,s,u){Jt()}Or(n,i){return vt.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new ru(this)}getSize(n){return vt.resolve(this.size)}}class ru extends tu{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),vt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class xu{constructor(n){this.persistence=n,this.Nr=new Ms(i=>ve(i),yn),this.lastRemoteSnapshotVersion=qn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ou,this.targetCount=0,this.kr=Ro.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),vt.resolve()}getLastRemoteSnapshotVersion(n){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return vt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),vt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Ro(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,vt.resolve()}updateTargetData(n,i){return this.Kn(i),vt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,vt.resolve()}removeTargets(n,i,s){let u=0;const f=[];return this.Nr.forEach((_,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.Nr.delete(_),f.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),vt.waitFor(f).next(()=>u)}getTargetCount(n){return vt.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return vt.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),vt.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(_=>{f.push(u.markPotentiallyOrphaned(n,_))}),vt.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),vt.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return vt.resolve(s)}containsKey(n,i){return vt.resolve(this.Br.containsKey(i))}}class Qs{constructor(n,i){this.qr={},this.overlays={},this.Qr=new q(0),this.Kr=!1,this.Kr=!0,this.$r=new ko,this.referenceDelegate=n(this),this.Ur=new xu(this),this.indexManager=new mh,this.remoteDocumentCache=new bc(s=>this.referenceDelegate.Wr(s)),this.serializer=new rl(i),this.Gr=new md(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Mu,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new Zo(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){xt("MemoryPersistence","Starting transaction:",n);const u=new Nu(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(n,i){return vt.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class Nu extends Sn{constructor(n){super(),this.currentSequenceNumber=n}}class ku{constructor(n){this.persistence=n,this.Jr=new Ou,this.Yr=null}static Zr(n){return new ku(n)}get Xr(){if(this.Yr)return this.Yr;throw Jt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),vt.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),vt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Xr,s=>{const u=Pn.fromPath(s);return this.ei(n,u).next(f=>{f||i.removeEntry(u,qn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return vt.or([()=>vt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class yh{constructor(n){this.serializer=n}O(n,i,s,u){const f=new Ir("createOrUpgrade",i);var k;s<1&&u>=1&&(n.createObjectStore("owner"),(k=n).createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",he,{unique:!0}),k.createObjectStore("documentMutations"),Gf(n),function(k){k.createObjectStore("remoteDocuments")}(n));let _=vt.resolve();return s<3&&u>=3&&(0!==s&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(n),Gf(n)),_=_.next(()=>function(k){const Y=k.store("targetGlobal"),Te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qn.min().toTimestamp(),targetCount:0};return Y.put("targetGlobalKey",Te)}(f))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(k,Y){return Y.store("mutations").U().next(Te=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",he,{unique:!0});const He=Y.store("mutations"),Et=Te.map(Yt=>He.put(Yt));return vt.waitFor(Et)})}(n,f))),_=_.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(_=_.next(()=>this.ni(f))),s<6&&u>=6&&(_=_.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(n),this.ri(f)))),s<7&&u>=7&&(_=_.next(()=>this.ii(f))),s<8&&u>=8&&(_=_.next(()=>this.si(n,f))),s<9&&u>=9&&(_=_.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(_=_.next(()=>this.oi(f))),s<11&&u>=11&&(_=_.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(_=_.next(()=>{!function(k){const Y=k.createObjectStore("documentOverlays",{keyPath:wi});Y.createIndex("collectionPathOverlayIndex",Br,{unique:!1}),Y.createIndex("collectionGroupOverlayIndex",Lr,{unique:!1})}(n)})),s<13&&u>=13&&(_=_.next(()=>function(k){const Y=k.createObjectStore("remoteDocumentsV14",{keyPath:zt});Y.createIndex("documentKeyIndex",En),Y.createIndex("collectionGroupIndex",$n)}(n)).next(()=>this._i(n,f)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(n,f))),s<15&&u>=15&&(_=_.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:ai}).createIndex("sequenceNumberIndex",Ci,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:Di}).createIndex("documentKeyIndex",ui,{unique:!1})}(n))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(k){k.createObjectStore("globals",{keyPath:"name"})}(n)})),_}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=Pl(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>vt.forEach(u,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(R=>vt.forEach(R,k=>{Dt(k.userId===f.userId);const Y=sl(this.serializer,k);return Ic(n,f.userId,Y).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((_,R)=>{const k=new Xn(_),Y=[0,Ne(k)];f.push(i.get(Y).next(Te=>Te?vt.resolve():i.put({targetId:0,path:Ne(k),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>vt.waitFor(f))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:xr});const s=i.store("collectionParents"),u=new No,f=_=>{if(u.add(_)){const R=_.lastSegment(),k=_.popLast();return s.put({collectionId:R,parent:Ne(k)})}};return i.store("remoteDocuments").J({H:!0},(_,R)=>{const k=new Xn(_);return f(k.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,R,k],Y)=>{const Te=gn(R);return f(Te.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const f=Kl(u),_=al(this.serializer,f);return i.put(_)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,_)=>{const R=i.store("remoteDocumentsV14"),k=(He=_,He.document?new Pn(Xn.fromString(He.document.name).popFirst(5)):He.noDocument?Pn.fromSegments(He.noDocument.path):He.unknownDocument?Pn.fromSegments(He.unknownDocument.path):Jt()).path.toArray(),Y={prefixPath:k.slice(0,k.length-2),collectionGroup:k[k.length-2],documentId:k[k.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var He;u.push(R.put(Y))}).next(()=>vt.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=nu(this.serializer),f=new Qs(ku.Zr,this.serializer.ct);return s.U().next(_=>{const R=new Map;return _.forEach(k=>{var Y;let Te=null!==(Y=R.get(k.userId))&&void 0!==Y?Y:kr();sl(this.serializer,k).keys().forEach(He=>Te=Te.add(He)),R.set(k.userId,Te)}),vt.forEach(R,(k,Y)=>{const Te=new ft(Y),He=Ua.lt(this.serializer,Te),Et=f.getIndexManager(Te),Yt=to.lt(Te,this.serializer,Et,f.referenceDelegate);return new fa(u,Yt,He,Et).recalculateAndSaveOverlaysForDocumentKeys(new go(i,q.oe),k).next()})})}}function Gf(l){l.createObjectStore("targetDocuments",{keyPath:dr}).createIndex("documentTargetsIndex",or,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ln,{unique:!0}),l.createObjectStore("targetGlobal")}const Tc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fu{constructor(n,i,s,u,f,_,R,k,Y,Te,He=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=f,this.window=_,this.document=R,this.ci=Y,this.li=Te,this.hi=He,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Et=>Promise.resolve(),!Fu.D())throw new qe(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bo(this,u),this.Ai=i+"main",this.serializer=new rl(k),this.Ri=new Mn(this.Ai,this.hi,new yh(this.serializer)),this.$r=new gh,this.Ur=new bs(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nu(this.serializer),this.Gr=new _c,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Te&&kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(Le.FAILED_PRECONDITION,Tc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new q(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,Ee.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Ee.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Ee.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>vd(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Xr(n))return xt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return iu(n).get("owner").next(i=>vt.resolve(this.vi(i)))}Ci(n){return vd(n).delete(this.clientId)}Fi(){var n=this;return(0,Ee.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=pi(s,"clientMetadata");return u.U().next(f=>{const _=n.xi(f,18e5),R=f.filter(k=>-1===_.indexOf(k));return vt.forEach(R,k=>u.delete(k.clientId)).next(()=>R)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?vt.resolve(!0):iu(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new qe(Le.FAILED_PRECONDITION,Tc);return!1}}return!(!this.networkEnabled||!this.inForeground)||vd(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&xt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Ee.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new go(i,q.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>vd(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return to.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new vh(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Ua.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){xt("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",f=17===(k=this.hi)?po:16===k?fo:15===k?Zi:14===k?qi:13===k?Oi:12===k?rr:11===k?Ki:void Jt();var k;let _;return this.Ri.runTransaction(n,u,f,R=>(_=new go(R,this.Qr?this.Qr.next():q.oe),"readwrite-primary"===i?this.wi(_).next(k=>!!k||this.Si(_)).next(k=>{if(!k)throw kn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new qe(Le.FAILED_PRECONDITION,rn);return s(_)}).next(k=>this.Di(_).next(()=>k)):this.Ki(_).next(()=>s(_)))).then(R=>(_.raiseOnCommittedEvent(),R))}Ki(n){return iu(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new qe(Le.FAILED_PRECONDITION,Tc)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iu(n).put("owner",i)}static D(){return Mn.D()}bi(n){const i=iu(n);return i.get("owner").next(s=>this.vi(s)?(xt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):vt.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(kn(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,tt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return xt("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return kn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){kn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function iu(l){return pi(l,"owner")}function vd(l){return pi(l,"clientMetadata")}function Eh(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Wf{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=kr(),u=kr();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Wf(n,i.fromCache,s,u)}}class Zv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Ug{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,tt.nr)()?8:Pr((0,tt.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const f={result:null};return this.Yi(n,i).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.Zi(n,i,u,s).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new Zv;return this.Xi(n,i,_).next(R=>{if(f.result=R,this.zi)return this.es(n,i,_,R.size)})}).next(()=>f.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(Ft()<=Je.$b.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),vt.resolve()):(Ft()<=Je.$b.DEBUG&&xt("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Ft()<=Je.$b.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,$o(i))):vt.resolve())}Yi(n,i){if(zs(i))return vt.resolve(null);let s=$o(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Ya(i,null,"F"),s=$o(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(f=>{const _=kr(...f);return this.Ji.getDocuments(n,_).next(R=>this.indexManager.getMinOffset(n,s).next(k=>{const Y=this.ts(i,R);return this.ns(i,Y,_,k.readTime)?this.Yi(n,Ya(i,null,"F")):this.rs(n,Y,i,k)}))})))}Zi(n,i,s,u){return zs(i)||u.isEqual(qn.min())?vt.resolve(null):this.Ji.getDocuments(n,s).next(f=>{const _=this.ts(i,f);return this.ns(i,_,s,u)?vt.resolve(null):(Ft()<=Je.$b.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(i)),this.rs(n,_,i,X(u,-1)).next(R=>R))})}ts(n,i){let s=new ri(Bl(n));return i.forEach((u,f)=>{xa(n,f)&&(s=s.add(f))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(n,i,s){return Ft()<=Je.$b.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.Ji.getDocumentsMatchingQuery(n,i,Xe.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(f=>(i.forEach(_=>{f=f.insert(_.key,_)}),f))}}class e_{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new Qr(Bn),this._s=new Ms(f=>ve(f),yn),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new fa(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Bg(l,n,i,s){return new e_(l,n,i,s)}function Kf(l,n){return qf.apply(this,arguments)}function qf(){return(qf=(0,Ee.A)(function*(l,n){const i=ot(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const _=[],R=[];let k=kr();for(const Y of u){_.push(Y.batchId);for(const Te of Y.mutations)k=k.add(Te.key)}for(const Y of f){R.push(Y.batchId);for(const Te of Y.mutations)k=k.add(Te.key)}return i.localDocuments.getDocuments(s,k).next(Y=>({hs:Y,removedBatchIds:_,addedBatchIds:R}))})})})).apply(this,arguments)}function $g(l){const n=ot(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function p(l,n,i){let s=kr(),u=kr();return i.forEach(f=>s=s.add(f)),n.getEntries(l,s).next(f=>{let _=Qo();return i.forEach((R,k)=>{const Y=f.get(R);k.isFoundDocument()!==Y.isFoundDocument()&&(u=u.add(R)),k.isNoDocument()&&k.version.isEqual(qn.min())?(n.removeEntry(R,k.readTime),_=_.insert(R,k)):!Y.isValidDocument()||k.version.compareTo(Y.version)>0||0===k.version.compareTo(Y.version)&&Y.hasPendingWrites?(n.addEntry(k),_=_.insert(R,k)):xt("LocalStore","Ignoring outdated watch update for ",R,". Current version:",Y.version," Watch version:",k.version)}),{Ps:_,Is:u}})}function m(l,n){const i=ot(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function w(l,n){const i=ot(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(f=>f?(u=f,vt.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new Qi(n,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function ie(l,n,i){return Re.apply(this,arguments)}function Re(){return(Re=(0,Ee.A)(function*(l,n,i){const s=ot(l),u=s.os.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!Xr(_))throw _;xt("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function Pt(l,n,i){const s=ot(l);let u=qn.min(),f=kr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(k,Y,Te){const He=ot(k),Et=He._s.get(Te);return void 0!==Et?vt.resolve(He.os.get(Et)):He.Ur.getTargetData(Y,Te)}(s,_,$o(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,R.targetId).next(k=>{f=k})}).next(()=>s.ss.getDocumentsMatchingQuery(_,n,i?u:qn.min(),i?f:kr())).next(R=>(lr(s,Al(n),R),{documents:R,Ts:f})))}function nn(l,n){const i=ot(l),s=ot(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,n).next(_=>_?_.target:null))}function Rn(l,n){const i=ot(l),s=i.us.get(n)||qn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,X(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(lr(i,n,u),u))}function lr(l,n,i){let s=l.us.get(n)||qn.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.us.set(n,s)}function mi(){return(mi=(0,Ee.A)(function*(l,n,i,s){const u=ot(l);let f=kr(),_=Qo();for(const Y of i){const Te=n.Es(Y.metadata.name);Y.document&&(f=f.add(Te));const He=n.ds(Y);He.setReadTime(n.As(Y.metadata.readTime)),_=_.insert(Te,He)}const R=u.cs.newChangeBuffer({trackRemovals:!0}),k=yield w(u,(Te=s,$o(Xo(Xn.fromString(`__bundle__/docs/${Te}`)))));var Te;return u.persistence.runTransaction("Apply bundle documents","readwrite",Y=>p(Y,R,_).next(Te=>(R.apply(Y),Te)).next(Te=>u.Ur.removeMatchingKeysForTargetId(Y,k.targetId).next(()=>u.Ur.addMatchingKeys(Y,f,k.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Y,Te.Ps,Te.Is)).next(()=>Te.Ps)))})).apply(this,arguments)}function Ts(l,n){return Da.apply(this,arguments)}function Da(){return(Da=(0,Ee.A)(function*(l,n,i=kr()){const s=yield w(l,$o(wl(n.bundledQuery))),u=ot(l);return u.persistence.runTransaction("Save named query","readwrite",f=>{const _=uo(n.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(f,n);const R=s.withResumeToken(pe.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(R.targetId,R),u.Ur.updateTargetData(f,R).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,n))})})).apply(this,arguments)}function Cc(l,n){return`firestore_clients_${l}_${n}`}function Dc(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function wc(l,n){return`firestore_targets_${l}_${n}`}class Fs{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let f,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(f=new qe(u.error.code,u.error.message))),_?new Fs(n,i,u.state,f):(kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ou{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new qe(s.error.code,s.error.message))),f?new ou(n,s.state,u):(kn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class su{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Mr();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=le(s.activeTargetIds[_]),f=f.add(s.activeTargetIds[_]);return u?new su(n,f):(kn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Pi{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Pi(i.clientId,i.onlineState):(kn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Vu{constructor(){this.activeTargetIds=Mr()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class cl{constructor(n,i,s,u,f){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qr(Bn),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=Cc(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Vu),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ee.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const f=n.getItem(Cc(n.persistenceKey,u));if(f){const _=su.Rs(u,f);_&&(n.Ss=n.Ss.insert(_.clientId,_))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n,i=!0){let s="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(wc(this.persistenceKey,n));if(u){const f=ou.Rs(n,u);f&&(s=f.state)}}return i&&this.Ks.fs(n),this.Ns(),s}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(wc(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return xt("SharedClientState","READ",n,i),i}setItem(n,i){xt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){xt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(xt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ee.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let R=q.oe;if(null!=_)try{const k=JSON.parse(_);Dt("number"==typeof k),R=k}catch(k){kn("SharedClientState","Failed to read sequence number from WebStorage",k)}return R}(s.newValue);u!==q.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new Fs(this.currentUser,n,i,s),f=Dc(this.persistenceKey,this.currentUser,n);this.setItem(f,u.Vs())}Qs(n){const i=Dc(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=wc(this.persistenceKey,n),f=new ou(n,i,s);this.setItem(u,f.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return su.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return Fs.Rs(new ft(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return ou.Rs(u,i)}Ls(n){return Pi.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Ee.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);xt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),f=this.ks(s),_=[],R=[];return f.forEach(k=>{u.has(k)||_.push(k)}),u.forEach(k=>{f.has(k)||R.push(k)}),this.syncEngine.io(_,R).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Mr();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class os{constructor(){this.so=new Vu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Vu,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class jg{_o(n){}shutdown(){}}class Ml{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let za=null;function Js(){return null===za?za=268435456+Math.round(2147483648*Math.random()):za++,"0x"+za.toString(16)}const V0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hg{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Vs="WebChannelConnection";class Ga extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,s,u,f,_){const R=Js(),k=this.xo(i,s.toUriEncodedString());xt("RestConnection",`Sending RPC '${i}' ${R}:`,k,u);const Y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Y,f,_),this.No(i,k,Y,u).then(Te=>(xt("RestConnection",`Received RPC '${i}' ${R}: `,Te),Te),Te=>{throw Ht("RestConnection",`RPC '${i}' ${R} failed with error: `,Te,"url: ",k,"request:",u),Te})}Lo(i,s,u,f,_,R){return this.Mo(i,s,u,f,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Wt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,_)=>i[_]=f),u&&u.headers.forEach((f,_)=>i[_]=f)}xo(i,s){return`${this.Do}/v1/${s}:${V0[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const f=Js();return new Promise((_,R)=>{const k=new hn;k.setWithCredentials(!0),k.listenOnce(Ve.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case ae.NO_ERROR:const Te=k.getResponseJson();xt(Vs,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(Te)),_(Te);break;case ae.TIMEOUT:xt(Vs,`RPC '${n}' ${f} timed out`),R(new qe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case ae.HTTP_ERROR:const He=k.getStatus();if(xt(Vs,`RPC '${n}' ${f} failed with status:`,He,"response text:",k.getResponseText()),He>0){let Et=k.getResponseJson();Array.isArray(Et)&&(Et=Et[0]);const Yt=null==Et?void 0:Et.error;if(Yt&&Yt.status&&Yt.message){const _n=function(Nn){const vr=Nn.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(vr)>=0?vr:Le.UNKNOWN}(Yt.status);R(new qe(_n,Yt.message))}else R(new qe(Le.UNKNOWN,"Server responded with status "+k.getStatus()))}else R(new qe(Le.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{xt(Vs,`RPC '${n}' ${f} completed.`)}});const Y=JSON.stringify(u);xt(Vs,`RPC '${n}' ${f} sending request:`,u),k.send(i,"POST",Y,s,15)})}Bo(n,i,s){const u=Js(),f=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],_=gt(),R=je(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Y=this.longPollingOptions.timeoutSeconds;void 0!==Y&&(k.longPollingTimeout=Math.round(1e3*Y)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Oo(k.initMessageHeaders,i,s),k.encodeInitMessageHeaders=!0;const Te=f.join("");xt(Vs,`Creating RPC '${n}' stream ${u}: ${Te}`,k);const He=_.createWebChannel(Te,k);let Et=!1,Yt=!1;const _n=new Hg({Io:Nn=>{Yt?xt(Vs,`Not sending because RPC '${n}' stream ${u} is closed:`,Nn):(Et||(xt(Vs,`Opening RPC '${n}' stream ${u} transport.`),He.open(),Et=!0),xt(Vs,`RPC '${n}' stream ${u} sending:`,Nn),He.send(Nn))},To:()=>He.close()}),xn=(Nn,vr,Sr)=>{Nn.listen(vr,Cr=>{try{Sr(Cr)}catch(Gr){setTimeout(()=>{throw Gr},0)}})};return xn(He,Gt.EventType.OPEN,()=>{Yt||(xt(Vs,`RPC '${n}' stream ${u} transport opened.`),_n.yo())}),xn(He,Gt.EventType.CLOSE,()=>{Yt||(Yt=!0,xt(Vs,`RPC '${n}' stream ${u} transport closed`),_n.So())}),xn(He,Gt.EventType.ERROR,Nn=>{Yt||(Yt=!0,Ht(Vs,`RPC '${n}' stream ${u} transport errored:`,Nn),_n.So(new qe(Le.UNAVAILABLE,"The operation could not be completed")))}),xn(He,Gt.EventType.MESSAGE,Nn=>{var vr;if(!Yt){const Sr=Nn.data[0];Dt(!!Sr);const Gr=Sr.error||(null===(vr=Sr[0])||void 0===vr?void 0:vr.error);if(Gr){xt(Vs,`RPC '${n}' stream ${u} received error:`,Gr);const Li=Gr.status;let Yr=function(Rt){const Bt=Io[Rt];if(void 0!==Bt)return is(Bt)}(Li),Ut=Gr.message;void 0===Yr&&(Yr=Le.INTERNAL,Ut="Unknown error status: "+Li+" with message "+Gr.message),Yt=!0,_n.So(new qe(Yr,Ut)),He.close()}else xt(Vs,`RPC '${n}' stream ${u} received:`,Sr),_n.bo(Sr)}}),xn(R,ge.STAT_EVENT,Nn=>{Nn.stat===ue.PROXY?xt(Vs,`RPC '${n}' stream ${u} detected buffering proxy`):Nn.stat===ue.NOPROXY&&xt(Vs,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{_n.wo()},0),_n}}function zg(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}function _d(l){return new Dl(l,!0)}class yd{constructor(n,i,s=1e3,u=1.5,f=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&xt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Xf{constructor(n,i,s,u,f,_,R,k){this.ui=n,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=R,this.listener=k,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yd(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Ee.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Ee.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,Ee.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===Le.RESOURCE_EXHAUSTED?(kn(i.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Le.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new qe(Le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,Ee.A)(function*(){n.state=0,n.start()}))}I_(n){return xt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qf extends Xf{constructor(n,i,s,u,f,_){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=f}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function P(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(Y=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Y?1:"REMOVE"===Y?2:"CURRENT"===Y?3:"RESET"===Y?4:Jt(),u=n.targetChange.targetIds||[],f=function(Y,Te){return Y.useProto3Json?(Dt(void 0===Te||"string"==typeof Te),pe.fromBase64String(Te||"")):(Dt(void 0===Te||Te instanceof Buffer||Te instanceof Uint8Array),pe.fromUint8Array(Te||new Uint8Array))}(l,n.targetChange.resumeToken),_=n.targetChange.cause,R=_&&function(Y){const Te=void 0===Y.code?Le.UNKNOWN:is(Y.code);return new qe(Te,Y.message||"")}(_);i=new Ff(s,u,f,R||null)}else if("documentChange"in n){const s=n.documentChange,u=Xs(l,s.document.name),f=uo(s.document.updateTime),_=s.document.createTime?uo(s.document.createTime):qn.min(),R=new lo({mapValue:{fields:s.document.fields}}),k=di.newFoundDocument(u,f,_,R);i=new Tl(s.targetIds||[],s.removedTargetIds||[],k.key,k)}else if("documentDelete"in n){const s=n.documentDelete,u=Xs(l,s.document),f=s.readTime?uo(s.readTime):qn.min(),_=di.newNoDocument(u,f);i=new Tl([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const s=n.documentRemove,u=Xs(l,s.document);i=new Tl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Jt();{const s=n.filter,{count:u=0,unchangedNames:f}=s,_=new jl(u,f);i=new eo(s.targetId,_)}}var Y;return i}(this.serializer,n),s=function(f){if(!("targetChange"in f))return qn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?qn.min():_.readTime?uo(_.readTime):qn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=hh(this.serializer),i.addTarget=function(f,_){let R;const k=_.target;if(R=cr(k)?{documents:Ie(f,k)}:{query:Se(f,k)._t},R.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){R.resumeToken=Gl(f,_.resumeToken);const Y=Ns(f,_.expectedCount);null!==Y&&(R.expectedCount=Y)}else if(_.snapshotVersion.compareTo(qn.min())>0){R.readTime=Go(f,_.snapshotVersion.toTimestamp());const Y=Ns(f,_.expectedCount);null!==Y&&(R.expectedCount=Y)}return R}(this.serializer,n);const s=function jt(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=hh(this.serializer),i.removeTarget=n,this.a_(i)}}class Jf extends Xf{constructor(n,i,s,u,f,_){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Dt(!!n.streamToken),this.lastStreamToken=n.streamToken,Dt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Dt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function B(l,n){return l&&l.length>0?(Dt(void 0!==n),l.map(i=>function(u,f){let _=uo(u.updateTime?u.updateTime:f);return _.isEqual(qn.min())&&(_=uo(f)),new De(_,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=uo(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=hh(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>L(this.serializer,s))};this.a_(i)}}class Gg extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new qe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Mo(n,Ia(i,s),u,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new qe(Le.UNKNOWN,f.toString())})}Lo(n,i,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,R])=>this.connection.Lo(n,Ia(i,s),u,_,R,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new qe(Le.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class au{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kn(i),this.D_=!1):xt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class qr{constructor(n,i,s,u,f){var _=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(R=>{s.enqueueAndForget((0,Ee.A)(function*(){var k;Bu(_)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,Ee.A)(function*(Te){const He=ot(Te);He.L_.add(4),yield Sc(He),He.q_.set("Unknown"),He.L_.delete(4),yield Uu(He)}),function Y(Te){return k.apply(this,arguments)})(_))}))}),this.q_=new au(s,u)}}function Uu(l){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,Ee.A)(function*(l){if(Bu(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function Sc(l){return t_.apply(this,arguments)}function t_(){return(t_=(0,Ee.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Yf(l,n){const i=ot(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),qg(i)?lu(i):Hu(i).r_()&&Wg(i,n))}function Ed(l,n){const i=ot(l),s=Hu(i);i.N_.delete(n),s.r_()&&Kg(i,n),0===i.N_.size&&(s.r_()?s.o_():Bu(i)&&i.q_.set("Unknown"))}function Wg(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(qn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Hu(l).A_(n)}function Kg(l,n){l.Q_.xe(n),Hu(l).R_(n)}function lu(l){l.Q_=new aa({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),Hu(l).start(),l.q_.v_()}function qg(l){return Bu(l)&&!Hu(l).n_()&&l.N_.size>0}function Bu(l){return 0===ot(l).L_.size}function n_(l){l.Q_=void 0}function U0(l){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,Ee.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function In(l){return fi.apply(this,arguments)}function fi(){return(fi=(0,Ee.A)(function*(l){l.N_.forEach((n,i)=>{Wg(l,n)})})).apply(this,arguments)}function r_(l,n){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,Ee.A)(function*(l,n){n_(l),qg(l)?(l.q_.M_(n),lu(l)):l.q_.set("Unknown")})).apply(this,arguments)}function oo(l,n,i){return ep.apply(this,arguments)}function ep(){return ep=(0,Ee.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof Ff&&2===n.state&&n.cause)try{yield(s=(0,Ee.A)(function*(f,_){const R=_.cause;for(const k of _.targetIds)f.N_.has(k)&&(yield f.remoteSyncer.rejectListen(k,R),f.N_.delete(k),f.Q_.removeTarget(k))}),function u(f,_){return s.apply(this,arguments)})(l,n)}catch(s){xt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield $u(l,s)}else if(n instanceof Tl?l.Q_.Ke(n):n instanceof eo?l.Q_.He(n):l.Q_.We(n),!i.isEqual(qn.min()))try{const s=yield $g(l.localStore);i.compareTo(s)>=0&&(yield function(f,_){const R=f.Q_.rt(_);return R.targetChanges.forEach((k,Y)=>{if(k.resumeToken.approximateByteSize()>0){const Te=f.N_.get(Y);Te&&f.N_.set(Y,Te.withResumeToken(k.resumeToken,_))}}),R.targetMismatches.forEach((k,Y)=>{const Te=f.N_.get(k);if(!Te)return;f.N_.set(k,Te.withResumeToken(pe.EMPTY_BYTE_STRING,Te.snapshotVersion)),Kg(f,k);const He=new Qi(Te.target,k,Y,Te.sequenceNumber);Wg(f,He)}),f.remoteSyncer.applyRemoteEvent(R)}(l,i))}catch(s){xt("RemoteStore","Failed to raise snapshot:",s),yield $u(l,s)}var s}),ep.apply(this,arguments)}function $u(l,n,i){return wa.apply(this,arguments)}function wa(){return(wa=(0,Ee.A)(function*(l,n,i){if(!Xr(n))throw n;l.L_.add(1),yield Sc(l),l.q_.set("Offline"),i||(i=()=>$g(l.localStore)),l.asyncQueue.enqueueRetryable((0,Ee.A)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield Uu(l)}))})).apply(this,arguments)}function tp(l,n){return n().catch(i=>$u(l,i,n))}function ju(l){return np.apply(this,arguments)}function np(){return(np=(0,Ee.A)(function*(l){const n=ot(l),i=fl(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;MA(n);)try{const u=yield m(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,OA(n,u)}catch(u){yield $u(n,u)}Qg(n)&&Jg(n)})).apply(this,arguments)}function MA(l){return Bu(l)&&l.O_.length<10}function OA(l,n){l.O_.push(n);const i=fl(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Qg(l){return Bu(l)&&!fl(l).n_()&&l.O_.length>0}function Jg(l){fl(l).start()}function i_(l){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,Ee.A)(function*(l){fl(l).p_()})).apply(this,arguments)}function uu(l){return rp.apply(this,arguments)}function rp(){return(rp=(0,Ee.A)(function*(l){const n=fl(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function dl(l,n,i){return hl.apply(this,arguments)}function hl(){return(hl=(0,Ee.A)(function*(l,n,i){const s=l.O_.shift(),u=Ea.from(s,n,i);yield tp(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield ju(l)})).apply(this,arguments)}function B0(l,n){return ip.apply(this,arguments)}function ip(){return ip=(0,Ee.A)(function*(l,n){var i;n&&fl(l).V_&&(yield(i=(0,Ee.A)(function*(u,f){if(bl(R=f.code)&&R!==Le.ABORTED){const _=u.O_.shift();fl(u).s_(),yield tp(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield ju(u)}var R}),function s(u,f){return i.apply(this,arguments)})(l,n)),Qg(l)&&Jg(l)}),ip.apply(this,arguments)}function o_(l,n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,Ee.A)(function*(l,n){const i=ot(l);i.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const s=Bu(i);i.L_.add(3),yield Sc(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield Uu(i)})).apply(this,arguments)}function bh(l,n){return Th.apply(this,arguments)}function Th(){return(Th=(0,Ee.A)(function*(l,n){const i=ot(l);n?(i.L_.delete(2),yield Uu(i)):n||(i.L_.add(2),yield Sc(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Hu(l){return l.K_||(l.K_=function(i,s,u){const f=ot(i);return f.w_(),new Qf(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:U0.bind(null,l),Ro:In.bind(null,l),mo:r_.bind(null,l),d_:oo.bind(null,l)}),l.B_.push(function(){var n=(0,Ee.A)(function*(i){i?(l.K_.s_(),qg(l)?lu(l):l.q_.set("Unknown")):(yield l.K_.stop(),n_(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function fl(l){return l.U_||(l.U_=function(i,s,u){const f=ot(i);return f.w_(),new Jf(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i_.bind(null,l),mo:B0.bind(null,l),f_:uu.bind(null,l),g_:dl.bind(null,l)}),l.B_.push(function(){var n=(0,Ee.A)(function*(i){i?(l.U_.s_(),yield ju(l)):(yield l.U_.stop(),l.O_.length>0&&(xt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class Zg{constructor(n,i,s,u,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,f){const _=Date.now()+s,R=new Zg(n,i,_,u,f);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(Le.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rc(l,n){if(kn("AsyncQueue",`${n}: ${l}`),Xr(l))return new qe(Le.UNAVAILABLE,`${n}: ${l}`);throw l}class zu{constructor(n){this.comparator=n?(i,s)=>n(i,s)||Pn.comparator(i.key,s.key):(i,s)=>Pn.comparator(i.key,s.key),this.keyedMap=$l(),this.sortedSet=new Qr(this.comparator)}static emptySet(n){return new zu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof zu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new zu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class em{constructor(){this.W_=new Qr(Pn.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Jt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class Pc{constructor(n,i,s,u,f,_,R,k,Y){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=R,this.excludesMetadataChanges=k,this.hasCachedResults=Y}static fromInitialDocuments(n,i,s,u,f){const _=[];return i.forEach(R=>{_.push({type:0,doc:R})}),new Pc(n,i,zu.emptySet(i),_,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ia(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class s_{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class a_{constructor(){this.queries=op(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=ot(i),f=u.queries;u.queries=op(),f.forEach((_,R)=>{for(const k of R.j_)k.onError(s)})}(this,new qe(Le.ABORTED,"Firestore shutting down"))}}function op(){return new Ms(l=>wr(l),ia)}function tm(l,n){return ss.apply(this,arguments)}function ss(){return(ss=(0,Ee.A)(function*(l,n){const i=ot(l);let s=3;const u=n.query;let f=i.queries.get(u);f?!f.H_()&&n.J_()&&(s=2):(f=new s_,s=n.J_()?0:1);try{switch(s){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const R=Rc(_,`Initialization of query '${ps(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,f),f.j_.push(n),n.Z_(i.onlineState),f.z_&&n.X_(f.z_)&&nm(i)})).apply(this,arguments)}function cu(l,n){return co.apply(this,arguments)}function co(){return(co=(0,Ee.A)(function*(l,n){const i=ot(l),s=n.query;let u=3;const f=i.queries.get(s);if(f){const _=f.j_.indexOf(n);_>=0&&(f.j_.splice(_,1),0===f.j_.length?u=n.J_()?0:1:!f.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function $0(l,n){const i=ot(l);let s=!1;for(const u of n){const _=i.queries.get(u.query);if(_){for(const R of _.j_)R.X_(u)&&(s=!0);_.z_=u}}s&&nm(i)}function j0(l,n,i){const s=ot(l),u=s.queries.get(n);if(u)for(const f of u.j_)f.onError(i);s.queries.delete(n)}function nm(l){l.Y_.forEach(n=>{n.next()})}var rm,im;(im=rm||(rm={})).ea="default",im.Cache="cache";class sp{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new Pc(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=Pc.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==rm.Cache}}class Ch{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class pl{constructor(n){this.serializer=n}Es(n){return Xs(this.serializer,n)}ds(n){return n.metadata.exists?ld(this.serializer,n.document,!1):di.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return uo(n)}}class H0{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dh(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=Xn.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new pl(this.serializer);for(const u of n)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const R=(i.get(_)||kr()).add(f);i.set(_,R)}}return i}complete(){var n=this;return(0,Ee.A)(function*(){const i=yield function Dr(l,n,i,s){return mi.apply(this,arguments)}(n.localStore,new pl(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield Ts(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function Dh(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class wh{constructor(n){this.key=n}}class Sh{constructor(n){this.key=n}}class ap{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kr(),this.mutatedKeys=kr(),this.Aa=Bl(n),this.Ra=new zu(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new em,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,_=u,R=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Y="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((Te,He)=>{const Et=u.get(Te),Yt=xa(this.query,He)?He:null,_n=!!Et&&this.mutatedKeys.has(Et.key),xn=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let Nn=!1;Et&&Yt?Et.data.isEqual(Yt.data)?_n!==xn&&(s.track({type:3,doc:Yt}),Nn=!0):this.ga(Et,Yt)||(s.track({type:2,doc:Yt}),Nn=!0,(k&&this.Aa(Yt,k)>0||Y&&this.Aa(Yt,Y)<0)&&(R=!0)):!Et&&Yt?(s.track({type:0,doc:Yt}),Nn=!0):Et&&!Yt&&(s.track({type:1,doc:Et}),Nn=!0,(k||Y)&&(R=!0)),Nn&&(Yt?(_=_.add(Yt),f=xn?f.add(Te):f.delete(Te)):(_=_.delete(Te),f=f.delete(Te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Te="F"===this.query.limitType?_.last():_.first();_=_.delete(Te.key),f=f.delete(Te.key),s.track({type:1,doc:Te})}return{Ra:_,fa:s,ns:R,mutatedKeys:f}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const f=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const _=n.fa.G_();_.sort((Te,He)=>function(Yt,_n){const xn=Nn=>{switch(Nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return xn(Yt)-xn(_n)}(Te.type,He.type)||this.Aa(Te.doc,He.doc)),this.pa(s),u=null!=u&&u;const R=i&&!u?this.ya():[],k=0===this.da.size&&this.current&&!u?1:0,Y=k!==this.Ea;return this.Ea=k,0!==_.length||Y?{snapshot:new Pc(this.query,n.Ra,f,_,n.mutatedKeys,0===k,Y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:R}:{wa:R}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new em,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=kr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new Sh(s))}),this.da.forEach(s=>{n.has(s)||i.push(new wh(s))}),i}ba(n){this.Ta=n.Ts,this.da=kr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return Pc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class l_{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class u_{constructor(n){this.key=n,this.va=!1}}class z0{constructor(n,i,s,u,f,_){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Ms(R=>wr(R),ia),this.Ma=new Map,this.xa=new Set,this.Oa=new Qr(Pn.comparator),this.Na=new Map,this.La=new Ou,this.Ba={},this.ka=new Map,this.qa=Ro.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Id(l,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,Ee.A)(function*(l,n,i=!0){const s=Lc(l);let u;const f=s.Fa.get(n);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield om(s,n,i,!0),u})).apply(this,arguments)}function G0(l,n){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,Ee.A)(function*(l,n){const i=Lc(l);yield om(i,n,!0,!1)})).apply(this,arguments)}function om(l,n,i,s){return sm.apply(this,arguments)}function sm(){return(sm=(0,Ee.A)(function*(l,n,i,s){const u=yield w(l.localStore,$o(n)),f=u.targetId,_=l.sharedClientState.addLocalQueryTarget(f,i);let R;return s&&(R=yield am(l,n,f,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&Yf(l.remoteStore,u),R})).apply(this,arguments)}function am(l,n,i,s,u){return lm.apply(this,arguments)}function lm(){return lm=(0,Ee.A)(function*(l,n,i,s,u){l.Ka=(He,Et,Yt)=>{return(_n=(0,Ee.A)(function*(Nn,vr,Sr,Cr){let Gr=vr.view.ma(Sr);Gr.ns&&(Gr=yield Pt(Nn.localStore,vr.query,!1).then(({documents:ht})=>vr.view.ma(ht,Gr)));const Li=Cr&&Cr.targetChanges.get(vr.targetId),Yr=Cr&&null!=Cr.targetMismatches.get(vr.targetId),Ut=vr.view.applyChanges(Gr,Nn.isPrimaryClient,Li,Yr);return Oh(Nn,vr.targetId,Ut.wa),Ut.snapshot}),function xn(Nn,vr,Sr,Cr){return _n.apply(this,arguments)})(l,He,Et,Yt);var _n};const f=yield Pt(l.localStore,n,!0),_=new ap(n,f.Ts),R=_.ma(f.documents),k=vo.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),Y=_.applyChanges(R,l.isPrimaryClient,k);Oh(l,i,Y.wa);const Te=new l_(n,i,_);return l.Fa.set(n,Te),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),Y.snapshot}),lm.apply(this,arguments)}function xA(l,n,i){return c_.apply(this,arguments)}function c_(){return(c_=(0,Ee.A)(function*(l,n,i){const s=ot(l),u=s.Fa.get(n),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(_=>!ia(_,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ie(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Ed(s.remoteStore,u.targetId),Nc(s,u.targetId)}).catch(Zn))):(Nc(s,u.targetId),yield ie(s.localStore,u.targetId,!0))})).apply(this,arguments)}function um(l,n){return du.apply(this,arguments)}function du(){return(du=(0,Ee.A)(function*(l,n){const i=ot(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ed(i.remoteStore,s.targetId))})).apply(this,arguments)}function Oc(){return(Oc=(0,Ee.A)(function*(l,n,i){const s=pp(l);try{const u=yield function(_,R){const k=ot(_),Y=nr.now(),Te=R.reduce((Yt,_n)=>Yt.add(_n.key),kr());let He,Et;return k.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let _n=Qo(),xn=kr();return k.cs.getEntries(Yt,Te).next(Nn=>{_n=Nn,_n.forEach((vr,Sr)=>{Sr.isValidDocument()||(xn=xn.add(vr))})}).next(()=>k.localDocuments.getOverlayedDocuments(Yt,_n)).next(Nn=>{He=Nn;const vr=[];for(const Sr of R){const Cr=Ur(Sr,He.get(Sr.key).overlayedDocument);null!=Cr&&vr.push(new Jn(Sr.key,Cr,Ko(Cr.value.mapValue),Ge.exists(!0)))}return k.mutationQueue.addMutationBatch(Yt,Y,vr,R)}).next(Nn=>{Et=Nn;const vr=Nn.applyToLocalDocumentSet(He,xn);return k.documentOverlayCache.saveOverlays(Yt,Nn.batchId,vr)})}).then(()=>({batchId:Et.batchId,changes:ya(He)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(_,R,k){let Y=_.Ba[_.currentUser.toKey()];Y||(Y=new Qr(Bn)),Y=Y.insert(R,k),_.Ba[_.currentUser.toKey()]=Y}(s,u.batchId,i),yield xl(s,u.changes),yield ju(s.remoteStore)}catch(u){const f=Rc(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function d_(l,n){return xc.apply(this,arguments)}function xc(){return(xc=(0,Ee.A)(function*(l,n){const i=ot(l);try{const s=yield function I(l,n){const i=ot(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const R=[];n.targetChanges.forEach((Te,He)=>{const Et=u.get(He);if(!Et)return;R.push(i.Ur.removeMatchingKeys(f,Te.removedDocuments,He).next(()=>i.Ur.addMatchingKeys(f,Te.addedDocuments,He)));let Yt=Et.withSequenceNumber(f.currentSequenceNumber);var xn,Nn,vr;null!==n.targetMismatches.get(He)?Yt=Yt.withResumeToken(pe.EMPTY_BYTE_STRING,qn.min()).withLastLimboFreeSnapshotVersion(qn.min()):Te.resumeToken.approximateByteSize()>0&&(Yt=Yt.withResumeToken(Te.resumeToken,s)),u=u.insert(He,Yt),Nn=Yt,vr=Te,(0===(xn=Et).resumeToken.approximateByteSize()||Nn.snapshotVersion.toMicroseconds()-xn.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&R.push(i.Ur.updateTargetData(f,Yt))});let k=Qo(),Y=kr();if(n.documentUpdates.forEach(Te=>{n.resolvedLimboDocuments.has(Te)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(f,Te))}),R.push(p(f,_,n.documentUpdates).next(Te=>{k=Te.Ps,Y=Te.Is})),!s.isEqual(qn.min())){const Te=i.Ur.getLastRemoteSnapshotVersion(f).next(He=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));R.push(Te)}return vt.waitFor(R).next(()=>_.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,k,Y)).next(()=>k)}).then(f=>(i.os=u,f))}(i.localStore,n);n.targetChanges.forEach((u,f)=>{const _=i.Na.get(f);_&&(Dt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Dt(_.va):u.removedDocuments.size>0&&(Dt(_.va),_.va=!1))}),yield xl(i,s,n)}catch(s){yield Zn(s)}})).apply(this,arguments)}function h_(l,n,i){const s=ot(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((f,_)=>{const R=_.view.Z_(n);R.snapshot&&u.push(R.snapshot)}),function(_,R){const k=ot(_);k.onlineState=R;let Y=!1;k.queries.forEach((Te,He)=>{for(const Et of He.j_)Et.Z_(R)&&(Y=!0)}),Y&&nm(k)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function dm(l,n,i){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,Ee.A)(function*(l,n,i){const s=ot(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),f=u&&u.key;if(f){let _=new Qr(Pn.comparator);_=_.insert(f,di.newNoDocument(f,qn.min()));const R=kr().add(f),k=new zl(qn.min(),new Map,new Qr(Bn),_,R);yield d_(s,k),s.Oa=s.Oa.remove(f),s.Na.delete(n),up(s)}else yield ie(s.localStore,n,!1).then(()=>Nc(s,n,i)).catch(Zn)})).apply(this,arguments)}function NA(l,n){return lp.apply(this,arguments)}function lp(){return(lp=(0,Ee.A)(function*(l,n){const i=ot(l),s=n.batch.batchId;try{const u=yield function F0(l,n){const i=ot(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(R,k,Y,Te){const He=Y.batch,Et=He.keys();let Yt=vt.resolve();return Et.forEach(_n=>{Yt=Yt.next(()=>Te.getEntry(k,_n)).next(xn=>{const Nn=Y.docVersions.get(_n);Dt(null!==Nn),xn.version.compareTo(Nn)<0&&(He.applyToRemoteDocument(xn,Y),xn.isValidDocument()&&(xn.setReadTime(Y.commitVersion),Te.addEntry(xn)))})}),Yt.next(()=>R.mutationQueue.removeMutationBatch(k,He))}(i,s,n,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let k=kr();for(let Y=0;Y<R.mutationResults.length;++Y)R.mutationResults[Y].transformResults.length>0&&(k=k.add(R.batch.mutations[Y].key));return k}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);Ph(i,s,null),bd(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield xl(i,u)}catch(u){yield Zn(u)}})).apply(this,arguments)}function f_(l,n,i){return hm.apply(this,arguments)}function hm(){return(hm=(0,Ee.A)(function*(l,n,i){const s=ot(l);try{const u=yield function(_,R){const k=ot(_);return k.persistence.runTransaction("Reject batch","readwrite-primary",Y=>{let Te;return k.mutationQueue.lookupMutationBatch(Y,R).next(He=>(Dt(null!==He),Te=He.keys(),k.mutationQueue.removeMutationBatch(Y,He))).next(()=>k.mutationQueue.performConsistencyCheck(Y)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(Y,Te,R)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Y,Te)).next(()=>k.localDocuments.getDocuments(Y,Te))})}(s.localStore,n);Ph(s,n,i),bd(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield xl(s,u)}catch(u){yield Zn(u)}})).apply(this,arguments)}function fm(){return(fm=(0,Ee.A)(function*(l,n){const i=ot(l);Bu(i.remoteStore)||xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const R=ot(_);return R.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>R.mutationQueue.getHighestUnacknowledgedBatchId(k))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=Rc(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function bd(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function Ph(l,n,i){const s=ot(l);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(n);f&&(i?f.reject(i):f.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function Nc(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||Mh(l,s)})}function Mh(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(Ed(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),up(l))}function Oh(l,n,i){for(const s of i)s instanceof wh?(l.La.addReference(s.key,n),W0(l,s)):s instanceof Sh?(xt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||Mh(l,s.key)):Jt()}function W0(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(xt("SyncEngine","New document in limbo: "+i),l.xa.add(s),up(l))}function up(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new Pn(Xn.fromString(n)),s=l.qa.next();l.Na.set(s,new u_(i)),l.Oa=l.Oa.insert(i,s),Yf(l.remoteStore,new Qi($o(Xo(i.path)),s,"TargetPurposeLimboResolution",q.oe))}}function xl(l,n,i){return cp.apply(this,arguments)}function cp(){return cp=(0,Ee.A)(function*(l,n,i){const s=ot(l),u=[],f=[],_=[];var R;s.Fa.isEmpty()||(s.Fa.forEach((R,k)=>{_.push(s.Ka(k,n,i).then(Y=>{var Te;if((Y||i)&&s.isPrimaryClient){const He=Y?!Y.fromCache:null===(Te=null==i?void 0:i.targetChanges.get(k.targetId))||void 0===Te?void 0:Te.current;s.sharedClientState.updateQueryState(k.targetId,He?"current":"not-current")}if(Y){u.push(Y);const He=Wf.Wi(k.targetId,Y);f.push(He)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(R=(0,Ee.A)(function*(Y,Te){const He=ot(Y);try{yield He.persistence.runTransaction("notifyLocalViewChanges","readwrite",Et=>vt.forEach(Te,Yt=>vt.forEach(Yt.$i,_n=>He.persistence.referenceDelegate.addReference(Et,Yt.targetId,_n)).next(()=>vt.forEach(Yt.Ui,_n=>He.persistence.referenceDelegate.removeReference(Et,Yt.targetId,_n)))))}catch(Et){if(!Xr(Et))throw Et;xt("LocalStore","Failed to update sequence numbers: "+Et)}for(const Et of Te){const Yt=Et.targetId;if(!Et.fromCache){const _n=He.os.get(Yt),Nn=_n.withLastLimboFreeSnapshotVersion(_n.snapshotVersion);He.os=He.os.insert(Yt,Nn)}}}),function k(Y,Te){return R.apply(this,arguments)})(s.localStore,f))}),cp.apply(this,arguments)}function p_(l,n){return pm.apply(this,arguments)}function pm(){return(pm=(0,Ee.A)(function*(l,n){const i=ot(l);if(!i.currentUser.isEqual(n)){xt("SyncEngine","User change. New user:",n.toKey());const s=yield Kf(i.localStore,n);i.currentUser=n,(f=i).ka.forEach(R=>{R.forEach(k=>{k.reject(new qe(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield xl(i,s.hs)}var f})).apply(this,arguments)}function dp(l,n){const i=ot(l),s=i.Na.get(n);if(s&&s.va)return kr().add(s.key);{let u=kr();const f=i.Ma.get(n);if(!f)return u;for(const _ of f){const R=i.Fa.get(_);u=u.unionWith(R.view.Va)}return u}}function kc(l,n){return gm.apply(this,arguments)}function gm(){return(gm=(0,Ee.A)(function*(l,n){const i=ot(l),s=yield Pt(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&Oh(i,n.targetId,u.wa),u})).apply(this,arguments)}function g_(l,n){return hp.apply(this,arguments)}function hp(){return(hp=(0,Ee.A)(function*(l,n){const i=ot(l);return Rn(i.localStore,n).then(s=>xl(i,s))})).apply(this,arguments)}function Td(l,n,i,s){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,Ee.A)(function*(l,n,i,s){const u=ot(l),f=yield function(R,k){const Y=ot(R),Te=ot(Y.mutationQueue);return Y.persistence.runTransaction("Lookup mutation documents","readonly",He=>Te.Mn(He,k).next(Et=>Et?Y.localDocuments.getDocuments(He,Et):vt.resolve(null)))}(u.localStore,n);var k;null!==f?("pending"===i?yield ju(u.remoteStore):"acknowledged"===i||"rejected"===i?(Ph(u,n,s||null),bd(u,n),k=n,ot(ot(u.localStore).mutationQueue).On(k)):Jt(),yield xl(u,f)):xt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function mm(){return(mm=(0,Ee.A)(function*(l,n){const i=ot(l);if(Lc(i),pp(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield vm(i,s.toArray());i.Qa=!0,yield bh(i.remoteStore,!0);for(const f of u)Yf(i.remoteStore,f)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((f,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(Nc(i,_),ie(i.localStore,_,!0))),Ed(i.remoteStore,_)}),yield u,yield vm(i,s),function(_){const R=ot(_);R.Na.forEach((k,Y)=>{Ed(R.remoteStore,Y)}),R.La.pr(),R.Na=new Map,R.Oa=new Qr(Pn.comparator)}(i),i.Qa=!1,yield bh(i.remoteStore,!1)}})).apply(this,arguments)}function vm(l,n,i){return xh.apply(this,arguments)}function xh(){return(xh=(0,Ee.A)(function*(l,n,i){const s=ot(l),u=[],f=[];for(const _ of n){let R;const k=s.Ma.get(_);if(k&&0!==k.length){R=yield w(s.localStore,$o(k[0]));for(const Y of k){const Te=s.Fa.get(Y),He=yield kc(s,Te);He.snapshot&&f.push(He.snapshot)}}else{const Y=yield nn(s.localStore,_);R=yield w(s.localStore,Y),yield am(s,m_(Y),_,!1,R.resumeToken)}u.push(R)}return s.Ca.d_(f),u})).apply(this,arguments)}function m_(l){return Ma(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function v_(l){return i=ot(l).localStore,ot(ot(i).persistence).Qi();var i}function fp(l,n,i,s){return _m.apply(this,arguments)}function _m(){return(_m=(0,Ee.A)(function*(l,n,i,s){const u=ot(l);if(u.Qa)return void xt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(n);if(f&&f.length>0)switch(i){case"current":case"not-current":{const _=yield Rn(u.localStore,Al(f[0])),R=zl.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,pe.EMPTY_BYTE_STRING);yield xl(u,_,R);break}case"rejected":yield ie(u.localStore,n,!0),Nc(u,n,s);break;default:Jt()}})).apply(this,arguments)}function __(l,n,i){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,Ee.A)(function*(l,n,i){const s=Lc(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){xt("SyncEngine","Adding an already active target "+u);continue}const f=yield nn(s.localStore,u),_=yield w(s.localStore,f);yield am(s,m_(f),_.targetId,!1,_.resumeToken),Yf(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield ie(s.localStore,u,!1).then(()=>{Ed(s.remoteStore,u),Nc(s,u)}).catch(Zn))}})).apply(this,arguments)}function Lc(l){const n=ot(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=d_.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=dp.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=dm.bind(null,n),n.Ca.d_=$0.bind(null,n.eventManager),n.Ca.$a=j0.bind(null,n.eventManager),n}function pp(l){const n=ot(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=NA.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=f_.bind(null,n),n}let Cd=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,Ee.A)(function*(){s.serializer=_d(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return Bg(this.persistence,new Ug,i.initialUser,this.serializer)}Ga(i){return new Qs(ku.Zr,this.serializer)}Wa(i){return new os}terminate(){var i=this;return(0,Ee.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class gp extends Cd{constructor(n,i,s){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,Ee.A)(function*(){yield i().call(s,n),yield s.Ja.initialize(s,n),yield pp(s.Ja.syncEngine),yield ju(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return Bg(this.persistence,new Ug,n.initialUser,this.serializer)}ja(n,i){return new ul(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const s=new fe(i,this.persistence);return new Wi(n.asyncQueue,s)}Ga(n){const i=Eh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new Fu(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,zg(),Ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new os}}class y_ extends gp{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,Ee.A)(function*(){yield i().call(s,n);const u=s.Ja.syncEngine;s.sharedClientState instanceof cl&&(s.sharedClientState.syncEngine={no:Td.bind(null,u),ro:fp.bind(null,u),io:__.bind(null,u),Qi:v_.bind(null,u),eo:g_.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,Ee.A)(function*(_){yield function as(l,n){return mm.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wa(n){const i=zg();if(!cl.D(i))throw new qe(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Eh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new cl(i,n.asyncQueue,s,n.clientId,n.initialUser)}}let Fc=(()=>{class l{initialize(i,s){var u=this;return(0,Ee.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>h_(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=p_.bind(null,u.syncEngine),yield bh(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new a_}createDatastore(i){const s=_d(i.databaseInfo.databaseId),u=new Ga(i.databaseInfo);return new Gg(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,f=this.datastore,_=i.asyncQueue,R=s=>h_(this.syncEngine,s,0),k=Ml.D()?new Ml:new jg,new qr(u,f,_,R,k);var u,f,_,R,k}createSyncEngine(i,s){return function(f,_,R,k,Y,Te,He){const Et=new z0(f,_,R,k,Y,Te);return He&&(Et.Qa=!0),Et}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,Ee.A)(function*(){var s,u,f;yield(f=(0,Ee.A)(function*(R){const k=ot(R);xt("RemoteStore","RemoteStore shutting down."),k.L_.add(5),yield Sc(k),k.k_.shutdown(),k.q_.set("Unknown")}),function _(R){return f.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function E_(l,n=10240){let i=0;return{read:()=>(0,Ee.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,Ee.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class mp{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):kn("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class kA{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new un,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,Ee.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Ee.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,Ee.A)(function*(){const i=yield n.nu();if(null===i)return null;const s=n.eu.decode(i),u=Number(s);isNaN(u)&&n.ru(`length string (${s}) is not valid number`);const f=yield n.iu(u);return new Ch(JSON.parse(f),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,Ee.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}iu(n){var i=this;return(0,Ee.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,Ee.A)(function*(){const i=yield n.Xa.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class I_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Ee.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new qe(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,Ee.A)(function*(_,R){const k=ot(_),Y={documents:R.map(Yt=>Aa(k.serializer,Yt))},Te=yield k.Lo("BatchGetDocuments",k.serializer.databaseId,Xn.emptyPath(),Y,R.length),He=new Map;Te.forEach(Yt=>{const _n=function E(l,n){return"found"in n?function(s,u){Dt(!!u.found);const f=Xs(s,u.found.name),_=uo(u.found.updateTime),R=u.found.createTime?uo(u.found.createTime):qn.min(),k=new lo({mapValue:{fields:u.found.fields}});return di.newFoundDocument(f,_,R,k)}(l,n):"missing"in n?function(s,u){Dt(!!u.missing),Dt(!!u.readTime);const f=Xs(s,u.missing),_=uo(u.readTime);return di.newNoDocument(f,_)}(l,n):Jt()}(k.serializer,Yt);He.set(_n.key.toString(),_n)});const Et=[];return R.forEach(Yt=>{const _n=He.get(Yt.toString());Dt(!!_n),Et.push(_n)}),Et}),function f(_,R){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new rs(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ee.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=Pn.fromPath(u);n.mutations.push(new gs(f,n.precondition(f)))}),yield(s=(0,Ee.A)(function*(f,_){const R=ot(f),k={writes:_.map(Y=>L(R.serializer,Y))};yield R.Mo("Commit",R.serializer.databaseId,Xn.emptyPath(),k)}),function u(f,_){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Jt();i=qn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new qe(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(qn.min())?Ge.exists(!1):Ge.updateTime(i):Ge.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(qn.min()))throw new qe(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ge.updateTime(i)}return Ge.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class A_{constructor(n,i,s,u,f){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this._u=s.maxAttempts,this.t_=new yd(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,Ee.A)(function*(){const i=new I_(n.datastore),s=n.cu(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(f=>{n.lu(f)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!Me(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!bl(i)}return!1}}class Us{constructor(n,i,s,u,f){var _=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=ft.UNAUTHENTICATED,this.clientId=_i.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var R=(0,Ee.A)(function*(k){xt("FirestoreClient","Received user=",k.uid),yield _.authCredentialListener(k),_.user=k});return function(k){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(xt("FirestoreClient","Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Rc(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function b_(l,n){return ym.apply(this,arguments)}function ym(){return ym=(0,Ee.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,Ee.A)(function*(f){s.isEqual(f)||(yield Kf(n.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),ym.apply(this,arguments)}function X0(l,n){return vp.apply(this,arguments)}function vp(){return(vp=(0,Ee.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield T_(l);xt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>o_(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>o_(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function T_(l){return kh.apply(this,arguments)}function kh(){return(kh=(0,Ee.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield b_(l,l._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Le.FAILED_PRECONDITION||u.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Ht("Error using user provided cache. Falling back to memory cache: "+n),yield b_(l,new Cd)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield b_(l,new Cd);var u;return l._offlineComponents})).apply(this,arguments)}function Lh(l){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,Ee.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield X0(l,l._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield X0(l,new Fc))),l._onlineComponents})).apply(this,arguments)}function C_(l){return T_(l).then(n=>n.persistence)}function Dd(l){return T_(l).then(n=>n.localStore)}function Wu(l){return Lh(l).then(n=>n.remoteStore)}function D_(l){return Lh(l).then(n=>n.syncEngine)}function Ys(l){return wd.apply(this,arguments)}function wd(){return(wd=(0,Ee.A)(function*(l){const n=yield Lh(l),i=n.eventManager;return i.onListen=Id.bind(null,n.syncEngine),i.onUnlisten=xA.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=G0.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=um.bind(null,n.syncEngine),i})).apply(this,arguments)}function _p(l,n,i={}){const s=new un;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(f,_,R,k,Y){const Te=new mp({next:Et=>{Te.Za(),_.enqueueAndForget(()=>cu(f,He));const Yt=Et.docs.has(R);!Yt&&Et.fromCache?Y.reject(new qe(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&Et.fromCache&&k&&"server"===k.source?Y.reject(new qe(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Y.resolve(Et)},error:Et=>Y.reject(Et)}),He=new sp(Xo(R.path),Te,{includeMetadataChanges:!0,_a:!0});return tm(f,He)}(yield Ys(l),l.asyncQueue,n,i,s)})),s.promise}function P_(l,n,i={}){const s=new un;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(f,_,R,k,Y){const Te=new mp({next:Et=>{Te.Za(),_.enqueueAndForget(()=>cu(f,He)),Et.fromCache&&"server"===k.source?Y.reject(new qe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Y.resolve(Et)},error:Et=>Y.reject(Et)}),He=new sp(R,Te,{includeMetadataChanges:!0,_a:!0});return tm(f,He)}(yield Ys(l),l.asyncQueue,n,i,s)})),s.promise}function Am(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const Ep=new Map;function bm(l,n,i){if(!i)throw new qe(Le.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function O_(l,n,i,s){if(!0===n&&!0===s)throw new qe(Le.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function Tm(l){if(!Pn.isDocumentKey(l))throw new qe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function x_(l){if(Pn.isDocumentKey(l))throw new qe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Wa(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":Jt()}function Mi(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new qe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wa(l);throw new qe(Le.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function Cm(l,n){if(n<=0)throw new qe(Le.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class Z0{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new qe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new qe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}O_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Am(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new qe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new qe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new qe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ip{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new qe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new fr;switch(s.type){case"firstParty":return new yr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new qe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,Ee.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ep.get(i);s&&(xt("ComponentProvider","Removing Datastore"),Ep.delete(i),s.terminate())}(this),Promise.resolve()}}class Bs{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Bs(this.firestore,n,this._query)}}class Mo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Mo(this.firestore,n,this._key)}}class Nl extends Bs{constructor(n,i,s){super(n,i,Xo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Mo(this.firestore,null,new Pn(n))}withConverter(n){return new Nl(this.firestore,n,this._path)}}function Uc(l,n,...i){if(l=(0,tt.Ku)(l),bm("collection","path",n),l instanceof Ip){const s=Xn.fromString(n,...i);return x_(s),new Nl(l,null,s)}{if(!(l instanceof Mo||l instanceof Nl))throw new qe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Xn.fromString(n,...i));return x_(s),new Nl(l.firestore,null,s)}}function Vh(l,n,...i){if(l=(0,tt.Ku)(l),1===arguments.length&&(n=_i.newId()),bm("doc","path",n),l instanceof Ip){const s=Xn.fromString(n,...i);return Tm(s),new Mo(l,null,new Pn(s))}{if(!(l instanceof Mo||l instanceof Nl))throw new qe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Xn.fromString(n,...i));return Tm(s),new Mo(l.firestore,l instanceof Nl?l.converter:null,new Pn(s))}}function N_(l,n){return l=(0,tt.Ku)(l),n=(0,tt.Ku)(n),(l instanceof Mo||l instanceof Nl)&&(n instanceof Mo||n instanceof Nl)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function Uh(l,n){return l=(0,tt.Ku)(l),n=(0,tt.Ku)(n),l instanceof Bs&&n instanceof Bs&&l.firestore===n.firestore&&ia(l._query,n._query)&&l.converter===n.converter}class Sd{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yd(this,"async_queue_retry"),this.Vu=()=>{const s=Ih();s&&xt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=n;const i=Ih();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=Ih();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new un;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,Ee.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!Xr(i))throw i;xt("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(s=>{throw this.Eu=s,this.du=!1,kn("INTERNAL UNHANDLED ERROR: ",function(_){let R=_.message||"";return _.stack&&(R=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),R}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(n,i,s){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=Zg.createAndSchedule(this,n,i,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&Jt()}verifyOperationInProgress(){}wu(){var n=this;return(0,Ee.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function Dm(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(l)}class wm{constructor(){this._progressObserver={},this._taskCompletionResolver=new un,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Ji extends Ip{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new Sd,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,Ee.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new Sd(i),n._firestoreClient=void 0,yield i}})()}}function To(l){if(l._terminated)throw new qe(Le.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||L_(l),l._firestoreClient}function L_(l){var n,i,s;const u=l._freezeSettings(),f=(k=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new cn(l._databaseId,k,l._persistenceKey,(Te=u).host,Te.ssl,Te.experimentalForceLongPolling,Te.experimentalAutoDetectLongPolling,Am(Te.experimentalLongPollingOptions),Te.useFetchStreams));var k,Te;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new Us(l._authCredentials,l._appCheckCredentials,l._queue,f,l._componentsProvider&&function(R){const k=null==R?void 0:R._online.build();return{_offline:null==R?void 0:R._offline.build(k),_online:k}}(l._componentsProvider))}function bp(){return(bp=(0,Ee.A)(function*(l){Ht("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=l._freezeSettings();Tp(l,Fc.provider,{build:i=>new y_(i,n.cacheSizeBytes)})})).apply(this,arguments)}function Tp(l,n,i){if((l=Mi(l,Ji))._firestoreClient||l._terminated)throw new qe(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new qe(Le.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:n,_offline:i},L_(l)}class gl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new gl(pe.fromBase64String(n))}catch(i){throw new qe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new gl(pe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class kl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new qe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Ku{constructor(n){this._methodName=n}}class Cp{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new qe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new qe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Bn(this._lat,n._lat)||Bn(this._long,n._long)}}class Bh{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,n._values)}}const oE=/^__.*__$/;class V_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Jn(n,this.data,this.fieldMask,i,this.fieldTransforms):new gi(n,this.data,i,this.fieldTransforms)}}class U_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Jn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function B_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class Dp{constructor(n,i,s,u,f,_){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Dp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.Ou(n),u}Nu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Op(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(B_(this.Cu)&&oE.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class sE{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||_d(n)}Qu(n,i,s,u=!1){return new Dp({Cu:n,methodName:i,qu:s,path:Er.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(l){const n=l._freezeSettings(),i=_d(l._databaseId);return new sE(l._databaseId,!!n.ignoreUndefinedProperties,i)}function $h(l,n,i,s,u,f={}){const _=l.Qu(f.merge||f.mergeFields?2:0,n,i,u);Mp("Data must be an object, but it was:",_,s);const R=Om(s,_);let k,Y;if(f.merge)k=new ci(_.fieldMask),Y=_.fieldTransforms;else if(f.mergeFields){const Te=[];for(const He of f.mergeFields){const Et=Hh(n,He,i);if(!_.contains(Et))throw new qe(Le.INVALID_ARGUMENT,`Field '${Et}' is specified in your field mask but missing from your input data.`);Nm(Te,Et)||Te.push(Et)}k=new ci(Te),Y=_.fieldTransforms.filter(He=>k.covers(He.field))}else k=null,Y=_.fieldTransforms;return new V_(new lo(R),k,Y)}class Pd extends Ku{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Pd}}function jh(l,n,i){return new Dp({Cu:3,qu:n.settings.qu,methodName:l._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class wp extends Ku{_toFieldTransform(n){return new Be(n.path,new zr)}isEqual(n){return n instanceof wp}}class Sp extends Ku{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=jh(this,n,!0),s=this.Ku.map(f=>Bc(f,i)),u=new As(s);return new Be(n.path,u)}isEqual(n){return n instanceof Sp&&(0,tt.bD)(this.Ku,n.Ku)}}class Rp extends Ku{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=jh(this,n,!0),s=this.Ku.map(f=>Bc(f,i)),u=new Gi(s);return new Be(n.path,u)}isEqual(n){return n instanceof Rp&&(0,tt.bD)(this.Ku,n.Ku)}}class Pp extends Ku{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new tl(n.serializer,La(n.serializer,this.$u));return new Be(n.path,i)}isEqual(n){return n instanceof Pp&&this.$u===n.$u}}function Pm(l,n,i,s){const u=l.Qu(1,n,i);Mp("Data must be an object, but it was:",u,s);const f=[],_=lo.empty();mo(s,(k,Y)=>{const Te=xm(n,k,i);Y=(0,tt.Ku)(Y);const He=u.Nu(Te);if(Y instanceof Pd)f.push(Te);else{const Et=Bc(Y,He);null!=Et&&(f.push(Te),_.set(Te,Et))}});const R=new ci(f);return new U_(_,R,u.fieldTransforms)}function Mm(l,n,i,s,u,f){const _=l.Qu(1,n,i),R=[Hh(n,s,i)],k=[u];if(f.length%2!=0)throw new qe(Le.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Et=0;Et<f.length;Et+=2)R.push(Hh(n,f[Et])),k.push(f[Et+1]);const Y=[],Te=lo.empty();for(let Et=R.length-1;Et>=0;--Et)if(!Nm(Y,R[Et])){const Yt=R[Et];let _n=k[Et];_n=(0,tt.Ku)(_n);const xn=_.Nu(Yt);if(_n instanceof Pd)Y.push(Yt);else{const Nn=Bc(_n,xn);null!=Nn&&(Y.push(Yt),Te.set(Yt,Nn))}}const He=new ci(Y);return new U_(Te,He,_.fieldTransforms)}function $_(l,n,i,s=!1){return Bc(i,l.Qu(s?4:3,n))}function Bc(l,n){if(aE(l=(0,tt.Ku)(l)))return Mp("Unsupported field value:",n,l),Om(l,n);if(l instanceof Ku)return function(s,u){if(!B_(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(s,u){const f=[];let _=0;for(const R of s){let k=Bc(R,u.Lu(_));null==k&&(k={nullValue:"NULL_VALUE"}),f.push(k),_++}return{arrayValue:{values:f}}}(l,n)}return function(s,u){if(null===(s=(0,tt.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return La(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=nr.fromDate(s);return{timestampValue:Go(u.serializer,f)}}if(s instanceof nr){const f=new nr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Go(u.serializer,f)}}if(s instanceof Cp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gl)return{bytesValue:Gl(u.serializer,s._byteString)};if(s instanceof Mo){const f=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(f))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Wl(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Bh)return R=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(k=>{if("number"!=typeof k)throw R.Bu("VectorValues must only contain numeric values.");return Ii(R.serializer,k)})}}}}};var R;throw u.Bu(`Unsupported field value: ${Wa(s)}`)}(l,n)}function Om(l,n){const i={};return jo(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):mo(l,(s,u)=>{const f=Bc(u,n.Mu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function aE(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof nr||l instanceof Cp||l instanceof gl||l instanceof Mo||l instanceof Ku||l instanceof Bh)}function Mp(l,n,i){if(!aE(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Wa(i);throw n.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function Hh(l,n,i){if((n=(0,tt.Ku)(n))instanceof kl)return n._internalPath;if("string"==typeof n)return xm(l,n);throw Op("Field path arguments must be of type string or ",l,!1,void 0,i)}const lE=new RegExp("[~\\*/\\[\\]]");function xm(l,n,i){if(n.search(lE)>=0)throw Op(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new kl(...n.split("."))._internalPath}catch{throw Op(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Op(l,n,i,s,u){const f=s&&!s.isEmpty(),_=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let k="";return(f||_)&&(k+=" (found",f&&(k+=` in field ${s}`),_&&(k+=` in document ${u}`),k+=")"),new qe(Le.INVALID_ARGUMENT,R+l+k)}function Nm(l,n){return l.some(i=>i.isEqual(n))}class $c{constructor(n,i,s,u,f){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Mo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new uE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(ml("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class uE extends $c{data(){return super.data()}}function ml(l,n){return"string"==typeof n?xm(l,n):n instanceof kl?n._internalPath:n._delegate._internalPath}function zh(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new qe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class km{}class Md extends km{}function vl(l,n,...i){let s=[];n instanceof km&&s.push(n),s=s.concat(i),function(f){const _=f.filter(k=>k instanceof Od).length,R=f.filter(k=>k instanceof xp).length;if(_>1||_>0&&R>0)throw new qe(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class xp extends Md{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new xp(n,i,s)}_apply(n){const i=this._parse(n);return Gc(n._query,i),new Bs(n.firestore,n.converter,ra(n._query,i))}_parse(n){const i=qu(n.firestore);return function(f,_,R,k,Y,Te,He){let Et;if(Y.isKeyField()){if("array-contains"===Te||"array-contains-any"===Te)throw new qe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Te}' queries on documentId().`);if("in"===Te||"not-in"===Te){Ld(He,Te);const Yt=[];for(const _n of He)Yt.push(Np(k,f,_n));Et={arrayValue:{values:Yt}}}else Et=Np(k,f,He)}else"in"!==Te&&"not-in"!==Te&&"array-contains-any"!==Te||Ld(He,Te),Et=$_(R,"where",He,"in"===Te||"not-in"===Te);return b.create(Y,Te,Et)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Od extends km{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Od(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:H.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,f){let _=u;const R=f.getFlattenedFilters();for(const k of R)Gc(_,k),_=ra(_,k)}(n._query,i),new Bs(n.firestore,n.converter,ra(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class j_ extends Md{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new j_(n,i)}_apply(n){const i=function(u,f,_){if(null!==u.startAt)throw new qe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new qe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new re(f,_)}(n._query,this._field,this._direction);return new Bs(n.firestore,n.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new Nr(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class jc extends Md{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new jc(n,i,s)}_apply(n){return new Bs(n.firestore,n.converter,Ya(n._query,this._limit,this._limitType))}}class xd extends Md{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new xd(n,i,s)}_apply(n){const i=zc(n,this.type,this._docOrFields,this._inclusive);return new Bs(n.firestore,n.converter,(f=i,new Nr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Hc extends Md{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Hc(n,i,s)}_apply(n){const i=zc(n,this.type,this._docOrFields,this._inclusive);return new Bs(n.firestore,n.converter,(f=i,new Nr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function zc(l,n,i,s){if(i[0]=(0,tt.Ku)(i[0]),i[0]instanceof $c)return function(f,_,R,k,Y){if(!k)throw new qe(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${R}().`);const Te=[];for(const He of na(f))if(He.field.isKeyField())Te.push(Ho(_,k.key));else{const Et=k.data.field(He.field);if(Ze(Et))throw new qe(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+He.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Et){const Yt=He.field.canonicalString();throw new qe(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}Te.push(Et)}return new Ui(Te,Y)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=qu(l.firestore);return function(_,R,k,Y,Te,He){const Et=_.explicitOrderBy;if(Te.length>Et.length)throw new qe(Le.INVALID_ARGUMENT,`Too many arguments provided to ${Y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let _n=0;_n<Te.length;_n++){const xn=Te[_n];if(Et[_n].field.isKeyField()){if("string"!=typeof xn)throw new qe(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Y}(), but got a ${typeof xn}`);if(!Oa(_)&&-1!==xn.indexOf("/"))throw new qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Y}() must be a plain document ID, but '${xn}' contains a slash.`);const Nn=_.path.child(Xn.fromString(xn));if(!Pn.isDocumentKey(Nn))throw new qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Y}() must result in a valid document path, but '${Nn}' is not because it contains an odd number of segments.`);const vr=new Pn(Nn);Yt.push(Ho(R,vr))}else{const Nn=$_(k,Y,xn);Yt.push(Nn)}}return new Ui(Yt,He)}(l._query,l.firestore._databaseId,u,n,i,s)}}function Np(l,n,i){if("string"==typeof(i=(0,tt.Ku)(i))){if(""===i)throw new qe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oa(n)&&-1!==i.indexOf("/"))throw new qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(Xn.fromString(i));if(!Pn.isDocumentKey(s))throw new qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ho(l,new Pn(s))}if(i instanceof Mo)return Ho(l,i._key);throw new qe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wa(i)}.`)}function Ld(l,n){if(!Array.isArray(l)||0===l.length)throw new qe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Gc(l,n){const i=function(u,f){for(const _ of u)for(const R of _.getFlattenedFilters())if(f.indexOf(R.op)>=0)return R.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new qe(Le.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class H_{convertValue(n,i="none"){switch(Hn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return V(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ue(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Jt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return mo(n,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(n){var i,s,u;const f=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>V(_.doubleValue));return new Bh(f)}convertGeoPoint(n){return new Cp(V(n.latitude),V(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=_t(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Tt(n));default:return null}}convertTimestamp(n){const i=T(n);return new nr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=Xn.fromString(n);Dt(Ao(s));const u=new mn(s.get(1),s.get(3)),f=new Pn(s.popFirst(5));return u.isEqual(i)||kn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Fd(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class qh extends H_{constructor(n){super(),this.firestore=n}convertBytes(n){return new gl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Mo(this.firestore,null,i)}}class Xu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class hu extends $c{constructor(n,i,s,u,f,_){super(n,i,s,u,_),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(ml("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Xh extends hu{data(n={}){return super.data(n)}}class Ka{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Xu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new Xh(this._firestore,this._userDataWriter,s.key,s,new Xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new qe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new Xh(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Xu(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>f||3!==R.type).map(R=>{const k=new Xh(u._firestore,u._userDataWriter,R.doc.key,R.doc,new Xu(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let Y=-1,Te=-1;return 0!==R.type&&(Y=_.indexOf(R.doc.key),_=_.delete(R.doc.key)),1!==R.type&&(_=_.add(R.doc),Te=_.indexOf(R.doc.key)),{type:G_(R.type),doc:k,oldIndex:Y,newIndex:Te}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function G_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function kp(l,n){return l instanceof hu&&n instanceof hu?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Ka&&n instanceof Ka&&l._firestore===n._firestore&&Uh(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class Wc extends H_{constructor(n){super(),this.firestore=n}convertBytes(n){return new gl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Mo(this.firestore,null,i)}}function Vm(l,n,i){l=Mi(l,Mo);const s=Mi(l.firestore,Ji),u=Fd(l.converter,n,i);return qc(s,[$h(qu(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,Ge.none())])}function W_(l,n,i,...s){l=Mi(l,Mo);const u=Mi(l.firestore,Ji),f=qu(u);let _;return _="string"==typeof(n=(0,tt.Ku)(n))||n instanceof kl?Mm(f,"updateDoc",l._key,n,i,s):Pm(f,"updateDoc",l._key,n),qc(u,[_.toMutation(l._key,Ge.exists(!0))])}function Bm(l,...n){var i,s,u;l=(0,tt.Ku)(l);let f={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof n[_]||Dm(n[_])||(f=n[_],_++);const R={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Dm(n[_])){const He=n[_];n[_]=null===(i=He.next)||void 0===i?void 0:i.bind(He),n[_+1]=null===(s=He.error)||void 0===s?void 0:s.bind(He),n[_+2]=null===(u=He.complete)||void 0===u?void 0:u.bind(He)}let k,Y,Te;if(l instanceof Mo)Y=Mi(l.firestore,Ji),Te=Xo(l._key.path),k={next:He=>{n[_]&&n[_](Vd(Y,l,He))},error:n[_+1],complete:n[_+2]};else{const He=Mi(l,Bs);Y=Mi(He.firestore,Ji),Te=He._query;const Et=new Wc(Y);k={next:Yt=>{n[_]&&n[_](new Ka(Y,Et,He,Yt))},error:n[_+1],complete:n[_+2]},zh(l._query)}return function(Et,Yt,_n,xn){const Nn=new mp(xn),vr=new sp(Yt,Nn,_n);return Et.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return tm(yield Ys(Et),vr)})),()=>{Nn.Za(),Et.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return cu(yield Ys(Et),vr)}))}}(To(Y),Te,R,k)}function qc(l,n){return function(s,u){const f=new un;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function cm(l,n,i){return Oc.apply(this,arguments)}(yield D_(s),u,f)})),f.promise}(To(l),n)}function Vd(l,n,i){const s=i.docs.get(n._key),u=new Wc(l);return new hu(l,u,n._key,s,new Xu(i.hasPendingWrites,i.fromCache),n.converter)}const Z_={maxAttempts:5};class Hm{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=qu(n)}set(n,i,s){this._verifyNotCommitted();const u=fu(n,this._firestore),f=Fd(u.converter,i,s),_=$h(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,Ge.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const f=fu(n,this._firestore);let _;return _="string"==typeof(i=(0,tt.Ku)(i))||i instanceof kl?Mm(this._dataReader,"WriteBatch.update",f._key,i,s,u):Pm(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(_.toMutation(f._key,Ge.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=fu(n,this._firestore);return this._mutations=this._mutations.concat(new rs(i._key,Ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fu(l,n){if((l=(0,tt.Ku)(l)).firestore!==n)throw new qe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class ey extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=qu(i)}get(i){const s=fu(i,this._firestore),u=new qh(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Jt();const _=f[0];if(_.isFoundDocument())return new $c(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new $c(this._firestore,u,s._key,null,s.converter);throw Jt()})}set(i,s,u){const f=fu(i,this._firestore),_=Fd(f.converter,s,u),R=$h(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,u);return this._transaction.set(f._key,R),this}update(i,s,u,...f){const _=fu(i,this._firestore);let R;return R="string"==typeof(s=(0,tt.Ku)(s))||s instanceof kl?Mm(this._dataReader,"Transaction.update",_._key,s,u,f):Pm(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,R),this}delete(i){const s=fu(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=fu(n,this._firestore),s=new Wc(this._firestore);return super.get(n).then(u=>new hu(this._firestore,s,i._key,u._document,new Xu(!1,!1),i.converter))}}function sy(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new qe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function TE(){if(typeof Uint8Array>"u")throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function CE(){if(!function te(){return typeof atob<"u"}())throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){Wt=we.SDK_VERSION,(0,we._registerComponent)(new ke.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const _=s.getProvider("app").getImmediate(),R=new Ji(new Un(s.getProvider("auth-internal")),new gr(s.getProvider("app-check-internal")),function(Y,Te){if(!Object.prototype.hasOwnProperty.apply(Y.options,["projectId"]))throw new qe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mn(Y.options.projectId,Te)}(_,u),_);return f=Object.assign({useFetchStreams:i},f),R._setSettings(f),R},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(yt,"4.7.3",n),(0,we.registerVersion)(yt,"4.7.3","esm2017")}();class Qc{constructor(n){this._delegate=n}static fromBase64String(n){return CE(),new Qc(gl.fromBase64String(n))}static fromUint8Array(n){return TE(),new Qc(gl.fromUint8Array(n))}toBase64(){return CE(),this._delegate.toBase64()}toUint8Array(){return TE(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zh(l){return function ZA(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of n)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class eb{enableIndexedDbPersistence(n,i){return function nE(l,n){Ht("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return Tp(l,Fc.provider,{build:s=>new gp(s,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function rE(l){return bp.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function iE(l){if(l._initialized&&!l._terminated)throw new qe(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new un;return l._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{yield(i=(0,Ee.A)(function*(u){if(!Mn.D())return Promise.resolve();const f=u+"main";yield Mn.delete(f)}),function s(u){return i.apply(this,arguments)})(Eh(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class zm{constructor(n,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof mn||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Ht("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,s={}){!function eE(l,n,i,s={}){var u;const f=(l=Mi(l,Ip))._getSettings(),_=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&Ht("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),s.mockUserToken){let R,k;if("string"==typeof s.mockUserToken)R=s.mockUserToken,k=ft.MOCK_USER;else{R=(0,tt.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const Y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Y)throw new qe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ft(Y)}l._authCredentials=new sr(new jn(R,k))}}(this._delegate,n,i,s)}enableNetwork(){return function Sm(l){return function S_(l){return l.asyncQueue.enqueue((0,Ee.A)(function*(){const n=yield C_(l),i=yield Wu(l);return n.setNetworkEnabled(!0),function(u){const f=ot(u);return f.L_.delete(0),Uu(f)}(i)}))}(To(l=Mi(l,Ji)))}(this._delegate)}disableNetwork(){return function F_(l){return function R_(l){return l.asyncQueue.enqueue((0,Ee.A)(function*(){const n=yield C_(l),i=yield Wu(l);return n.setNetworkEnabled(!1),(s=(0,Ee.A)(function*(f){const _=ot(f);_.L_.add(0),yield Sc(_),_.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(To(l=Mi(l,Ji)))}(this._delegate)}enablePersistence(n){let i=!1,s=!1;return n&&(i=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,O_("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pa(l){return function(i){const s=new un;return i.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function Ol(l,n){return fm.apply(this,arguments)}(yield D_(i),s)})),s.promise}(To(l=Mi(l,Ji)))}(this._delegate)}onSnapshotsInSync(n){return function Kc(l,n){return function Q0(l,n){const i=new mp(n);return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return u=yield Ys(l),f=i,ot(u).Y_.add(f),void f.next();var u,f})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return u=yield Ys(l),f=i,void ot(u).Y_.delete(f);var u,f}))}}(To(l=Mi(l,Ji)),Dm(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new _l(this,Uc(this._delegate,n))}catch(i){throw $s(i,"collection()","Firestore.collection()")}}doc(n){try{return new Sa(this,Vh(this._delegate,n))}catch(i){throw $s(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Zs(this,function Fh(l,n){if(l=Mi(l,Ip),bm("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new qe(Le.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(l,null,(s=n,new Nr(Xn.emptyPath(),s)));var s}(this._delegate,n))}catch(i){throw $s(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function vE(l,n,i){l=Mi(l,Ji);const s=Object.assign(Object.assign({},Z_),i);return function(f){if(f.maxAttempts<1)throw new qe(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,_,R){const k=new un;return f.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){const Y=yield function w_(l){return Lh(l).then(n=>n.datastore)}(f);new A_(f.asyncQueue,Y,R,_,k).au()})),k.promise}(To(l),u=>n(new ey(l,u)),s)}(this._delegate,i=>n(new ay(this,i)))}batch(){return To(this._delegate),new ly(new Hm(this._delegate,n=>qc(this._delegate,n)))}loadBundle(n){return function FA(l,n){const i=To(l=Mi(l,Ji)),s=new wm;return function Em(l,n,i,s){const u=function(_,R){let k;return k="string"==typeof _?xs().encode(_):_,Te=function(Te){if(Te instanceof Uint8Array)return E_(Te,void 0);if(Te instanceof ArrayBuffer)return E_(new Uint8Array(Te),void 0);if(Te instanceof ReadableStream)return Te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new kA(Te,R);var Te}(i,_d(n));l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){!function K0(l,n,i){const s=ot(l);var u;(u=(0,Ee.A)(function*(_,R,k){try{const Y=yield R.getMetadata();if(yield function(_n,xn){const Nn=ot(_n),vr=uo(xn.createTime);return Nn.persistence.runTransaction("hasNewerBundle","readonly",Sr=>Nn.Gr.getBundleMetadata(Sr,xn.id)).then(Sr=>!!Sr&&Sr.createTime.compareTo(vr)>=0)}(_.localStore,Y))return yield R.close(),k._completeWith({taskState:"Success",documentsLoaded:(_n=Y).totalDocuments,bytesLoaded:_n.totalBytes,totalDocuments:_n.totalDocuments,totalBytes:_n.totalBytes}),Promise.resolve(new Set);k._updateProgress(Dh(Y));const Te=new H0(Y,_.localStore,R.serializer);let He=yield R.Ua();for(;He;){const Yt=yield Te.la(He);Yt&&k._updateProgress(Yt),He=yield R.Ua()}const Et=yield Te.complete();return yield xl(_,Et.Ia,void 0),yield function(_n,xn){const Nn=ot(_n);return Nn.persistence.runTransaction("Save bundle","readwrite",vr=>Nn.Gr.saveBundleMetadata(vr,xn))}(_.localStore,Y),k._completeWith(Et.progress),Promise.resolve(Et.Pa)}catch(Y){return Ht("SyncEngine",`Loading bundle failed with ${Y}`),k._failWith(Y),Promise.resolve(new Set)}var _n}),function f(_,R,k){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield D_(l),u,s)}))}(i,l._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function VA(l,n){return function J0(l,n){return l.asyncQueue.enqueue((0,Ee.A)(function*(){return function(s,u){const f=ot(s);return f.persistence.runTransaction("Get named query","readonly",_=>f.Gr.getNamedQuery(_,u))}(yield Dd(l),n)}))}(To(l=Mi(l,Ji)),n).then(i=>i?new Bs(l,null,i.query):null)}(this._delegate,n).then(i=>i?new Zs(this,i):null)}}class Bp extends H_{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qc(new gl(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return Sa.forKey(i,this.firestore,null)}}class ay{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new Bp(n)}get(n){const i=Yc(n);return this._delegate.get(i).then(s=>new Ud(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(n,i,s){const u=Yc(n);return s?(sy("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const f=Yc(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(n){const i=Yc(n);return this._delegate.delete(i),this}}class ly{constructor(n){this._delegate=n}set(n,i,s){const u=Yc(n);return s?(sy("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const f=Yc(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(n){const i=Yc(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Jc{constructor(n,i,s){this._firestore=n,this._userDataWriter=i,this._delegate=s}fromFirestore(n,i){const s=new Xh(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Yu(this._firestore,s),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const s=Jc.INSTANCES;let u=s.get(n);u||(u=new WeakMap,s.set(n,u));let f=u.get(i);return f||(f=new Jc(n,new Bp(n),i),u.set(i,f)),f}}Jc.INSTANCES=new WeakMap;class Sa{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Bp(n)}static forPath(n,i,s){if(n.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Sa(i,new Mo(i._delegate,s,new Pn(n)))}static forKey(n,i,s){return new Sa(i,new Mo(i._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new _l(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new _l(this.firestore,Uc(this._delegate,n))}catch(i){throw $s(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,tt.Ku)(n))instanceof Mo&&N_(this._delegate,n)}set(n,i){i=sy("DocumentReference.set",i);try{return i?Vm(this._delegate,n,i):Vm(this._delegate,n)}catch(s){throw $s(s,"setDoc()","DocumentReference.set()")}}update(n,i,...s){try{return 1===arguments.length?W_(this._delegate,n):W_(this._delegate,n,i,...s)}catch(u){throw $s(u,"updateDoc()","DocumentReference.update()")}}delete(){return function K_(l){return qc(Mi(l.firestore,Ji),[new rs(l._key,Ge.none())])}(this._delegate)}onSnapshot(...n){const i=uy(n),s=cy(n,u=>new Ud(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Bm(this._delegate,i,s)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function WA(l){l=Mi(l,Mo);const n=Mi(l.firestore,Ji),i=To(n),s=new Wc(n);return function LA(l,n){const i=new un;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(s=(0,Ee.A)(function*(f,_,R){try{const k=yield function(Te,He){const Et=ot(Te);return Et.persistence.runTransaction("read document","readonly",Yt=>Et.localDocuments.getDocument(Yt,He))}(f,_);k.isFoundDocument()?R.resolve(k):k.isNoDocument()?R.resolve(null):R.reject(new qe(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const Y=Rc(k,`Failed to get document '${_} from cache`);R.reject(Y)}}),function u(f,_,R){return s.apply(this,arguments)})(yield Dd(l),n,i);var s})),i.promise}(i,l._key).then(u=>new hu(n,s,l._key,u,new Xu(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function Qh(l){l=Mi(l,Mo);const n=Mi(l.firestore,Ji);return _p(To(n),l._key,{source:"server"}).then(i=>Vd(n,l,i))}(this._delegate):function fE(l){l=Mi(l,Mo);const n=Mi(l.firestore,Ji);return _p(To(n),l._key).then(i=>Vd(n,l,i))}(this._delegate),i.then(s=>new Ud(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new Sa(this.firestore,this._delegate.withConverter(n?Jc.getInstance(this.firestore,n):null))}}function $s(l,n,i){return l.message=l.message.replace(n,i),l}function uy(l){for(const n of l)if("object"==typeof n&&!Zh(n))return n;return{}}function cy(l,n){var i,s;let u;return u=Zh(l[0])?l[0]:Zh(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:f=>{u.next&&u.next(n(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Ud{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return kp(this._delegate,n._delegate)}}class Yu extends Ud{data(n){const i=this._delegate.data(n);return this._delegate._converter||function bn(l){l||Jt()}(void 0!==i),i}}class Zs{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Bp(n)}where(n,i,s){try{return new Zs(this.firestore,vl(this._delegate,function BA(l,n,i){const s=n,u=ml("where",l);return xp._create(u,s,i)}(n,i,s)))}catch(u){throw $s(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Zs(this.firestore,vl(this._delegate,function HA(l,n="asc"){const i=n,s=ml("orderBy",l);return j_._create(s,i)}(n,i)))}catch(s){throw $s(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Zs(this.firestore,vl(this._delegate,function cE(l){return Cm("limit",l),jc._create("limit",l,"F")}(n)))}catch(i){throw $s(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Zs(this.firestore,vl(this._delegate,function Lm(l){return Cm("limitToLast",l),jc._create("limitToLast",l,"L")}(n)))}catch(i){throw $s(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Zs(this.firestore,vl(this._delegate,function Nd(...l){return xd._create("startAt",l,!0)}(...n)))}catch(i){throw $s(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Zs(this.firestore,vl(this._delegate,function Gh(...l){return xd._create("startAfter",l,!1)}(...n)))}catch(i){throw $s(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Zs(this.firestore,vl(this._delegate,function kd(...l){return Hc._create("endBefore",l,!1)}(...n)))}catch(i){throw $s(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Zs(this.firestore,vl(this._delegate,function Wh(...l){return Hc._create("endAt",l,!0)}(...n)))}catch(i){throw $s(i,"endAt()","Query.endAt()")}}isEqual(n){return Uh(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Lp(l){l=Mi(l,Bs);const n=Mi(l.firestore,Ji),i=To(n),s=new Wc(n);return function yp(l,n){const i=new un;return l.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(s=(0,Ee.A)(function*(f,_,R){try{const k=yield Pt(f,_,!0),Y=new ap(_,k.Ts),Te=Y.ma(k.documents),He=Y.applyChanges(Te,!1);R.resolve(He.snapshot)}catch(k){const Y=Rc(k,`Failed to execute query '${_} against cache`);R.reject(Y)}}),function u(f,_,R){return s.apply(this,arguments)})(yield Dd(l),n,i);var s})),i.promise}(i,l._query).then(u=>new Ka(n,s,l,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function Fm(l){l=Mi(l,Bs);const n=Mi(l.firestore,Ji),i=To(n),s=new Wc(n);return P_(i,l._query,{source:"server"}).then(u=>new Ka(n,s,l,u))}(this._delegate):function pE(l){l=Mi(l,Bs);const n=Mi(l.firestore,Ji),i=To(n),s=new Wc(n);return zh(l._query),P_(i,l._query).then(u=>new Ka(n,s,l,u))}(this._delegate),i.then(s=>new Wm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const i=uy(n),s=cy(n,u=>new Wm(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Bm(this._delegate,i,s)}withConverter(n){return new Zs(this.firestore,this._delegate.withConverter(n?Jc.getInstance(this.firestore,n):null))}}class Gm{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Yu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wm{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Yu(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new Gm(this._firestore,i))}forEach(n,i){this._delegate.forEach(s=>{n.call(i,new Yu(this._firestore,s))})}isEqual(n){return kp(this._delegate,n._delegate)}}class _l extends Zs{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Sa(this.firestore,n):null}doc(n){try{return new Sa(this.firestore,void 0===n?Vh(this._delegate):Vh(this._delegate,n))}catch(i){throw $s(i,"doc()","CollectionReference.doc()")}}add(n){return function Um(l,n){const i=Mi(l.firestore,Ji),s=Vh(l),u=Fd(l.converter,n);return qc(i,[$h(qu(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,Ge.exists(!1))]).then(()=>s)}(this._delegate,n).then(i=>new Sa(this.firestore,i))}isEqual(n){return N_(this._delegate,n._delegate)}withConverter(n){return new _l(this.firestore,this._delegate.withConverter(n?Jc.getInstance(this.firestore,n):null))}}function Yc(l){return Mi(l,Mo)}class Km{constructor(...n){this._delegate=new kl(...n)}static documentId(){return new Km(Er.keyField().canonicalString())}isEqual(n){return(n=(0,tt.Ku)(n))instanceof kl&&this._delegate._internalPath.isEqual(n._internalPath)}}class Zu{constructor(n){this._delegate=n}static serverTimestamp(){const n=function yE(){return new wp("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Zu(n)}static delete(){const n=function _E(){return new Pd("deleteField")}();return n._methodName="FieldValue.delete",new Zu(n)}static arrayUnion(...n){const i=function EE(...l){return new Sp("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new Zu(i)}static arrayRemove(...n){const i=function IE(...l){return new Rp("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new Zu(i)}static increment(n){const i=function Qu(l){return new Pp("increment",l)}(n);return i._methodName="FieldValue.increment",new Zu(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const dy={Firestore:zm,GeoPoint:Cp,Timestamp:nr,Blob:Qc,Transaction:ay,WriteBatch:ly,DocumentReference:Sa,DocumentSnapshot:Ud,Query:Zs,QueryDocumentSnapshot:Yu,QuerySnapshot:Wm,CollectionReference:_l,FieldPath:Km,FieldValue:Zu,setLogLevel:function DE(l){!function Fn(l){Lt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function SE(l){(function wE(l,n){l.INTERNAL.registerComponent(new ke.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(s,u)},"PUBLIC").setServiceProps(Object.assign({},dy)))})(l,(n,i)=>new zm(n,i,new eb)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(It.A);var RE=O(7935);function qm(l,n){return function PE(l,n=Ae.E){return new xe.c(i=>{let s;return null!=n?n.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,n)}function hy(l,n){return qm(l,n).pipe((0,at.T)(i=>({payload:i,type:"query"})))}class Bd{constructor(n,i){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const s=this.ref.collection(n),{ref:u,query:f}=NE(s,i);return new gy(u,f,this.afs)}snapshotChanges(){return function tb(l,n){return qm(l,n).pipe((0,ye.Z)(void 0),Ke(),(0,at.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,at.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,We.H)(this.ref.get(n)).pipe(_e.U0)}}function $p(l,n){return hy(l,n).pipe((0,ye.Z)(void 0),Ke(),(0,at.T)(i=>{const[s,u]=i,f=u.payload.docChanges(),_=f.map(R=>({type:R.type,payload:R}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((R,k)=>{const Y=f.find(He=>He.doc.ref.isEqual(R.ref)),Te=null==s?void 0:s.payload.docs.find(He=>He.ref.isEqual(R.ref));Y&&JSON.stringify(Y.doc.metadata)===JSON.stringify(R.metadata)||!Y&&Te&&JSON.stringify(Te.metadata)===JSON.stringify(R.metadata)||_.push({type:"modified",payload:{oldIndex:k,newIndex:k,type:"modified",doc:R}})}),_}))}function fy(l,n,i){return $p(l,i).pipe((0,mt.S)((s,u)=>function ME(l,n,i){return n.forEach(s=>{i.indexOf(s.type)>-1&&(l=function OE(l,n){switch(n.type){case"added":if(!l[n.newIndex]||!l[n.newIndex].doc.ref.isEqual(n.doc.ref))return jp(l,n.newIndex,0,n);break;case"modified":if(null==l[n.oldIndex]||l[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=l.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return jp(l,n.newIndex,1,n)}break;case"removed":if(l[n.oldIndex]&&l[n.oldIndex].doc.ref.isEqual(n.doc.ref))return jp(l,n.oldIndex,1)}return l}(l,s))}),l}(s,u.map(f=>f.payload),n),[]),(0,rt.F)(),(0,at.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function jp(l,n,i,...s){const u=l.slice();return u.splice(n,i,...s),u}function py(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class gy{constructor(n,i,s){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=s}stateChanges(n){let i=$p(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,at.T)(s=>s.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,ye.Z)(void 0),Ke(),(0,st.p)(([s,u])=>u.length>0||!s),(0,at.T)(([,s])=>s),_e.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,mt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=py(n);return fy(this.query,i,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(n={}){return hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.T)(i=>i.payload.docs.map(s=>n.idField?{...s.data(),[n.idField]:s.id}:s.data())),_e.U0)}get(n){return(0,We.H)(this.query.get(n)).pipe(_e.U0)}add(n){return this.ref.add(n)}doc(n){return new Bd(this.ref.doc(n),this.afs)}}class xE{constructor(n,i){(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?$p(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.T)(i=>i.filter(s=>n.indexOf(s.type)>-1)),(0,st.p)(i=>i.length>0),_e.U0):$p(this.query,this.afs.schedulers.outsideAngular).pipe(_e.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,mt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=py(n);return fy(this.query,i,this.afs.schedulers.outsideAngular).pipe(_e.U0)}valueChanges(n={}){return hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.T)(s=>s.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),_e.U0)}get(n){return(0,We.H)(this.query.get(n)).pipe(_e.U0)}}const my=new F.nKC("angularfire2.enableFirestorePersistence"),vy=new F.nKC("angularfire2.firestore.persistenceSettings"),Xm=new F.nKC("angularfire2.firestore.settings"),nb=new F.nKC("angularfire2.firestore.use-emulator");function NE(l,n=i=>i){return{query:n(l),ref:l}}let Hp=(()=>{var l;class n{constructor(s,u,f,_,R,k,Y,Te,He,Et,Yt,_n,xn,Nn,vr,Sr,Cr){(0,c.A)(this,"schedulers",void 0),(0,c.A)(this,"firestore",void 0),(0,c.A)(this,"persistenceEnabled$",void 0),this.schedulers=Y;const Gr=(0,Q.iB)(s,k,u),Li=He;Et&&(0,ee.gF)(Gr,k,Yt,xn,Nn,vr,_n,Sr),[this.firestore,this.persistenceEnabled$]=(0,Q.BM)(`${Gr.name}.firestore`,"AngularFirestore",Gr.name,()=>{const Yr=k.runOutsideAngular(()=>Gr.firestore());if(_&&Yr.settings(_),Li&&Yr.useEmulator(...Li),f&&!(0,h.Vy)(R)){const Ut=()=>{try{return(0,We.H)(Yr.enablePersistence(Te||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),(0,Oe.of)(!1)}};return[Yr,k.runOutsideAngular(Ut)]}return[Yr,(0,Oe.of)(!1)]},[_,Li,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:R}=NE(f,u),k=this.schedulers.ngZone.run(()=>_);return new gy(k,R,this)}collectionGroup(s,u){const f=u||(R=>R),_=this.firestore.collectionGroup(s);return new xE(f(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new Bd(f,this)}createId(){return this.firestore.collection("_").doc().id}}return l=n,(0,c.A)(n,"\u0275fac",function(s){return new(s||l)(F.KVO(Q.rx),F.KVO(Q.uP,8),F.KVO(my,8),F.KVO(Xm,8),F.KVO(F.Agw),F.KVO(F.SKi),F.KVO(_e.u0),F.KVO(vy,8),F.KVO(nb,8),F.KVO(ee.DS,8),F.KVO(ee.CP,8),F.KVO(ee.yy,8),F.KVO(ee.ZP,8),F.KVO(ee.$z,8),F.KVO(ee.AU,8),F.KVO(ee.UB,8),F.KVO(_e.Jv,8))}),(0,c.A)(n,"\u0275prov",F.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),n})(),rb=(()=>{var l;class n{constructor(){RE.A.registerVersion("angularfire",_e.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:n,providers:[{provide:my,useValue:!0},{provide:vy,useValue:s}]}}}return l=n,(0,c.A)(n,"\u0275fac",function(s){return new(s||l)}),(0,c.A)(n,"\u0275mod",F.$C({type:l})),(0,c.A)(n,"\u0275inj",F.G2t({providers:[Hp]})),n})()},9253:(Cn,it,O)=>{"use strict";O.d(it,{BM:()=>at,Gt:()=>ee,bf:()=>Ke,e7:()=>Ae,iB:()=>ye,rx:()=>We,uP:()=>Oe});var c=O(9842),h=O(3953),F=O(1825),_e=O(7935);const Q=["ngOnDestroy"],ee=(Mt,It,Ee,we={})=>new Proxy(Mt,{get:(ke,Je)=>Ee.runOutsideAngular(()=>{var tt;if(Mt[Je])return null!=we&&null!==(tt=we.spy)&&void 0!==tt&&tt.get&&we.spy.get(Je,Mt[Je]),Mt[Je];if(Q.indexOf(Je)>-1)return()=>{};const Ot=It.toPromise().then(Pe=>{const pt=null==Pe?void 0:Pe[Je];return"function"==typeof pt?pt.bind(Pe):null!=pt&&pt.then?pt.then(kt=>Ee.run(()=>kt)):Ee.run(()=>pt)});return new Proxy(()=>{},{get:(Pe,pt)=>Ot[pt],apply:(Pe,pt,kt)=>Ot.then(tn=>{var An;const hn=null==tn?void 0:tn(...kt);return null!=we&&null!==(An=we.spy)&&void 0!==An&&An.apply&&we.spy.apply(Je,kt,hn),hn})})})}),Ae=(Mt,It)=>{It.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(we=>{Object.defineProperty(Mt.prototype,we,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,we))})})};class xe{constructor(It){return It}}const We=new h.nKC("angularfire2.app.options"),Oe=new h.nKC("angularfire2.app.name");function ye(Mt,It,Ee){const ke="object"==typeof Ee&&Ee||{};ke.name=ke.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const tt=_e.A.apps.filter(Ot=>Ot&&Ot.name===ke.name)[0]||It.runOutsideAngular(()=>_e.A.initializeApp(Mt,ke));try{if(JSON.stringify(Mt)!==JSON.stringify(tt.options)){const Ot=!!module.hot;ze("error",`${tt.name} Firebase App already initialized with different options${Ot?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xe(tt)}const ze=(Mt,...It)=>{(0,h.naY)()&&typeof console<"u"&&console[Mt](...It)},Qe={provide:xe,useFactory:ye,deps:[We,h.SKi,[new h.Xx1,Oe]]};let Ke=(()=>{var Mt;class It{static initializeApp(we,ke){return{ngModule:It,providers:[{provide:We,useValue:we},{provide:Oe,useValue:ke}]}}constructor(we){_e.A.registerVersion("angularfire",F.xv.full,"core"),_e.A.registerVersion("angularfire",F.xv.full,"app-compat"),_e.A.registerVersion("angular",h.xvI.full,we.toString())}}return Mt=It,(0,c.A)(It,"\u0275fac",function(we){return new(we||Mt)(h.KVO(h.Agw))}),(0,c.A)(It,"\u0275mod",h.$C({type:Mt})),(0,c.A)(It,"\u0275inj",h.G2t({providers:[Qe]})),It})();function at(Mt,It,Ee,we,ke){const[,Je,tt]=globalThis.\u0275AngularfireInstanceCache.find(Ot=>Ot[0]===Mt)||[];if(Je)return function mt(Mt,It){try{return Mt.toString()===It.toString()}catch{return Mt===It}}(ke,tt)||(st("error",`${It} was already initialized on the ${Ee} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),st("warn",{is:ke,was:tt})),Je;{const Ot=we();return globalThis.\u0275AngularfireInstanceCache.push([Mt,Ot,ke]),Ot}}const rt=typeof module<"u"&&!!module.hot,st=(Mt,...It)=>{(0,h.naY)()&&typeof console<"u"&&console[Mt](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(Cn,it,O)=>{"use strict";O.d(it,{xv:()=>mt,U0:()=>An,u0:()=>tt,Jv:()=>It});var c=O(9842),h=O(3953),F=O(7852);(0,F.registerVersion)("firebase","10.14.1","app");var ee=O(6780),xe=O(9687);const Oe=new class We extends xe.q{}(class Ae extends ee.R{constructor(ae,ue){super(ae,ue),this.scheduler=ae,this.work=ue}schedule(ae,ue=0){return ue>0?super.schedule(ae,ue):(this.delay=ue,this.state=ae,this.scheduler.flush(this),this)}execute(ae,ue){return ue>0||this.closed?super.execute(ae,ue):this._execute(ae,ue)}requestAsyncId(ae,ue,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(ae,ue,ge):(ae.flush(this),0)}});var ze=O(3236),Qe=O(8141),Ke=O(6745),at=O(941);const mt=new h.RxE("ANGULARFIRE2_VERSION");class It{constructor(){return(Ve=>{const ue=(0,F.getApps)(),ge=[];return ue.forEach(je=>{je.container.getProvider(Ve).instances.forEach(yt=>{ge.includes(yt)||ge.push(yt)})}),ge})(Ee)}}const Ee="app-check";function we(){}class ke{constructor(ae,ue=Oe){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=ae,this.delegate=ue}now(){return this.delegate.now()}schedule(ae,ue,ge){const je=this.zone;return this.delegate.schedule(function(yt){je.runGuarded(()=>{ae.apply(this,[yt])})},ue,ge)}}class Je{constructor(ae){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=ae}call(ae,ue){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),ue.pipe((0,Qe.M)({next:ge,complete:ge,error:ge})).subscribe(ae).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tt=(()=>{var Ve;class ae{constructor(ge){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=ge,this.outsideAngular=ge.runOutsideAngular(()=>new ke(Zone.current)),this.insideAngular=ge.run(()=>new ke(Zone.current,ze.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ve=ae,(0,c.A)(ae,"\u0275fac",function(ge){return new(ge||Ve)(h.KVO(h.SKi))}),(0,c.A)(ae,"\u0275prov",h.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})),ae})();function An(Ve){return function hn(Ve){return function(ue){return(ue=ue.lift(new Je(Ve.ngZone))).pipe((0,Ke._)(Ve.outsideAngular),(0,at.Q)(Ve.insideAngular))}}(function Ot(){const Ve=globalThis.\u0275AngularFireScheduler;if(!Ve)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ve}())(Ve)}},4341:(Cn,it,O)=>{"use strict";O.d(it,{Dg:()=>Uo,ok:()=>ar,JD:()=>ur,j4:()=>cn,YN:()=>qo,zX:()=>Vo,xh:()=>re,VZ:()=>fs,cz:()=>tt,kq:()=>mt,vO:()=>un,BC:()=>Un,cb:()=>en,cV:()=>rr,vS:()=>ri,X1:()=>Bo,YS:()=>Ko,k0:()=>pt,qT:()=>Do});var c=O(3953),h=O(177),F=O(8455),_e=O(1985),Q=O(3073),ee=O(8750),Ae=O(3794),xe=O(4360),We=O(6450),Oe=O(8496),ze=O(1413),Qe=O(6354);let Ke=(()=>{var K;class x{constructor(j,ve){this._renderer=j,this._elementRef=ve,this.onChange=yn=>{},this.onTouched=()=>{}}setProperty(j,ve){this._renderer.setProperty(this._elementRef.nativeElement,j,ve)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(c.sFG),c.rXU(c.aKT))},K.\u0275dir=c.FsC({type:K}),x})(),at=(()=>{var K;class x extends Ke{}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,features:[c.Vt3]}),x})();const mt=new c.nKC(""),Mt={provide:mt,useExisting:(0,c.Rfq)(()=>we),multi:!0},Ee=new c.nKC("");let we=(()=>{var K;class x extends Ke{constructor(j,ve,yn){super(j,ve),this._compositionMode=yn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function It(){const K=(0,h.QT)()?(0,h.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Ee,8))},K.\u0275dir=c.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,ve){1&j&&c.bIt("input",function(cr){return ve._handleInput(cr.target.value)})("blur",function(){return ve.onTouched()})("compositionstart",function(){return ve._compositionStart()})("compositionend",function(cr){return ve._compositionEnd(cr.target.value)})},features:[c.Jv_([Mt]),c.Vt3]}),x})();function ke(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function Je(K){return null!=K&&"number"==typeof K.length}const tt=new c.nKC(""),Ot=new c.nKC(""),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pt{static min(x){return kt(x)}static max(x){return tn(x)}static required(x){return An(x)}static requiredTrue(x){return function hn(K){return!0===K.value?null:{required:!0}}(x)}static email(x){return Gn(x)}static minLength(x){return Gt(x)}static maxLength(x){return function Ve(K){return x=>Je(x.value)&&x.value.length>K?{maxlength:{requiredLength:K,actualLength:x.value.length}}:null}(x)}static pattern(x){return function ae(K){if(!K)return ue;let x,de;return"string"==typeof K?(de="","^"!==K.charAt(0)&&(de+="^"),de+=K,"$"!==K.charAt(K.length-1)&&(de+="$"),x=new RegExp(de)):(de=K.toString(),x=K),j=>{if(ke(j.value))return null;const ve=j.value;return x.test(ve)?null:{pattern:{requiredPattern:de,actualValue:ve}}}}(x)}static nullValidator(x){return null}static compose(x){return Lt(x)}static composeAsync(x){return Fn(x)}}function kt(K){return x=>{if(ke(x.value)||ke(K))return null;const de=parseFloat(x.value);return!isNaN(de)&&de<K?{min:{min:K,actual:x.value}}:null}}function tn(K){return x=>{if(ke(x.value)||ke(K))return null;const de=parseFloat(x.value);return!isNaN(de)&&de>K?{max:{max:K,actual:x.value}}:null}}function An(K){return ke(K.value)?{required:!0}:null}function Gn(K){return ke(K.value)||Pe.test(K.value)?null:{email:!0}}function Gt(K){return x=>ke(x.value)||!Je(x.value)?null:x.value.length<K?{minlength:{requiredLength:K,actualLength:x.value.length}}:null}function ue(K){return null}function ge(K){return null!=K}function je(K){return(0,c.jNT)(K)?(0,F.H)(K):K}function gt(K){let x={};return K.forEach(de=>{x=null!=de?{...x,...de}:x}),0===Object.keys(x).length?null:x}function yt(K,x){return x.map(de=>de(K))}function Wt(K){return K.map(x=>function ft(K){return!K.validate}(x)?x:de=>x.validate(de))}function Lt(K){if(!K)return null;const x=K.filter(ge);return 0==x.length?null:function(de){return gt(yt(de,x))}}function Ft(K){return null!=K?Lt(Wt(K)):null}function Fn(K){if(!K)return null;const x=K.filter(ge);return 0==x.length?null:function(de){return function ye(...K){const x=(0,Ae.ms)(K),{args:de,keys:j}=(0,Q.D)(K),ve=new _e.c(yn=>{const{length:cr}=de;if(!cr)return void yn.complete();const ki=new Array(cr);let wo=cr,Eo=cr;for(let Nr=0;Nr<cr;Nr++){let Ma=!1;(0,ee.Tg)(de[Nr]).subscribe((0,xe._)(yn,Xo=>{Ma||(Ma=!0,Eo--),ki[Nr]=Xo},()=>wo--,void 0,()=>{(!wo||!Ma)&&(Eo||yn.next(j?(0,Oe.e)(j,ki):ki),yn.complete())}))}});return x?ve.pipe((0,We.I)(x)):ve}(yt(de,x).map(je)).pipe((0,Qe.T)(gt))}}function xt(K){return null!=K?Fn(Wt(K)):null}function kn(K,x){return null===K?[x]:Array.isArray(K)?[...K,x]:[K,x]}function Ht(K){return K._rawValidators}function wn(K){return K._rawAsyncValidators}function Jt(K){return K?Array.isArray(K)?K:[K]:[]}function Dt(K,x){return Array.isArray(K)?K.includes(x):K===x}function bn(K,x){const de=Jt(x);return Jt(K).forEach(ve=>{Dt(de,ve)||de.push(ve)}),de}function ot(K,x){return Jt(x).filter(de=>!Dt(K,de))}class Le{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,de){return!!this.control&&this.control.hasError(x,de)}getError(x,de){return this.control?this.control.getError(x,de):null}}class qe extends Le{get formDirective(){return null}get path(){return null}}class un extends Le{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn{constructor(x){this._cd=x}get isTouched(){var x,de,j;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(de=x._touched)||void 0===de||de.call(x),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.touched)}get isUntouched(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.untouched)}get isPristine(){var x,de,j;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(de=x._pristine)||void 0===de||de.call(x),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.pristine)}get isDirty(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.dirty)}get isValid(){var x,de,j;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(de=x._status)||void 0===de||de.call(x),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.valid)}get isInvalid(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.invalid)}get isPending(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.pending)}get isSubmitted(){var x,de,j;return null===(x=this._cd)||void 0===x||null===(de=x._submitted)||void 0===de||de.call(x),!(null===(j=this._cd)||void 0===j||!j.submitted)}}let Un=(()=>{var K;class x extends jn{constructor(j){super(j)}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(un,2))},K.\u0275dir=c.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,ve){2&j&&c.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)},features:[c.Vt3]}),x})(),en=(()=>{var K;class x extends jn{constructor(j){super(j)}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(qe,10))},K.\u0275dir=c.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,ve){2&j&&c.AVh("ng-untouched",ve.isUntouched)("ng-touched",ve.isTouched)("ng-pristine",ve.isPristine)("ng-dirty",ve.isDirty)("ng-valid",ve.isValid)("ng-invalid",ve.isInvalid)("ng-pending",ve.isPending)("ng-submitted",ve.isSubmitted)},features:[c.Vt3]}),x})();const bt="VALID",qt="INVALID",ut="PENDING",Kt="DISABLED";class Z{}class X extends Z{constructor(x,de){super(),this.value=x,this.source=de}}class se extends Z{constructor(x,de){super(),this.pristine=x,this.source=de}}class Xe extends Z{constructor(x,de){super(),this.touched=x,this.source=de}}class et extends Z{constructor(x,de){super(),this.status=x,this.source=de}}class rn extends Z{constructor(x){super(),this.source=x}}class Sn extends Z{constructor(x){super(),this.source=x}}function Zn(K){return(Mn(K)?K.validators:K)||null}function vt(K,x){return(Mn(x)?x.asyncValidators:K)||null}function Mn(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Pr(K,x,de){const j=K.controls;if(!(x?Object.keys(j):j).length)throw new c.wOt(1e3,"");if(!j[de])throw new c.wOt(1001,"")}function Ti(K,x,de){K._forEachChild((j,ve)=>{if(void 0===de[ve])throw new c.wOt(1002,"")})}class Fi{constructor(x,de){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new ze.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(de)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(x){(0,c.O8t)(()=>this.statusReactive.set(x))}get valid(){return this.status===bt}get invalid(){return this.status===qt}get pending(){return this.status==ut}get disabled(){return this.status===Kt}get enabled(){return this.status!==Kt}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(x){(0,c.O8t)(()=>this.pristineReactive.set(x))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(x){(0,c.O8t)(()=>this.touchedReactive.set(x))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(bn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(bn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(ot(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(ot(x,this._rawAsyncValidators))}hasValidator(x){return Dt(this._rawValidators,x)}hasAsyncValidator(x){return Dt(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){var de;const j=!1===this.touched;this.touched=!0;const ve=null!==(de=x.sourceControl)&&void 0!==de?de:this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:ve}),j&&!1!==x.emitEvent&&this._events.next(new Xe(!0,ve))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(de=>de.markAllAsTouched(x))}markAsUntouched(x={}){var de;const j=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ve=null!==(de=x.sourceControl)&&void 0!==de?de:this;this._forEachChild(yn=>{yn.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:ve})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,ve),j&&!1!==x.emitEvent&&this._events.next(new Xe(!1,ve))}markAsDirty(x={}){var de;const j=!0===this.pristine;this.pristine=!1;const ve=null!==(de=x.sourceControl)&&void 0!==de?de:this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:ve}),j&&!1!==x.emitEvent&&this._events.next(new se(!1,ve))}markAsPristine(x={}){var de;const j=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ve=null!==(de=x.sourceControl)&&void 0!==de?de:this;this._forEachChild(yn=>{yn.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,ve),j&&!1!==x.emitEvent&&this._events.next(new se(!0,ve))}markAsPending(x={}){var de;this.status=ut;const j=null!==(de=x.sourceControl)&&void 0!==de?de:this;!1!==x.emitEvent&&(this._events.next(new et(this.status,j)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:j})}disable(x={}){var de;const j=this._parentMarkedDirty(x.onlySelf);this.status=Kt,this.errors=null,this._forEachChild(yn=>{yn.disable({...x,onlySelf:!0})}),this._updateValue();const ve=null!==(de=x.sourceControl)&&void 0!==de?de:this;!1!==x.emitEvent&&(this._events.next(new X(this.value,ve)),this._events.next(new et(this.status,ve)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:j},this),this._onDisabledChange.forEach(yn=>yn(!0))}enable(x={}){const de=this._parentMarkedDirty(x.onlySelf);this.status=bt,this._forEachChild(j=>{j.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:de},this),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(x,de){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},de),this._parent._updateTouched({},de))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){var de;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ve=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bt||this.status===ut)&&this._runAsyncValidator(ve,x.emitEvent)}const j=null!==(de=x.sourceControl)&&void 0!==de?de:this;!1!==x.emitEvent&&(this._events.next(new X(this.value,j)),this._events.next(new et(this.status,j)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:j})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(de=>de._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kt:bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,de){if(this.asyncValidator){this.status=ut,this._hasOwnPendingAsyncValidator={emitEvent:!1!==de};const j=je(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(ve=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ve,{emitEvent:de,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var x,de;this._asyncValidationSubscription.unsubscribe();const j=null!==(x=null===(de=this._hasOwnPendingAsyncValidator)||void 0===de?void 0:de.emitEvent)&&void 0!==x&&x;return this._hasOwnPendingAsyncValidator=null,j}return!1}setErrors(x,de={}){this.errors=x,this._updateControlsErrors(!1!==de.emitEvent,this,de.shouldHaveEmitted)}get(x){let de=x;return null==de||(Array.isArray(de)||(de=de.split(".")),0===de.length)?null:de.reduce((j,ve)=>j&&j._find(ve),this)}getError(x,de){const j=de?this.get(de):this;return j&&j.errors?j.errors[x]:null}hasError(x,de){return!!this.getError(x,de)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,de,j){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||j)&&this._events.next(new et(this.status,de)),this._parent&&this._parent._updateControlsErrors(x,de,j)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Kt:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ut)?ut:this._anyControlsHaveStatus(qt)?qt:bt}_anyControlsHaveStatus(x){return this._anyControls(de=>de.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,de){const j=!this._anyControlsDirty(),ve=this.pristine!==j;this.pristine=j,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,de),ve&&this._events.next(new se(this.pristine,de))}_updateTouched(x={},de){this.touched=this._anyControlsTouched(),this._events.next(new Xe(this.touched,de)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,de)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Mn(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function Ar(K){return Array.isArray(K)?Ft(K):K||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function Ir(K){return Array.isArray(K)?xt(K):K||null}(this._rawAsyncValidators)}}class Xr extends Fi{constructor(x,de,j){super(Zn(de),vt(j,de)),this.controls=x,this._initObservables(),this._setUpdateStrategy(de),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,de){return this.controls[x]?this.controls[x]:(this.controls[x]=de,de.setParent(this),de._registerOnCollectionChange(this._onCollectionChange),de)}addControl(x,de,j={}){this.registerControl(x,de),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(x,de={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}setControl(x,de,j={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],de&&this.registerControl(x,de),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,de={}){Ti(this,0,x),Object.keys(x).forEach(j=>{Pr(this,!0,j),this.controls[j].setValue(x[j],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de)}patchValue(x,de={}){null!=x&&(Object.keys(x).forEach(j=>{const ve=this.controls[j];ve&&ve.patchValue(x[j],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de))}reset(x={},de={}){this._forEachChild((j,ve)=>{j.reset(x?x[ve]:null,{onlySelf:!0,emitEvent:de.emitEvent})}),this._updatePristine(de,this),this._updateTouched(de,this),this.updateValueAndValidity(de)}getRawValue(){return this._reduceChildren({},(x,de,j)=>(x[j]=de.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(de,j)=>!!j._syncPendingControls()||de);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(de=>{const j=this.controls[de];j&&x(j,de)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[de,j]of Object.entries(this.controls))if(this.contains(de)&&x(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(de,j,ve)=>((j.enabled||this.disabled)&&(de[ve]=j.value),de))}_reduceChildren(x,de){let j=x;return this._forEachChild((ve,yn)=>{j=de(j,ve,yn)}),j}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}class Yi extends Xr{}const fe=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>q}),q="always";function Me(K,x){return[...x.path,K]}function ne(K,x,de=q){var j,ve;on(K,x),x.valueAccessor.writeValue(K.value),(K.disabled||"always"===de)&&(null===(j=(ve=x.valueAccessor).setDisabledState)||void 0===j||j.call(ve,K.disabled)),function he(K,x){x.valueAccessor.registerOnChange(de=>{K._pendingValue=de,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Nt(K,x)})}(K,x),function wt(K,x){const de=(j,ve)=>{x.valueAccessor.writeValue(j),ve&&x.viewToModelUpdate(j)};K.registerOnChange(de),x._registerOnDestroy(()=>{K._unregisterOnChange(de)})}(K,x),function $e(K,x){x.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Nt(K,x),"submit"!==K.updateOn&&K.markAsTouched()})}(K,x),function St(K,x){if(x.valueAccessor.setDisabledState){const de=j=>{x.valueAccessor.setDisabledState(j)};K.registerOnDisabledChange(de),x._registerOnDestroy(()=>{K._unregisterOnDisabledChange(de)})}}(K,x)}function le(K,x,de=!0){const j=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(j),x.valueAccessor.registerOnTouched(j)),gn(K,x),K&&(x._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Ne(K,x){K.forEach(de=>{de.registerOnValidatorChange&&de.registerOnValidatorChange(x)})}function on(K,x){const de=Ht(K);null!==x.validator?K.setValidators(kn(de,x.validator)):"function"==typeof de&&K.setValidators([de]);const j=wn(K);null!==x.asyncValidator?K.setAsyncValidators(kn(j,x.asyncValidator)):"function"==typeof j&&K.setAsyncValidators([j]);const ve=()=>K.updateValueAndValidity();Ne(x._rawValidators,ve),Ne(x._rawAsyncValidators,ve)}function gn(K,x){let de=!1;if(null!==K){if(null!==x.validator){const ve=Ht(K);if(Array.isArray(ve)&&ve.length>0){const yn=ve.filter(cr=>cr!==x.validator);yn.length!==ve.length&&(de=!0,K.setValidators(yn))}}if(null!==x.asyncValidator){const ve=wn(K);if(Array.isArray(ve)&&ve.length>0){const yn=ve.filter(cr=>cr!==x.asyncValidator);yn.length!==ve.length&&(de=!0,K.setAsyncValidators(yn))}}}const j=()=>{};return Ne(x._rawValidators,j),Ne(x._rawAsyncValidators,j),de}function Nt(K,x){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function zt(K,x){on(K,x)}function ai(K,x){if(!K.hasOwnProperty("model"))return!1;const de=K.model;return!!de.isFirstChange()||!Object.is(x,de.currentValue)}function Di(K,x){K._syncPendingControls(),x.forEach(de=>{const j=de.control;"submit"===j.updateOn&&j._pendingChange&&(de.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}function ui(K,x){if(!x)return null;let de,j,ve;return Array.isArray(x),x.forEach(yn=>{yn.constructor===we?de=yn:function Ci(K){return Object.getPrototypeOf(K.constructor)===at}(yn)?j=yn:ve=yn}),ve||j||de||null}const Lr={provide:qe,useExisting:(0,c.Rfq)(()=>rr)},Ki=Promise.resolve();let rr=(()=>{var K;class x extends qe{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(j,ve,yn){super(),this.callSetDisabledState=yn,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Xr({},Ft(j),xt(ve))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){Ki.then(()=>{const ve=this._findContainer(j.path);j.control=ve.registerControl(j.name,j.control),ne(j.control,j,this.callSetDisabledState),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){Ki.then(()=>{const ve=this._findContainer(j.path);ve&&ve.removeControl(j.name),this._directives.delete(j)})}addFormGroup(j){Ki.then(()=>{const ve=this._findContainer(j.path),yn=new Xr({});zt(yn,j),ve.registerControl(j.name,yn),yn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){Ki.then(()=>{const ve=this._findContainer(j.path);ve&&ve.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,ve){Ki.then(()=>{this.form.get(j.path).setValue(ve)})}setValue(j){this.control.setValue(j)}onSubmit(j){var ve;return this.submittedReactive.set(!0),Di(this.form,this._directives),this.ngSubmit.emit(j),"dialog"===(null==j||null===(ve=j.target)||void 0===ve?void 0:ve.method)}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(tt,10),c.rXU(Ot,10),c.rXU(fe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(j,ve){1&j&&c.bIt("submit",function(cr){return ve.onSubmit(cr)})("reset",function(){return ve.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Lr]),c.Vt3]}),x})();function Oi(K,x){const de=K.indexOf(x);de>-1&&K.splice(de,1)}function qi(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Zi=class extends Fi{constructor(x=null,de,j){super(Zn(de),vt(j,de)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(de),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mn(de)&&(de.nonNullable||de.initialValueIsDefault)&&(this.defaultValue=qi(x)?x.value:x)}setValue(x,de={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==de.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==de.emitViewToModelChange)),this.updateValueAndValidity(de)}patchValue(x,de={}){this.setValue(x,de)}reset(x=this.defaultValue,de={}){this._applyFormState(x),this.markAsPristine(de),this.markAsUntouched(de),this.setValue(this.value,de),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Oi(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Oi(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){qi(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Wo={provide:un,useExisting:(0,c.Rfq)(()=>ri)},zi=Promise.resolve();let ri=(()=>{var K;class x extends un{constructor(j,ve,yn,cr,ki,wo){super(),this._changeDetectorRef=ki,this.callSetDisabledState=wo,this.control=new Zi,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=j,this._setValidators(ve),this._setAsyncValidators(yn),this.valueAccessor=ui(0,cr)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const ve=j.name.previousValue;this.formDirective.removeControl({name:ve,path:this._getPath(ve)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),ai(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ne(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){zi.then(()=>{var ve;this.control.setValue(j,{emitViewToModelChange:!1}),null===(ve=this._changeDetectorRef)||void 0===ve||ve.markForCheck()})}_updateDisabled(j){const ve=j.isDisabled.currentValue,yn=0!==ve&&(0,c.L39)(ve);zi.then(()=>{var cr;yn&&!this.control.disabled?this.control.disable():!yn&&this.control.disabled&&this.control.enable(),null===(cr=this._changeDetectorRef)||void 0===cr||cr.markForCheck()})}_getPath(j){return this._parent?Me(j,this._parent):[j]}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(qe,9),c.rXU(tt,10),c.rXU(Ot,10),c.rXU(mt,10),c.rXU(c.gRc,8),c.rXU(fe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Wo]),c.Vt3,c.OA$]}),x})(),Do=(()=>{var K;class x{}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275dir=c.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Ue=new c.nKC(""),Tt={provide:qe,useExisting:(0,c.Rfq)(()=>cn)};let cn=(()=>{var K;class x extends qe{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(j){this._submittedReactive.set(j)}constructor(j,ve,yn){super(),this.callSetDisabledState=yn,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(j),this._setAsyncValidators(ve)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const ve=this.form.get(j.path);return ne(ve,j,this.callSetDisabledState),ve.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),ve}getControl(j){return this.form.get(j.path)}removeControl(j){le(j.control||null,j,!1),function wi(K,x){const de=K.indexOf(x);de>-1&&K.splice(de,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,ve){this.form.get(j.path).setValue(ve)}onSubmit(j){var ve;return this._submittedReactive.set(!0),Di(this.form,this.directives),this.ngSubmit.emit(j),this.form._events.next(new rn(this.control)),"dialog"===(null==j||null===(ve=j.target)||void 0===ve?void 0:ve.method)}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this._submittedReactive.set(!1),this.form._events.next(new Sn(this.form))}_updateDomValue(){this.directives.forEach(j=>{const ve=j.control,yn=this.form.get(j.path);ve!==yn&&(le(ve||null,j),(K=>K instanceof Zi)(yn)&&(ne(yn,j,this.callSetDisabledState),j.control=yn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const ve=this.form.get(j.path);zt(ve,j),ve.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const ve=this.form.get(j.path);ve&&function En(K,x){return gn(K,x)}(ve,j)&&ve.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){on(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}}return(K=x).\u0275fac=function(j){return new(j||K)(c.rXU(tt,10),c.rXU(Ot,10),c.rXU(fe,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(j,ve){1&j&&c.bIt("submit",function(cr){return ve.onSubmit(cr)})("reset",function(){return ve.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([Tt]),c.Vt3,c.OA$]}),x})();const tr={provide:un,useExisting:(0,c.Rfq)(()=>ur)};let ur=(()=>{var K;class x extends un{set isDisabled(j){}constructor(j,ve,yn,cr,ki){super(),this._ngModelWarningConfig=ki,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(ve),this._setAsyncValidators(yn),this.valueAccessor=ui(0,cr)}ngOnChanges(j){this._added||this._setUpControl(),ai(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(K=x)._ngModelWarningSentOnce=!1,K.\u0275fac=function(j){return new(j||K)(c.rXU(qe,13),c.rXU(tt,10),c.rXU(Ot,10),c.rXU(mt,10),c.rXU(Ue,8))},K.\u0275dir=c.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([tr]),c.Vt3,c.OA$]}),x})();function ta(K){return"number"==typeof K?K:parseFloat(K)}let xo=(()=>{var K;class x{constructor(){this._validator=ue}ngOnChanges(j){if(this.inputName in j){const ve=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(ve),this._validator=this._enabled?this.createValidator(ve):ue,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275dir=c.FsC({type:K,features:[c.OA$]}),x})();const ao={provide:tt,useExisting:(0,c.Rfq)(()=>Vo),multi:!0};let Vo=(()=>{var K;class x extends xo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=j=>ta(j),this.createValidator=j=>tn(j)}}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,ve){2&j&&c.BMQ("max",ve._enabled?ve.max:null)},inputs:{max:"max"},features:[c.Jv_([ao]),c.Vt3]}),x})();const zo={provide:tt,useExisting:(0,c.Rfq)(()=>fs),multi:!0};let fs=(()=>{var K;class x extends xo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=j=>ta(j),this.createValidator=j=>kt(j)}}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,ve){2&j&&c.BMQ("min",ve._enabled?ve.min:null)},inputs:{min:"min"},features:[c.Jv_([zo]),c.Vt3]}),x})();const va={provide:tt,useExisting:(0,c.Rfq)(()=>Ko),multi:!0};let Ko=(()=>{var K;class x extends xo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=j=>An}enabled(j){return j}}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(j,ve){2&j&&c.BMQ("required",ve._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([va]),c.Vt3]}),x})();const Ui={provide:tt,useExisting:(0,c.Rfq)(()=>Uo),multi:!0};let Uo=(()=>{var K;class x extends xo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=c.L39,this.createValidator=j=>Gn}enabled(j){return j}}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c.Jv_([Ui]),c.Vt3]}),x})();const Hs={provide:tt,useExisting:(0,c.Rfq)(()=>re),multi:!0};let re=(()=>{var K;class x extends xo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=j=>function hs(K){return"number"==typeof K?K:parseInt(K,10)}(j),this.createValidator=j=>Gt(j)}}return(K=x).\u0275fac=(()=>{let de;return function(ve){return(de||(de=c.xGo(K)))(ve||K)}})(),K.\u0275dir=c.FsC({type:K,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(j,ve){2&j&&c.BMQ("minlength",ve._enabled?ve.minlength:null)},inputs:{minlength:"minlength"},features:[c.Jv_([Hs]),c.Vt3]}),x})(),lt=(()=>{var K;class x{}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({}),x})();class At extends Fi{constructor(x,de,j){super(Zn(de),vt(j,de)),this.controls=x,this._initObservables(),this._setUpdateStrategy(de),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[this._adjustIndex(x)]}push(x,de={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}insert(x,de,j={}){this.controls.splice(x,0,de),this._registerControl(de),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(x,de={}){let j=this._adjustIndex(x);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:de.emitEvent})}setControl(x,de,j={}){let ve=this._adjustIndex(x);ve<0&&(ve=0),this.controls[ve]&&this.controls[ve]._registerOnCollectionChange(()=>{}),this.controls.splice(ve,1),de&&(this.controls.splice(ve,0,de),this._registerControl(de)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,de={}){Ti(this,0,x),x.forEach((j,ve)=>{Pr(this,!1,ve),this.at(ve).setValue(j,{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de)}patchValue(x,de={}){null!=x&&(x.forEach((j,ve)=>{this.at(ve)&&this.at(ve).patchValue(j,{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de))}reset(x=[],de={}){this._forEachChild((j,ve)=>{j.reset(x[ve],{onlySelf:!0,emitEvent:de.emitEvent})}),this._updatePristine(de,this),this._updateTouched(de,this),this.updateValueAndValidity(de)}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(de=>de._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((de,j)=>!!j._syncPendingControls()||de,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((de,j)=>{x(de,j)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(de=>de.enabled&&x(de))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){var de;return null!==(de=this.at(x))&&void 0!==de?de:null}}function Vn(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let ar=(()=>{var K;class x{constructor(){this.useNonNullable=!1}get nonNullable(){const j=new x;return j.useNonNullable=!0,j}group(j,ve=null){const yn=this._reduceControls(j);let cr={};return Vn(ve)?cr=ve:null!==ve&&(cr.validators=ve.validator,cr.asyncValidators=ve.asyncValidator),new Xr(yn,cr)}record(j,ve=null){const yn=this._reduceControls(j);return new Yi(yn,ve)}control(j,ve,yn){let cr={};return this.useNonNullable?(Vn(ve)?cr=ve:(cr.validators=ve,cr.asyncValidators=yn),new Zi(j,{...cr,nonNullable:!0})):new Zi(j,ve,yn)}array(j,ve,yn){const cr=j.map(ki=>this._createControl(ki));return new At(cr,ve,yn)}_reduceControls(j){const ve={};return Object.keys(j).forEach(yn=>{ve[yn]=this._createControl(j[yn])}),ve}_createControl(j){return j instanceof Zi||j instanceof Fi?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275prov=c.jDH({token:K,factory:K.\u0275fac,providedIn:"root"}),x})(),qo=(()=>{var K;class x{static withConfig(j){var ve;return{ngModule:x,providers:[{provide:fe,useValue:null!==(ve=j.callSetDisabledState)&&void 0!==ve?ve:q}]}}}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({imports:[lt]}),x})(),Bo=(()=>{var K;class x{static withConfig(j){var ve,yn;return{ngModule:x,providers:[{provide:Ue,useValue:null!==(ve=j.warnOnNgModelWithFormControl)&&void 0!==ve?ve:"always"},{provide:fe,useValue:null!==(yn=j.callSetDisabledState)&&void 0!==yn?yn:q}]}}}return(K=x).\u0275fac=function(j){return new(j||K)},K.\u0275mod=c.$C({type:K}),K.\u0275inj=c.G2t({imports:[lt]}),x})()},345:(Cn,it,O)=>{"use strict";O.d(it,{Bb:()=>Jt,hE:()=>ot,sG:()=>xt});var c=O(177),h=O(3953);class F extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends F{static makeCurrent(){(0,c.ZD)(new _e)}onAndCancel(bt,qt,ut){return bt.addEventListener(qt,ut),()=>{bt.removeEventListener(qt,ut)}}dispatchEvent(bt,qt){bt.dispatchEvent(qt)}remove(bt){bt.remove()}createElement(bt,qt){return(qt=qt||this.getDefaultDocument()).createElement(bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(bt){return bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(bt){return bt instanceof DocumentFragment}getGlobalEventTarget(bt,qt){return"window"===qt?window:"document"===qt?bt:"body"===qt?bt.body:null}getBaseHref(bt){const qt=function ee(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==qt?null:function Ae($t){return new URL($t,document.baseURI).pathname}(qt)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(bt){return(0,c._b)(document.cookie,bt)}}let Q=null,We=(()=>{var $t;class bt{build(){return new XMLHttpRequest}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();const Oe=new h.nKC("");let ye=(()=>{var $t;class bt{constructor(ut,Kt){this._zone=Kt,this._eventNameToPlugin=new Map,ut.forEach(Z=>{Z.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,Kt,Z){return this._findPluginFor(Kt).addEventListener(ut,Kt,Z)}getZone(){return this._zone}_findPluginFor(ut){let Kt=this._eventNameToPlugin.get(ut);if(Kt)return Kt;if(Kt=this._plugins.find(X=>X.supports(ut)),!Kt)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(ut,Kt),Kt}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(Oe),h.KVO(h.SKi))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();class ze{constructor(bt){this._doc=bt}}const Qe="ng-app-id";let Ke=(()=>{var $t;class bt{constructor(ut,Kt,Z,X={}){this.doc=ut,this.appId=Kt,this.nonce=Z,this.platformId=X,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(X),this.resetHostNodes()}addStyles(ut){for(const Kt of ut)1===this.changeUsageCount(Kt,1)&&this.onStyleAdded(Kt)}removeStyles(ut){for(const Kt of ut)this.changeUsageCount(Kt,-1)<=0&&this.onStyleRemoved(Kt)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(Kt=>Kt.remove()),ut.clear());for(const Kt of this.getAllStyles())this.onStyleRemoved(Kt);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const Kt of this.getAllStyles())this.addStyleToHost(ut,Kt)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const Kt of this.hostNodes)this.addStyleToHost(Kt,ut)}onStyleRemoved(ut){var Kt;const Z=this.styleRef;null===(Kt=Z.get(ut))||void 0===Kt||null===(Kt=Kt.elements)||void 0===Kt||Kt.forEach(X=>X.remove()),Z.delete(ut)}collectServerRenderedStyles(){var ut;const Kt=null===(ut=this.doc.head)||void 0===ut?void 0:ut.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(null!=Kt&&Kt.length){const Z=new Map;return Kt.forEach(X=>{null!=X.textContent&&Z.set(X.textContent,X)}),Z}return null}changeUsageCount(ut,Kt){const Z=this.styleRef;if(Z.has(ut)){const X=Z.get(ut);return X.usage+=Kt,X.usage}return Z.set(ut,{usage:Kt,elements:[]}),Kt}getStyleElement(ut,Kt){const Z=this.styleNodesInDOM,X=null==Z?void 0:Z.get(Kt);if((null==X?void 0:X.parentNode)===ut)return Z.delete(Kt),X.removeAttribute(Qe),X;{const se=this.doc.createElement("style");return this.nonce&&se.setAttribute("nonce",this.nonce),se.textContent=Kt,this.platformIsServer&&se.setAttribute(Qe,this.appId),ut.appendChild(se),se}}addStyleToHost(ut,Kt){var Z;const X=this.getStyleElement(ut,Kt),se=this.styleRef,Xe=null===(Z=se.get(Kt))||void 0===Z?void 0:Z.elements;Xe?Xe.push(X):se.set(Kt,{elements:[X],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(c.qQ),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mt=/%COMP%/g,Ee=new h.nKC("",{providedIn:"root",factory:()=>!0});function Je($t,bt){return bt.map(qt=>qt.replace(mt,$t))}let tt=(()=>{var $t;class bt{constructor(ut,Kt,Z,X,se,Xe,et,rn=null){this.eventManager=ut,this.sharedStylesHost=Kt,this.appId=Z,this.removeStylesOnCompDestroy=X,this.doc=se,this.platformId=Xe,this.ngZone=et,this.nonce=rn,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(Xe),this.defaultRenderer=new Ot(ut,se,et,this.platformIsServer)}createRenderer(ut,Kt){if(!ut||!Kt)return this.defaultRenderer;this.platformIsServer&&Kt.encapsulation===h.gXe.ShadowDom&&(Kt={...Kt,encapsulation:h.gXe.Emulated});const Z=this.getOrCreateRenderer(ut,Kt);return Z instanceof hn?Z.applyToHost(ut):Z instanceof An&&Z.applyStyles(),Z}getOrCreateRenderer(ut,Kt){const Z=this.rendererByCompId;let X=Z.get(Kt.id);if(!X){const se=this.doc,Xe=this.ngZone,et=this.eventManager,rn=this.sharedStylesHost,Sn=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(Kt.encapsulation){case h.gXe.Emulated:X=new hn(et,rn,Kt,this.appId,Sn,se,Xe,Zn);break;case h.gXe.ShadowDom:return new tn(et,rn,ut,Kt,se,Xe,this.nonce,Zn);default:X=new An(et,rn,Kt,Sn,se,Xe,Zn)}Z.set(Kt.id,X)}return X}ngOnDestroy(){this.rendererByCompId.clear()}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(ye),h.KVO(Ke),h.KVO(h.sZ2),h.KVO(Ee),h.KVO(c.qQ),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();class Ot{constructor(bt,qt,ut,Kt){this.eventManager=bt,this.doc=qt,this.ngZone=ut,this.platformIsServer=Kt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(bt,qt){return qt?this.doc.createElementNS(at[qt]||qt,bt):this.doc.createElement(bt)}createComment(bt){return this.doc.createComment(bt)}createText(bt){return this.doc.createTextNode(bt)}appendChild(bt,qt){(kt(bt)?bt.content:bt).appendChild(qt)}insertBefore(bt,qt,ut){bt&&(kt(bt)?bt.content:bt).insertBefore(qt,ut)}removeChild(bt,qt){qt.remove()}selectRootElement(bt,qt){let ut="string"==typeof bt?this.doc.querySelector(bt):bt;if(!ut)throw new h.wOt(-5104,!1);return qt||(ut.textContent=""),ut}parentNode(bt){return bt.parentNode}nextSibling(bt){return bt.nextSibling}setAttribute(bt,qt,ut,Kt){if(Kt){qt=Kt+":"+qt;const Z=at[Kt];Z?bt.setAttributeNS(Z,qt,ut):bt.setAttribute(qt,ut)}else bt.setAttribute(qt,ut)}removeAttribute(bt,qt,ut){if(ut){const Kt=at[ut];Kt?bt.removeAttributeNS(Kt,qt):bt.removeAttribute(`${ut}:${qt}`)}else bt.removeAttribute(qt)}addClass(bt,qt){bt.classList.add(qt)}removeClass(bt,qt){bt.classList.remove(qt)}setStyle(bt,qt,ut,Kt){Kt&(h.czy.DashCase|h.czy.Important)?bt.style.setProperty(qt,ut,Kt&h.czy.Important?"important":""):bt.style[qt]=ut}removeStyle(bt,qt,ut){ut&h.czy.DashCase?bt.style.removeProperty(qt):bt.style[qt]=""}setProperty(bt,qt,ut){null!=bt&&(bt[qt]=ut)}setValue(bt,qt){bt.nodeValue=qt}listen(bt,qt,ut){if("string"==typeof bt&&!(bt=(0,c.QT)().getGlobalEventTarget(this.doc,bt)))throw new Error(`Unsupported event target ${bt} for event ${qt}`);return this.eventManager.addEventListener(bt,qt,this.decoratePreventDefault(ut))}decoratePreventDefault(bt){return qt=>{if("__ngUnwrap__"===qt)return bt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>bt(qt)):bt(qt))&&qt.preventDefault()}}}function kt($t){return"TEMPLATE"===$t.tagName&&void 0!==$t.content}class tn extends Ot{constructor(bt,qt,ut,Kt,Z,X,se,Xe){super(bt,Z,X,Xe),this.sharedStylesHost=qt,this.hostEl=ut,this.shadowRoot=ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const et=Je(Kt.id,Kt.styles);for(const rn of et){const Sn=document.createElement("style");se&&Sn.setAttribute("nonce",se),Sn.textContent=rn,this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(bt){return bt===this.hostEl?this.shadowRoot:bt}appendChild(bt,qt){return super.appendChild(this.nodeOrShadowRoot(bt),qt)}insertBefore(bt,qt,ut){return super.insertBefore(this.nodeOrShadowRoot(bt),qt,ut)}removeChild(bt,qt){return super.removeChild(null,qt)}parentNode(bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(bt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class An extends Ot{constructor(bt,qt,ut,Kt,Z,X,se,Xe){super(bt,Z,X,se),this.sharedStylesHost=qt,this.removeStylesOnCompDestroy=Kt,this.styles=Xe?Je(Xe,ut.styles):ut.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hn extends An{constructor(bt,qt,ut,Kt,Z,X,se,Xe){const et=Kt+"-"+ut.id;super(bt,qt,ut,Z,X,se,Xe,et),this.contentAttr=function we($t){return"_ngcontent-%COMP%".replace(mt,$t)}(et),this.hostAttr=function ke($t){return"_nghost-%COMP%".replace(mt,$t)}(et)}applyToHost(bt){this.applyStyles(),this.setAttribute(bt,this.hostAttr,"")}createElement(bt,qt){const ut=super.createElement(bt,qt);return super.setAttribute(ut,this.contentAttr,""),ut}}let Gn=(()=>{var $t;class bt extends ze{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,Kt,Z){return ut.addEventListener(Kt,Z,!1),()=>this.removeEventListener(ut,Kt,Z)}removeEventListener(ut,Kt,Z){return ut.removeEventListener(Kt,Z)}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(c.qQ))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})(),Gt=(()=>{var $t;class bt extends ze{constructor(ut){super(ut),this.delegate=(0,h.WQX)(h.zAP,{optional:!0})}supports(ut){return!!this.delegate&&this.delegate.supports(ut)}addEventListener(ut,Kt,Z){return this.delegate.addEventListener(ut,Kt,Z)}removeEventListener(ut,Kt,Z){return this.delegate.removeEventListener(ut,Kt,Z)}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(c.qQ))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();const Ve=["alt","control","meta","shift"],ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ue={alt:$t=>$t.altKey,control:$t=>$t.ctrlKey,meta:$t=>$t.metaKey,shift:$t=>$t.shiftKey};let ge=(()=>{var $t;class bt extends ze{constructor(ut){super(ut)}supports(ut){return null!=bt.parseEventName(ut)}addEventListener(ut,Kt,Z){const X=bt.parseEventName(Kt),se=bt.eventCallback(X.fullKey,Z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(ut,X.domEventName,se))}static parseEventName(ut){const Kt=ut.toLowerCase().split("."),Z=Kt.shift();if(0===Kt.length||"keydown"!==Z&&"keyup"!==Z)return null;const X=bt._normalizeKey(Kt.pop());let se="",Xe=Kt.indexOf("code");if(Xe>-1&&(Kt.splice(Xe,1),se="code."),Ve.forEach(rn=>{const Sn=Kt.indexOf(rn);Sn>-1&&(Kt.splice(Sn,1),se+=rn+".")}),se+=X,0!=Kt.length||0===X.length)return null;const et={};return et.domEventName=Z,et.fullKey=se,et}static matchEventFullKeyCode(ut,Kt){let Z=ae[ut.key]||ut.key,X="";return Kt.indexOf("code.")>-1&&(Z=ut.code,X="code."),!(null==Z||!Z)&&(Z=Z.toLowerCase()," "===Z?Z="space":"."===Z&&(Z="dot"),Ve.forEach(se=>{se!==Z&&(0,ue[se])(ut)&&(X+=se+".")}),X+=Z,X===Kt)}static eventCallback(ut,Kt,Z){return X=>{bt.matchEventFullKeyCode(X,ut)&&Z.runGuarded(()=>Kt(X))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(c.qQ))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac}),bt})();const xt=(0,h.oH4)(h.fpN,"browser",[{provide:h.Agw,useValue:c.AJ},{provide:h.PLl,useValue:function Wt(){_e.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Ft(){return(0,h.TL$)(document),document},deps:[]}]),kn=new h.nKC(""),Ht=[{provide:h.e01,useClass:class xe{addToWindow(bt){h.JZv.getAngularTestability=(ut,Kt=!0)=>{const Z=bt.findTestabilityInTree(ut,Kt);if(null==Z)throw new h.wOt(5103,!1);return Z},h.JZv.getAllAngularTestabilities=()=>bt.getAllTestabilities(),h.JZv.getAllAngularRootElements=()=>bt.getAllRootElements(),h.JZv.frameworkStabilizers||(h.JZv.frameworkStabilizers=[]),h.JZv.frameworkStabilizers.push(ut=>{const Kt=h.JZv.getAllAngularTestabilities();let Z=Kt.length;const X=function(){Z--,0==Z&&ut()};Kt.forEach(se=>{se.whenStable(X)})})}findTestabilityInTree(bt,qt,ut){if(null==qt)return null;const Kt=bt.getTestability(qt);return null!=Kt?Kt:ut?(0,c.QT)().isShadowRoot(qt)?this.findTestabilityInTree(bt,qt.host,!0):this.findTestabilityInTree(bt,qt.parentElement,!0):null}},deps:[]},{provide:h.WHO,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]},{provide:h.NYb,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]}],wn=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function Lt(){return new h.zcH},deps:[]},{provide:Oe,useClass:Gn,multi:!0,deps:[c.qQ,h.SKi,h.Agw]},{provide:Oe,useClass:ge,multi:!0,deps:[c.qQ]},{provide:Oe,useClass:Gt,multi:!0},tt,Ke,ye,{provide:h._9s,useExisting:tt},{provide:c.N0,useClass:We,deps:[]},[]];let Jt=(()=>{var $t;class bt{constructor(ut){}static withServerTransition(ut){return{ngModule:bt,providers:[{provide:h.sZ2,useValue:ut.appId}]}}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(kn,12))},$t.\u0275mod=h.$C({type:$t}),$t.\u0275inj=h.G2t({providers:[...wn,...Ht],imports:[c.MD,h.Hbi]}),bt})(),ot=(()=>{var $t;class bt{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}}return($t=bt).\u0275fac=function(ut){return new(ut||$t)(h.KVO(c.qQ))},$t.\u0275prov=h.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"}),bt})()},9384:(Cn,it,O)=>{"use strict";O.d(it,{nX:()=>an,Zp:()=>N,Z:()=>$n,Xk:()=>Ft,b:()=>sn,Ix:()=>Bi,Wk:()=>gs,iI:()=>Gl,Sd:()=>Yn});var c=O(3953),h=O(1985),F=O(8071),Q=O(8455),ee=O(7673),Ae=O(4412),xe=O(4572),We=O(9350),Oe=O(8793),ye=O(8750);function ze(E){return new h.c(P=>{(0,ye.Tg)(E()).subscribe(P)})}var Qe=O(1203);function Ke(E,P){const L=(0,F.T)(E)?E:()=>E,S=B=>B.error(L());return new h.c(P?B=>P.schedule(S,0,B):S)}var at=O(983),mt=O(8359),rt=O(9974),st=O(4360);function Mt(){return(0,rt.N)((E,P)=>{let L=null;E._refCount++;const S=(0,st._)(P,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(L=null);const B=E._connection,Ie=L;L=null,B&&(!Ie||B===Ie)&&B.unsubscribe(),P.unsubscribe()});E.subscribe(S),S.closed||(L=E.connect())})}class It extends h.c{constructor(P,L){super(),this.source=P,this.subjectFactory=L,this._subject=null,this._refCount=0,this._connection=null,(0,rt.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new mt.yU;const L=this.getSubject();P.add(this.source.subscribe((0,st._)(L,void 0,()=>{this._teardown(),L.complete()},S=>{this._teardown(),L.error(S)},()=>this._teardown()))),P.closed&&(this._connection=null,P=mt.yU.EMPTY)}return P}refCount(){return Mt()(this)}}var Ee=O(1413),we=O(177),ke=O(6354),Je=O(5558),tt=O(6697),Ot=O(9172),Pe=O(5964),pt=O(1397),kt=O(1594),tn=O(274),An=O(8141);function hn(E){return(0,rt.N)((P,L)=>{let Ie,S=null,B=!1;S=P.subscribe((0,st._)(L,void 0,void 0,Se=>{Ie=(0,ye.Tg)(E(Se,hn(E)(P))),S?(S.unsubscribe(),S=null,Ie.subscribe(L)):B=!0})),B&&(S.unsubscribe(),S=null,Ie.subscribe(L))})}var Gn=O(2816),Gt=O(9901);function Ve(E){return E<=0?()=>at.w:(0,rt.N)((P,L)=>{let S=[];P.subscribe((0,st._)(L,B=>{S.push(B),E<S.length&&S.shift()},()=>{for(const B of S)L.next(B);L.complete()},void 0,()=>{S=null}))})}var ae=O(3774),ue=O(3669),gt=O(980),yt=O(5343),Wt=O(6365),Lt=O(345);const Ft="primary",Fn=Symbol("RouteTitle");class xt{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const L=this.params[P];return Array.isArray(L)?L[0]:L}return null}getAll(P){if(this.has(P)){const L=this.params[P];return Array.isArray(L)?L:[L]}return[]}get keys(){return Object.keys(this.params)}}function kn(E){return new xt(E)}function Ht(E,P,L){const S=L.path.split("/");if(S.length>E.length||"full"===L.pathMatch&&(P.hasChildren()||S.length<E.length))return null;const B={};for(let Ie=0;Ie<S.length;Ie++){const Se=S[Ie],Vt=E[Ie];if(":"===Se[0])B[Se.substring(1)]=Vt;else if(Se!==Vt.path)return null}return{consumed:E.slice(0,S.length),posParams:B}}function Jt(E,P){const L=E?Dt(E):void 0,S=P?Dt(P):void 0;if(!L||!S||L.length!=S.length)return!1;let B;for(let Ie=0;Ie<L.length;Ie++)if(B=L[Ie],!bn(E[B],P[B]))return!1;return!0}function Dt(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function bn(E,P){if(Array.isArray(E)&&Array.isArray(P)){if(E.length!==P.length)return!1;const L=[...E].sort(),S=[...P].sort();return L.every((B,Ie)=>S[Ie]===B)}return E===P}function ot(E){return E.length>0?E[E.length-1]:null}function Le(E){return function _e(E){return!!E&&(E instanceof h.c||(0,F.T)(E.lift)&&(0,F.T)(E.subscribe))}(E)?E:(0,c.jNT)(E)?(0,Q.H)(Promise.resolve(E)):(0,ee.of)(E)}const qe={exact:function sr(E,P,L){if(!Bn(E.segments,P.segments)||!pr(E.segments,P.segments,L)||E.numberOfChildren!==P.numberOfChildren)return!1;for(const S in P.children)if(!E.children[S]||!sr(E.children[S],P.children[S],L))return!1;return!0},subset:en},un={exact:function fr(E,P){return Jt(E,P)},subset:function Un(E,P){return Object.keys(P).length<=Object.keys(E).length&&Object.keys(P).every(L=>bn(E[L],P[L]))},ignored:()=>!0};function jn(E,P,L){return qe[L.paths](E.root,P.root,L.matrixParams)&&un[L.queryParams](E.queryParams,P.queryParams)&&!("exact"===L.fragment&&E.fragment!==P.fragment)}function en(E,P,L){return yr(E,P,P.segments,L)}function yr(E,P,L,S){if(E.segments.length>L.length){const B=E.segments.slice(0,L.length);return!(!Bn(B,L)||P.hasChildren()||!pr(B,L,S))}if(E.segments.length===L.length){if(!Bn(E.segments,L)||!pr(E.segments,L,S))return!1;for(const B in P.children)if(!E.children[B]||!en(E.children[B],P.children[B],S))return!1;return!0}{const B=L.slice(0,E.segments.length),Ie=L.slice(E.segments.length);return!!(Bn(E.segments,B)&&pr(E.segments,B,S)&&E.children[Ft])&&yr(E.children[Ft],P,Ie,S)}}function pr(E,P,L){return P.every((S,B)=>un[L](E[B].parameters,S.parameters))}class gr{constructor(P=new hr([],{}),L={},S=null){this.root=P,this.queryParams=L,this.fragment=S}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return qn.serialize(this)}}class hr{constructor(P,L){this.segments=P,this.children=L,this.parent=null,Object.values(L).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yi(this)}}class ti{constructor(P,L){this.path=P,this.parameters=L}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return qt(this)}}function Bn(E,P){return E.length===P.length&&E.every((L,S)=>L.path===P[S].path)}let Yn=(()=>{var E;class P{}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:()=>new nr,providedIn:"root"}),P})();class nr{parse(P){const L=new Ar(P);return new gr(L.parseRootSegment(),L.parseQueryParams(),L.parseFragment())}serialize(P){const L=`/${Xn(P.root,!0)}`,S=function Kt(E){const P=Object.entries(E).map(([L,S])=>Array.isArray(S)?S.map(B=>`${Er(L)}=${Er(B)}`).join("&"):`${Er(L)}=${Er(S)}`).filter(L=>L);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${L}${S}${"string"==typeof P.fragment?`#${function Pn(E){return encodeURI(E)}(P.fragment)}`:""}`}}const qn=new nr;function yi(E){return E.segments.map(P=>qt(P)).join("/")}function Xn(E,P){if(!E.hasChildren())return yi(E);if(P){const L=E.children[Ft]?Xn(E.children[Ft],!1):"",S=[];return Object.entries(E.children).forEach(([B,Ie])=>{B!==Ft&&S.push(`${B}:${Xn(Ie,!1)}`)}),S.length>0?`${L}(${S.join("//")})`:L}{const L=function Wr(E,P){let L=[];return Object.entries(E.children).forEach(([S,B])=>{S===Ft&&(L=L.concat(P(B,S)))}),Object.entries(E.children).forEach(([S,B])=>{S!==Ft&&(L=L.concat(P(B,S)))}),L}(E,(S,B)=>B===Ft?[Xn(E.children[Ft],!1)]:[`${B}:${Xn(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Ft]?`${yi(E)}/${L[0]}`:`${yi(E)}/(${L.join("//")})`}}function ni(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Er(E){return ni(E).replace(/%3B/gi,";")}function si(E){return ni(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(E){return decodeURIComponent(E)}function bt(E){return $t(E.replace(/\+/g,"%20"))}function qt(E){return`${si(E.path)}${function ut(E){return Object.entries(E).map(([P,L])=>`;${si(P)}=${si(L)}`).join("")}(E.parameters)}`}const Z=/^[^\/()?;#]+/;function X(E){const P=E.match(Z);return P?P[0]:""}const se=/^[^\/()?;=#]+/,et=/^[^=?&#]+/,Sn=/^[^&#]+/;class Ar{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hr([],{}):new hr([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let L={};this.peekStartsWith("/(")&&(this.capture("/"),L=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(P.length>0||Object.keys(L).length>0)&&(S[Ft]=new hr(P,L)),S}parseSegment(){const P=X(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(P),new ti($t(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const L=function Xe(E){const P=E.match(se);return P?P[0]:""}(this.remaining);if(!L)return;this.capture(L);let S="";if(this.consumeOptional("=")){const B=X(this.remaining);B&&(S=B,this.capture(S))}P[$t(L)]=$t(S)}parseQueryParam(P){const L=function rn(E){const P=E.match(et);return P?P[0]:""}(this.remaining);if(!L)return;this.capture(L);let S="";if(this.consumeOptional("=")){const Se=function Zn(E){const P=E.match(Sn);return P?P[0]:""}(this.remaining);Se&&(S=Se,this.capture(S))}const B=bt(L),Ie=bt(S);if(P.hasOwnProperty(B)){let Se=P[B];Array.isArray(Se)||(Se=[Se],P[B]=Se),Se.push(Ie)}else P[B]=Ie}parseParens(P){const L={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=X(this.remaining),B=this.remaining[S.length];if("/"!==B&&")"!==B&&";"!==B)throw new c.wOt(4010,!1);let Ie;S.indexOf(":")>-1?(Ie=S.slice(0,S.indexOf(":")),this.capture(Ie),this.capture(":")):P&&(Ie=Ft);const Se=this.parseChildren();L[Ie]=1===Object.keys(Se).length?Se[Ft]:new hr([],Se),this.consumeOptional("//")}return L}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new c.wOt(4011,!1)}}function vt(E){return E.segments.length>0?new hr([],{[Ft]:E}):E}function Ir(E){const P={};for(const[S,B]of Object.entries(E.children)){const Ie=Ir(B);if(S===Ft&&0===Ie.segments.length&&Ie.hasChildren())for(const[Se,Vt]of Object.entries(Ie.children))P[Se]=Vt;else(Ie.segments.length>0||Ie.hasChildren())&&(P[S]=Ie)}return function Mn(E){if(1===E.numberOfChildren&&E.children[Ft]){const P=E.children[Ft];return new hr(E.segments.concat(P.segments),P.children)}return E}(new hr(E.segments,P))}function Pr(E){return E instanceof gr}function Fi(E){var P;let L;const Ie=vt(function S(Se){const Vt={};for(const jt of Se.children){const er=S(jt);Vt[jt.outlet]=er}const vn=new hr(Se.url,Vt);return Se===E&&(L=vn),vn}(E.root));return null!==(P=L)&&void 0!==P?P:Ie}function Xr(E,P,L,S){let B=E;for(;B.parent;)B=B.parent;if(0===P.length)return Vi(B,B,B,L,S);const Ie=function fe(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Wi(!0,0,E);let P=0,L=!1;const S=E.reduce((B,Ie,Se)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const Vt={};return Object.entries(Ie.outlets).forEach(([vn,jt])=>{Vt[vn]="string"==typeof jt?jt.split("/"):jt}),[...B,{outlets:Vt}]}if(Ie.segmentPath)return[...B,Ie.segmentPath]}return"string"!=typeof Ie?[...B,Ie]:0===Se?(Ie.split("/").forEach((Vt,vn)=>{0==vn&&"."===Vt||(0==vn&&""===Vt?L=!0:".."===Vt?P++:""!=Vt&&B.push(Vt))}),B):[...B,Ie]},[]);return new Wi(L,P,S)}(P);if(Ie.toRoot())return Vi(B,B,new hr([],{}),L,S);const Se=function Me(E,P,L){if(E.isAbsolute)return new q(P,!0,0);if(!L)return new q(P,!1,NaN);if(null===L.parent)return new q(L,!0,0);const S=ji(E.commands[0])?0:1;return function ne(E,P,L){let S=E,B=P,Ie=L;for(;Ie>B;){if(Ie-=B,S=S.parent,!S)throw new c.wOt(4005,!1);B=S.segments.length}return new q(S,!1,B-Ie)}(L,L.segments.length-1+S,E.numberOfDoubleDots)}(Ie,B,E),Vt=Se.processChildren?St(Se.segmentGroup,Se.index,Ie.commands):Ne(Se.segmentGroup,Se.index,Ie.commands);return Vi(B,Se.segmentGroup,Vt,L,S)}function ji(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Ei(E){return"object"==typeof E&&null!=E&&E.outlets}function Vi(E,P,L,S,B){let Se,Ie={};S&&Object.entries(S).forEach(([vn,jt])=>{Ie[vn]=Array.isArray(jt)?jt.map(er=>`${er}`):`${jt}`}),Se=E===P?L:Yi(E,P,L);const Vt=vt(Ir(Se));return new gr(Vt,Ie,B)}function Yi(E,P,L){const S={};return Object.entries(E.children).forEach(([B,Ie])=>{S[B]=Ie===P?L:Yi(Ie,P,L)}),new hr(E.segments,S)}class Wi{constructor(P,L,S){if(this.isAbsolute=P,this.numberOfDoubleDots=L,this.commands=S,P&&S.length>0&&ji(S[0]))throw new c.wOt(4003,!1);const B=S.find(Ei);if(B&&B!==ot(S))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q{constructor(P,L,S){this.segmentGroup=P,this.processChildren=L,this.index=S}}function Ne(E,P,L){var S;if(null!==(S=E)&&void 0!==S||(E=new hr([],{})),0===E.segments.length&&E.hasChildren())return St(E,P,L);const B=function on(E,P,L){let S=0,B=P;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;B<E.segments.length;){if(S>=L.length)return Ie;const Se=E.segments[B],Vt=L[S];if(Ei(Vt))break;const vn=`${Vt}`,jt=S<L.length-1?L[S+1]:null;if(B>0&&void 0===vn)break;if(vn&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Nt(vn,jt,Se))return Ie;S+=2}else{if(!Nt(vn,{},Se))return Ie;S++}B++}return{match:!0,pathIndex:B,commandIndex:S}}(E,P,L),Ie=L.slice(B.commandIndex);if(B.match&&B.pathIndex<E.segments.length){const Se=new hr(E.segments.slice(0,B.pathIndex),{});return Se.children[Ft]=new hr(E.segments.slice(B.pathIndex),E.children),St(Se,0,Ie)}return B.match&&0===Ie.length?new hr(E.segments,{}):B.match&&!E.hasChildren()?gn(E,P,L):B.match?St(E,0,Ie):gn(E,P,L)}function St(E,P,L){if(0===L.length)return new hr(E.segments,{});{const S=function le(E){return Ei(E[0])?E[0].outlets:{[Ft]:E}}(L),B={};if(Object.keys(S).some(Ie=>Ie!==Ft)&&E.children[Ft]&&1===E.numberOfChildren&&0===E.children[Ft].segments.length){const Ie=St(E.children[Ft],P,L);return new hr(E.segments,Ie.children)}return Object.entries(S).forEach(([Ie,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(B[Ie]=Ne(E.children[Ie],P,Se))}),Object.entries(E.children).forEach(([Ie,Se])=>{void 0===S[Ie]&&(B[Ie]=Se)}),new hr(E.segments,B)}}function gn(E,P,L){const S=E.segments.slice(0,P);let B=0;for(;B<L.length;){const Ie=L[B];if(Ei(Ie)){const vn=he(Ie.outlets);return new hr(S,vn)}if(0===B&&ji(L[0])){S.push(new ti(E.segments[P].path,$e(L[0]))),B++;continue}const Se=Ei(Ie)?Ie.outlets[Ft]:`${Ie}`,Vt=B<L.length-1?L[B+1]:null;Se&&Vt&&ji(Vt)?(S.push(new ti(Se,$e(Vt))),B+=2):(S.push(new ti(Se,{})),B++)}return new hr(S,{})}function he(E){const P={};return Object.entries(E).forEach(([L,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(P[L]=gn(new hr([],{}),0,S))}),P}function $e(E){const P={};return Object.entries(E).forEach(([L,S])=>P[L]=`${S}`),P}function Nt(E,P,L){return E==L.path&&Jt(P,L.parameters)}const wt="imperative";var zt=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(zt||{});class En{constructor(P,L){this.id=P,this.url=L}}class $n extends En{constructor(P,L,S="imperative",B=null){super(P,L),this.type=zt.NavigationStart,this.navigationTrigger=S,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends En{constructor(P,L,S){super(P,L),this.urlAfterRedirects=S,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var dr=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(dr||{}),or=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(or||{});class xr extends En{constructor(P,L,S,B){super(P,L),this.reason=S,this.code=B,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ai extends En{constructor(P,L,S,B){super(P,L),this.reason=S,this.code=B,this.type=zt.NavigationSkipped}}class Ci extends En{constructor(P,L,S,B){super(P,L),this.error=S,this.target=B,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Di extends En{constructor(P,L,S,B){super(P,L),this.urlAfterRedirects=S,this.state=B,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends En{constructor(P,L,S,B){super(P,L),this.urlAfterRedirects=S,this.state=B,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends En{constructor(P,L,S,B,Ie){super(P,L),this.urlAfterRedirects=S,this.state=B,this.shouldActivate=Ie,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Br extends En{constructor(P,L,S,B){super(P,L),this.urlAfterRedirects=S,this.state=B,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends En{constructor(P,L,S,B){super(P,L),this.urlAfterRedirects=S,this.state=B,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki{constructor(P){this.route=P,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rr{constructor(P){this.route=P,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oi{constructor(P){this.snapshot=P,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(P){this.snapshot=P,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(P){this.snapshot=P,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(P){this.snapshot=P,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class po{constructor(P,L,S){this.routerEvent=P,this.position=L,this.anchor=S,this.type=zt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class go{}class pi{constructor(P,L){this.url=P,this.navigationBehaviorOptions=L}}function ci(E){return E.outlet||Ft}function te(E){var P;if(!E)return null;if(null!==(P=E.routeConfig)&&void 0!==P&&P._injector)return E.routeConfig._injector;for(let L=E.parent;L;L=L.parent){const S=L.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class pe{get injector(){var P,L;return null!==(P=te(null===(L=this.route)||void 0===L?void 0:L.snapshot))&&void 0!==P?P:this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new N(this.rootInjector),this.attachRef=null}}let N=(()=>{var E;class P{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,B){const Ie=this.getOrCreateContext(S);Ie.outlet=B,this.contexts.set(S,Ie)}onChildOutletDestroyed(S){const B=this.getContext(S);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let B=this.getContext(S);return B||(B=new pe(this.rootInjector),this.contexts.set(S,B)),B}getContext(S){return this.contexts.get(S)||null}}return(E=P).\u0275fac=function(S){return new(S||E)(c.KVO(c.uvJ))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();class T{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const L=this.pathFromRoot(P);return L.length>1?L[L.length-2]:null}children(P){const L=V(P,this._root);return L?L.children.map(S=>S.value):[]}firstChild(P){const L=V(P,this._root);return L&&L.children.length>0?L.children[0].value:null}siblings(P){const L=Ue(P,this._root);return L.length<2?[]:L[L.length-2].children.map(B=>B.value).filter(B=>B!==P)}pathFromRoot(P){return Ue(P,this._root).map(L=>L.value)}}function V(E,P){if(E===P.value)return P;for(const L of P.children){const S=V(E,L);if(S)return S}return null}function Ue(E,P){if(E===P.value)return[P];for(const L of P.children){const S=Ue(E,L);if(S.length)return S.unshift(P),S}return[]}class Ze{constructor(P,L){this.value=P,this.children=L}toString(){return`TreeNode(${this.value})`}}function _t(E){const P={};return E&&E.children.forEach(L=>P[L.value.outlet]=L),P}class Tt extends T{constructor(P,L){super(P),this.snapshot=L,tr(this,P)}toString(){return this.snapshot.toString()}}function cn(E){const P=function mn(E){const Ie=new Hn([],{},{},"",{},Ft,E,null,{});return new Wn("",new Ze(Ie,[]))}(E),L=new Ae.t([new ti("",{})]),S=new Ae.t({}),B=new Ae.t({}),Ie=new Ae.t({}),Se=new Ae.t(""),Vt=new an(L,S,Ie,Se,B,Ft,E,P.root);return Vt.snapshot=P.root,new Tt(new Ze(Vt,[]),P)}class an{constructor(P,L,S,B,Ie,Se,Vt,vn){var jt,er;this.urlSubject=P,this.paramsSubject=L,this.queryParamsSubject=S,this.fragmentSubject=B,this.dataSubject=Ie,this.outlet=Se,this.component=Vt,this._futureSnapshot=vn,this.title=null!==(jt=null===(er=this.dataSubject)||void 0===er?void 0:er.pipe((0,ke.T)(Or=>Or[Fn])))&&void 0!==jt?jt:(0,ee.of)(void 0),this.url=P,this.params=L,this.queryParams=S,this.fragment=B,this.data=Ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,ke.T)(L=>kn(L)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,ke.T)(L=>kn(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pn(E,P,L="emptyOnly"){var S;let B;const{routeConfig:Ie}=E;var Se;return B=null===P||"always"!==L&&""!==(null==Ie?void 0:Ie.path)&&(P.component||null!==(S=P.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...null!==(Se=E._resolvedData)&&void 0!==Se?Se:{}}}:{params:{...P.params,...E.params},data:{...P.data,...E.data},resolve:{...E.data,...P.data,...null==Ie?void 0:Ie.data,...E._resolvedData}},Ie&&ii(Ie)&&(B.resolve[Fn]=Ie.title),B}class Hn{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[Fn]}constructor(P,L,S,B,Ie,Se,Vt,vn,jt){this.url=P,this.params=L,this.queryParams=S,this.fragment=B,this.data=Ie,this.outlet=Se,this.component=Vt,this.routeConfig=vn,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends T{constructor(P,L){super(L),this.url=P,tr(this,L)}toString(){return ur(this._root)}}function tr(E,P){P.value._routerState=E,P.children.forEach(L=>tr(E,L))}function ur(E){const P=E.children.length>0?` { ${E.children.map(ur).join(", ")} } `:"";return`${E.value}${P}`}function Fr(E){if(E.snapshot){const P=E.snapshot,L=E._futureSnapshot;E.snapshot=L,Jt(P.queryParams,L.queryParams)||E.queryParamsSubject.next(L.queryParams),P.fragment!==L.fragment&&E.fragmentSubject.next(L.fragment),Jt(P.params,L.params)||E.paramsSubject.next(L.params),function wn(E,P){if(E.length!==P.length)return!1;for(let L=0;L<E.length;++L)if(!Jt(E[L],P[L]))return!1;return!0}(P.url,L.url)||E.urlSubject.next(L.url),Jt(P.data,L.data)||E.dataSubject.next(L.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function xi(E,P){const L=Jt(E.params,P.params)&&function _i(E,P){return Bn(E,P)&&E.every((L,S)=>Jt(L.parameters,P[S].parameters))}(E.url,P.url);return L&&!(!E.parent!=!P.parent)&&(!E.parent||xi(E.parent,P.parent))}function ii(E){return"string"==typeof E.title||null===E.title}let vi=(()=>{var E;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(N),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(Ho,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:B,previousValue:Ie}=S.name;if(B)return;this.isTrackedInParentContexts(Ie)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ie)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var B;return(null===(B=this.parentContexts.getContext(S))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,B){var Ie;this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView),null===(Ie=this.inputBinder)||void 0===Ie||Ie.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){var Ie;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=S;const Se=this.location,vn=S.snapshot.component,jt=this.parentContexts.getOrCreateContext(this.name).children,er=new Jr(S,jt,Se.injector);this.activated=Se.createComponent(vn,{index:Se.length,injector:er,environmentInjector:B}),this.changeDetector.markForCheck(),null===(Ie=this.inputBinder)||void 0===Ie||Ie.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275dir=c.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),P})();class Jr{__ngOutletInjector(P){return new Jr(this.route,this.childContexts,P)}constructor(P,L,S){this.route=P,this.childContexts=L,this.parent=S}get(P,L){return P===an?this.route:P===N?this.childContexts:this.parent.get(P,L)}}const Ho=new c.nKC("");let Xi=(()=>{var E;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var B;null===(B=this.outletDataSubscriptions.get(S))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:B}=S,Ie=(0,xe.z)([B.queryParams,B.params,B.data]).pipe((0,Je.n)(([Se,Vt,vn],jt)=>(vn={...Se,...Vt,...vn},0===jt?(0,ee.of)(vn):Promise.resolve(vn)))).subscribe(Se=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(S);const Vt=(0,c.HJs)(B.component);if(Vt)for(const{templateName:vn}of Vt.inputs)S.activatedComponentRef.setInput(vn,Se[vn]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,Ie)}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),P})();function so(E,P,L){if(L&&E.shouldReuseRoute(P.value,L.value.snapshot)){const S=L.value;S._futureSnapshot=P.value;const B=function Oo(E,P,L){return P.children.map(S=>{for(const B of L.children)if(E.shouldReuseRoute(S.value,B.value.snapshot))return so(E,S,B);return so(E,S)})}(E,P,L);return new Ze(S,B)}{if(E.shouldAttach(P.value)){const Ie=E.retrieve(P.value);if(null!==Ie){const Se=Ie.route;return Se.value._futureSnapshot=P.value,Se.children=P.children.map(Vt=>so(E,Vt)),Se}}const S=function Ps(E){return new an(new Ae.t(E.url),new Ae.t(E.params),new Ae.t(E.queryParams),new Ae.t(E.fragment),new Ae.t(E.data),E.outlet,E.component,E)}(P.value),B=P.children.map(Ie=>so(E,Ie));return new Ze(S,B)}}class hs{constructor(P,L){this.redirectTo=P,this.navigationBehaviorOptions=L}}const ta="ngNavigationCancelingError";function xo(E,P){const{redirectTo:L,navigationBehaviorOptions:S}=Pr(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,B=ao(!1,dr.Redirect);return B.url=L,B.navigationBehaviorOptions=S,B}function ao(E,P){const L=new Error(`NavigationCancelingError: ${E||""}`);return L[ta]=!0,L.cancellationCode=P,L}function zo(E){return!!E&&E[ta]}class lo{constructor(P,L,S,B,Ie){this.routeReuseStrategy=P,this.futureState=L,this.currState=S,this.forwardEvent=B,this.inputBindingEnabled=Ie}activate(P){const L=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(L,S,P),Fr(this.futureState.root),this.activateChildRoutes(L,S,P)}deactivateChildRoutes(P,L,S){const B=_t(L);P.children.forEach(Ie=>{const Se=Ie.value.outlet;this.deactivateRoutes(Ie,B[Se],S),delete B[Se]}),Object.values(B).forEach(Ie=>{this.deactivateRouteAndItsChildren(Ie,S)})}deactivateRoutes(P,L,S){const B=P.value,Ie=L?L.value:null;if(B===Ie)if(B.component){const Se=S.getContext(B.outlet);Se&&this.deactivateChildRoutes(P,L,Se.children)}else this.deactivateChildRoutes(P,L,S);else Ie&&this.deactivateRouteAndItsChildren(L,S)}deactivateRouteAndItsChildren(P,L){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,L):this.deactivateRouteAndOutlet(P,L)}detachAndStoreRouteSubtree(P,L){const S=L.getContext(P.value.outlet),B=S&&P.value.component?S.children:L,Ie=_t(P);for(const Se of Object.values(Ie))this.deactivateRouteAndItsChildren(Se,B);if(S&&S.outlet){const Se=S.outlet.detach(),Vt=S.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Se,route:P,contexts:Vt})}}deactivateRouteAndOutlet(P,L){const S=L.getContext(P.value.outlet),B=S&&P.value.component?S.children:L,Ie=_t(P);for(const Se of Object.values(Ie))this.deactivateRouteAndItsChildren(Se,B);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(P,L,S){const B=_t(L);P.children.forEach(Ie=>{this.activateRoutes(Ie,B[Ie.value.outlet],S),this.forwardEvent(new fo(Ie.value.snapshot))}),P.children.length&&this.forwardEvent(new qi(P.value.snapshot))}activateRoutes(P,L,S){const B=P.value,Ie=L?L.value:null;if(Fr(B),B===Ie)if(B.component){const Se=S.getOrCreateContext(B.outlet);this.activateChildRoutes(P,L,Se.children)}else this.activateChildRoutes(P,L,S);else if(B.component){const Se=S.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Vt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Se.children.onOutletReAttached(Vt.contexts),Se.attachRef=Vt.componentRef,Se.route=Vt.route.value,Se.outlet&&Se.outlet.attach(Vt.componentRef,Vt.route.value),Fr(Vt.route.value),this.activateChildRoutes(P,null,Se.children)}else Se.attachRef=null,Se.route=B,Se.outlet&&Se.outlet.activateWith(B,Se.injector),this.activateChildRoutes(P,null,Se.children)}else this.activateChildRoutes(P,null,S)}}class Ko{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class di{constructor(P,L){this.component=P,this.route=L}}function Ui(E,P,L){const S=E._root;return re(S,P?P._root:null,L,[S.value])}function Hs(E,P){const L=Symbol(),S=P.get(E,L);return S===L?"function"!=typeof E||(0,c.LfX)(E)?P.get(E):E:S}function re(E,P,L,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=_t(P);return E.children.forEach(Se=>{(function G(E,P,L,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=E.value,Se=P?P.value:null,Vt=L?L.getContext(E.value.outlet):null;if(Se&&Ie.routeConfig===Se.routeConfig){const vn=function A(E,P,L){if("function"==typeof L)return L(E,P);switch(L){case"pathParamsChange":return!Bn(E.url,P.url);case"pathParamsOrQueryParamsChange":return!Bn(E.url,P.url)||!Jt(E.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xi(E,P)||!Jt(E.queryParams,P.queryParams);default:return!xi(E,P)}}(Se,Ie,Ie.routeConfig.runGuardsAndResolvers);vn?B.canActivateChecks.push(new Ko(S)):(Ie.data=Se.data,Ie._resolvedData=Se._resolvedData),re(E,P,Ie.component?Vt?Vt.children:null:L,S,B),vn&&Vt&&Vt.outlet&&Vt.outlet.isActivated&&B.canDeactivateChecks.push(new di(Vt.outlet.component,Se))}else Se&&b(P,Vt,B),B.canActivateChecks.push(new Ko(S)),re(E,null,Ie.component?Vt?Vt.children:null:L,S,B)})(Se,Ie[Se.value.outlet],L,S.concat([Se.value]),B),delete Ie[Se.value.outlet]}),Object.entries(Ie).forEach(([Se,Vt])=>b(Vt,L.getContext(Se),B)),B}function b(E,P,L){const S=_t(E),B=E.value;Object.entries(S).forEach(([Ie,Se])=>{b(Se,B.component?P?P.children.getContext(Ie):null:P,L)}),L.canDeactivateChecks.push(new di(B.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,B))}function H(E){return"function"==typeof E}function Tn(E){return E instanceof We.G||"EmptyError"===(null==E?void 0:E.name)}const Vn=Symbol("INITIAL_VALUE");function ar(){return(0,Je.n)(E=>(0,xe.z)(E.map(P=>P.pipe((0,tt.s)(1),(0,Ot.Z)(Vn)))).pipe((0,ke.T)(P=>{for(const L of P)if(!0!==L){if(L===Vn)return Vn;if(!1===L||br(L))return L}return!0}),(0,Pe.p)(P=>P!==Vn),(0,tt.s)(1)))}function br(E){return Pr(E)||E instanceof hs}function yn(E){return(0,Qe.F)((0,An.M)(P=>{if("boolean"!=typeof P)throw xo(0,P)}),(0,ke.T)(P=>!0===P))}class ki{constructor(P){this.segmentGroup=P||null}}class wo extends Error{constructor(P){super(),this.urlTree=P}}function Eo(E){return Ke(new ki(E))}class zs{constructor(P,L){this.urlSerializer=P,this.urlTree=L}lineralizeSegments(P,L){let S=[],B=L.root;for(;;){if(S=S.concat(B.segments),0===B.numberOfChildren)return(0,ee.of)(S);if(B.numberOfChildren>1||!B.children[Ft])return Ke(new c.wOt(4e3,!1));B=B.children[Ft]}}applyRedirectCommands(P,L,S,B,Ie){if("string"!=typeof L){const Vt=L,{queryParams:vn,fragment:jt,routeConfig:er,url:Or,outlet:bi,params:jr,data:$i,title:Tr}=B,Si=(0,c.N4e)(Ie,()=>Vt({params:jr,data:$i,queryParams:vn,fragment:jt,routeConfig:er,url:Or,outlet:bi,title:Tr}));if(Si instanceof gr)throw new wo(Si);L=Si}const Se=this.applyRedirectCreateUrlTree(L,this.urlSerializer.parse(L),P,S);if("/"===L[0])throw new wo(Se);return Se}applyRedirectCreateUrlTree(P,L,S,B){const Ie=this.createSegmentGroup(P,L.root,S,B);return new gr(Ie,this.createQueryParams(L.queryParams,this.urlTree.queryParams),L.fragment)}createQueryParams(P,L){const S={};return Object.entries(P).forEach(([B,Ie])=>{if("string"==typeof Ie&&":"===Ie[0]){const Vt=Ie.substring(1);S[B]=L[Vt]}else S[B]=Ie}),S}createSegmentGroup(P,L,S,B){const Ie=this.createSegments(P,L.segments,S,B);let Se={};return Object.entries(L.children).forEach(([Vt,vn])=>{Se[Vt]=this.createSegmentGroup(P,vn,S,B)}),new hr(Ie,Se)}createSegments(P,L,S,B){return L.map(Ie=>":"===Ie.path[0]?this.findPosParam(P,Ie,B):this.findOrReturn(Ie,S))}findPosParam(P,L,S){const B=S[L.path.substring(1)];if(!B)throw new c.wOt(4001,!1);return B}findOrReturn(P,L){let S=0;for(const B of L){if(B.path===P.path)return L.splice(S),B;S++}return P}}const Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function na(E,P,L,S,B){const Ie=$o(E,P,L);return Ie.matched?(S=function mo(E,P){var L;return E.providers&&!E._injector&&(E._injector=(0,c.Ol2)(E.providers,P,`Route: ${E.path}`)),null!==(L=E._injector)&&void 0!==L?L:P}(P,S),function cr(E,P,L,S){const B=P.canMatch;if(!B||0===B.length)return(0,ee.of)(!0);const Ie=B.map(Se=>{const Vt=Hs(Se,E);return Le(function dt(E){return E&&H(E.canMatch)}(Vt)?Vt.canMatch(P,L):(0,c.N4e)(E,()=>Vt(P,L)))});return(0,ee.of)(Ie).pipe(ar(),yn())}(S,P,L).pipe((0,ke.T)(Se=>!0===Se?Ie:{...Oa}))):(0,ee.of)(Ie)}function $o(E,P,L){var S,B;if("**"===P.path)return function Gs(E){return{matched:!0,parameters:E.length>0?ot(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(L);if(""===P.path)return"full"===P.pathMatch&&(E.hasChildren()||L.length>0)?{...Oa}:{matched:!0,consumedSegments:[],remainingSegments:L,parameters:{},positionalParamSegments:{}};const Se=(P.matcher||Ht)(L,E,P);if(!Se)return{...Oa};const Vt={};Object.entries(null!==(S=Se.posParams)&&void 0!==S?S:{}).forEach(([jt,er])=>{Vt[jt]=er.path});const vn=Se.consumed.length>0?{...Vt,...Se.consumed[Se.consumed.length-1].parameters}:Vt;return{matched:!0,consumedSegments:Se.consumed,remainingSegments:L.slice(Se.consumed.length),parameters:vn,positionalParamSegments:null!==(B=Se.posParams)&&void 0!==B?B:{}}}function _a(E,P,L,S){return L.length>0&&function ia(E,P,L){return L.some(S=>ps(E,P,S)&&ci(S)!==Ft)}(E,L,S)?{segmentGroup:new hr(P,Ya(S,new hr(L,E.children))),slicedSegments:[]}:0===L.length&&function wr(E,P,L){return L.some(S=>ps(E,P,S))}(E,L,S)?{segmentGroup:new hr(E.segments,ra(E,L,S,E.children)),slicedSegments:L}:{segmentGroup:new hr(E.segments,E.children),slicedSegments:L}}function ra(E,P,L,S){const B={};for(const Ie of L)if(ps(E,P,Ie)&&!S[ci(Ie)]){const Se=new hr([],{});B[ci(Ie)]=Se}return{...S,...B}}function Ya(E,P){const L={};L[Ft]=P;for(const S of E)if(""===S.path&&ci(S)!==Ft){const B=new hr([],{});L[ci(S)]=B}return L}function ps(E,P,L){return(!(E.hasChildren()||P.length>0)||"full"!==L.pathMatch)&&""===L.path}class Al{}class Ms{constructor(P,L,S,B,Ie,Se,Vt){this.injector=P,this.configLoader=L,this.rootComponentType=S,this.config=B,this.urlTree=Ie,this.paramsInheritanceStrategy=Se,this.urlSerializer=Vt,this.applyRedirects=new zs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new c.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=_a(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,ke.T)(({children:L,rootSnapshot:S})=>{const B=new Ze(S,L),Ie=new Wn("",B),Se=function Ti(E,P,L=null,S=null){return Xr(Fi(E),P,L,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return Se.queryParams=this.urlTree.queryParams,Ie.url=this.urlSerializer.serialize(Se),{state:Ie,tree:Se}}))}match(P){const L=new Hn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,Ft,L).pipe((0,ke.T)(S=>({children:S,rootSnapshot:L})),hn(S=>{if(S instanceof wo)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof ki?this.noMatchError(S):S}))}processSegmentGroup(P,L,S,B,Ie){return 0===S.segments.length&&S.hasChildren()?this.processChildren(P,L,S,Ie):this.processSegment(P,L,S,S.segments,B,!0,Ie).pipe((0,ke.T)(Se=>Se instanceof Ze?[Se]:[]))}processChildren(P,L,S,B){const Ie=[];for(const Se of Object.keys(S.children))"primary"===Se?Ie.unshift(Se):Ie.push(Se);return(0,Q.H)(Ie).pipe((0,tn.H)(Se=>{const Vt=S.children[Se],vn=function M(E,P){const L=E.filter(S=>ci(S)===P);return L.push(...E.filter(S=>ci(S)!==P)),L}(L,Se);return this.processSegmentGroup(P,vn,Vt,Se,B)}),(0,Gn.S)((Se,Vt)=>(Se.push(...Vt),Se)),(0,Gt.U)(null),function ge(E,P){const L=arguments.length>=2;return S=>S.pipe(E?(0,Pe.p)((B,Ie)=>E(B,Ie,S)):ue.D,Ve(1),L?(0,Gt.U)(P):(0,ae.v)(()=>new We.G))}(),(0,pt.Z)(Se=>{if(null===Se)return Eo(S);const Vt=Iu(Se);return function lh(E){E.sort((P,L)=>P.value.outlet===Ft?-1:L.value.outlet===Ft?1:P.value.outlet.localeCompare(L.value.outlet))}(Vt),(0,ee.of)(Vt)}))}processSegment(P,L,S,B,Ie,Se,Vt){return(0,Q.H)(L).pipe((0,tn.H)(vn=>{var jt;return this.processSegmentAgainstRoute(null!==(jt=vn._injector)&&void 0!==jt?jt:P,L,vn,S,B,Ie,Se,Vt).pipe(hn(er=>{if(er instanceof ki)return(0,ee.of)(null);throw er}))}),(0,kt.$)(vn=>!!vn),hn(vn=>{if(Tn(vn))return function xa(E,P,L){return 0===P.length&&!E.children[L]}(S,B,Ie)?(0,ee.of)(new Al):Eo(S);throw vn}))}processSegmentAgainstRoute(P,L,S,B,Ie,Se,Vt,vn){return ci(S)===Se||Se!==Ft&&ps(B,Ie,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(P,B,S,Ie,Se,vn):this.allowRedirects&&Vt?this.expandSegmentAgainstRouteUsingRedirect(P,B,L,S,Ie,Se,vn):Eo(B):Eo(B)}expandSegmentAgainstRouteUsingRedirect(P,L,S,B,Ie,Se,Vt){var vn,jt;const{matched:er,parameters:Or,consumedSegments:bi,positionalParamSegments:jr,remainingSegments:$i}=$o(L,B,Ie);if(!er)return Eo(L);"string"==typeof B.redirectTo&&"/"===B.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Tr=new Hn(Ie,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(B),ci(B),null!==(vn=null!==(jt=B.component)&&void 0!==jt?jt:B._loadedComponent)&&void 0!==vn?vn:null,B,Jo(B)),Si=pn(Tr,Vt,this.paramsInheritanceStrategy);Tr.params=Object.freeze(Si.params),Tr.data=Object.freeze(Si.data);const So=this.applyRedirects.applyRedirectCommands(bi,B.redirectTo,jr,Tr,P);return this.applyRedirects.lineralizeSegments(B,So).pipe((0,pt.Z)(Ao=>this.processSegment(P,S,L,Ao.concat($i),Se,!1,Vt)))}matchSegmentAgainstRoute(P,L,S,B,Ie,Se){const Vt=na(L,S,B,P);return"**"===S.path&&(L.children={}),Vt.pipe((0,Je.n)(vn=>{var jt;return vn.matched?(P=null!==(jt=S._injector)&&void 0!==jt?jt:P,this.getChildConfig(P,S,B).pipe((0,Je.n)(({routes:er})=>{var Or,bi,jr;const $i=null!==(Or=S._loadedInjector)&&void 0!==Or?Or:P,{parameters:Tr,consumedSegments:Si,remainingSegments:So}=vn,Ao=new Hn(Si,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(S),ci(S),null!==(bi=null!==(jr=S.component)&&void 0!==jr?jr:S._loadedComponent)&&void 0!==bi?bi:null,S,Jo(S)),Qi=pn(Ao,Se,this.paramsInheritanceStrategy);Ao.params=Object.freeze(Qi.params),Ao.data=Object.freeze(Qi.data);const{segmentGroup:rl,slicedSegments:Du}=_a(L,Si,So,er);if(0===Du.length&&rl.hasChildren())return this.processChildren($i,er,rl,Ao).pipe((0,ke.T)(la=>new Ze(Ao,la)));if(0===er.length&&0===Du.length)return(0,ee.of)(new Ze(Ao,[]));const il=ci(S)===Ie;return this.processSegment($i,er,rl,Du,il?Ft:Ie,!0,Ao).pipe((0,ke.T)(la=>new Ze(Ao,la instanceof Ze?[la]:[])))}))):Eo(L)}))}getChildConfig(P,L,S){return L.children?(0,ee.of)({routes:L.children,injector:P}):L.loadChildren?void 0!==L._loadedRoutes?(0,ee.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):function ve(E,P,L,S){const B=P.canLoad;if(void 0===B||0===B.length)return(0,ee.of)(!0);const Ie=B.map(Se=>{const Vt=Hs(Se,E);return Le(function be(E){return E&&H(E.canLoad)}(Vt)?Vt.canLoad(P,L):(0,c.N4e)(E,()=>Vt(P,L)))});return(0,ee.of)(Ie).pipe(ar(),yn())}(P,L,S).pipe((0,pt.Z)(B=>B?this.configLoader.loadChildren(P,L).pipe((0,An.M)(Ie=>{L._loadedRoutes=Ie.routes,L._loadedInjector=Ie.injector})):function Xo(){return Ke(ao(!1,dr.GuardRejected))}())):(0,ee.of)({routes:[],injector:P})}}function Qo(E){const P=E.value.routeConfig;return P&&""===P.path}function Iu(E){const P=[],L=new Set;for(const S of E){if(!Qo(S)){P.push(S);continue}const B=P.find(Ie=>S.value.routeConfig===Ie.value.routeConfig);void 0!==B?(B.children.push(...S.children),L.add(B)):P.push(S)}for(const S of L){const B=Iu(S.children);P.push(new Ze(S.value,B))}return P.filter(S=>!L.has(S))}function ya(E){return E.data||{}}function Jo(E){return E.resolve||{}}function Za(E){const P=E.children.map(L=>Za(L)).flat();return[E,...P]}function Mr(E){return(0,Je.n)(P=>{const L=E(P);return L?(0,Q.H)(L).pipe((0,ke.T)(()=>P)):(0,ee.of)(P)})}let Ii=(()=>{var E;class P{buildTitle(S){let B,Ie=S.root;for(;void 0!==Ie;){var Se;B=null!==(Se=this.getResolvedTitleForRoute(Ie))&&void 0!==Se?Se:B,Ie=Ie.children.find(Vt=>Vt.outlet===Ft)}return B}getResolvedTitleForRoute(S){return S.data[Fn]}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Au),providedIn:"root"}),P})(),Au=(()=>{var E;class P extends Ii{constructor(S){super(),this.title=S}updateTitle(S){const B=this.buildTitle(S);void 0!==B&&this.title.setTitle(B)}}return(E=P).\u0275fac=function(S){return new(S||E)(c.KVO(Lt.hE))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();const La=new c.nKC("",{providedIn:"root",factory:()=>({})});let Fa=(()=>{var E;class P{}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275cmp=c.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(S,B){1&S&&c.nrm(0,"router-outlet")},dependencies:[vi],encapsulation:2}),P})();function hc(E){const P=E.children&&E.children.map(hc),L=P?{...E,children:P}:{...E};return!L.component&&!L.loadComponent&&(P||L.loadChildren)&&L.outlet&&L.outlet!==Ft&&(L.component=Fa),L}const el=new c.nKC("");let Va=(()=>{var E;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ee.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const B=Le(S.loadComponent()).pipe((0,ke.T)(oa),(0,An.M)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Se}),(0,gt.j)(()=>{this.componentLoaders.delete(S)})),Ie=new It(B,()=>new Ee.B).pipe(Mt());return this.componentLoaders.set(S,Ie),Ie}loadChildren(S,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,ee.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const Se=function zr(E,P,L,S){return Le(E.loadChildren()).pipe((0,ke.T)(oa),(0,pt.Z)(B=>B instanceof c.Co$||Array.isArray(B)?(0,ee.of)(B):(0,Q.H)(P.compileModuleAsync(B))),(0,ke.T)(B=>{S&&S(E);let Ie,Se,Vt=!1;return Array.isArray(B)?(Se=B,!0):(Ie=B.create(L).injector,Se=Ie.get(el,[],{optional:!0,self:!0}).flat()),{routes:Se.map(hc),injector:Ie}}))}(B,this.compiler,S,this.onLoadEndListener).pipe((0,gt.j)(()=>{this.childrenLoaders.delete(B)})),Vt=new It(Se,()=>new Ee.B).pipe(Mt());return this.childrenLoaders.set(B,Vt),Vt}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();function oa(E){return function As(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Gi=(()=>{var E;class P{}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(bu),providedIn:"root"}),P})(),bu=(()=>{var E;class P{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,B){return S}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();const tl=new c.nKC(""),D=new c.nKC("");function W(E,P,L){const S=E.get(D),B=E.get(we.qQ);return E.get(c.SKi).runOutsideAngular(()=>{if(!B.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(jt=>setTimeout(jt));let Ie;const Se=new Promise(jt=>{Ie=jt}),Vt=B.startViewTransition(()=>(Ie(),function Be(E){return new Promise(P=>{(0,c.mal)({read:()=>setTimeout(P)},{injector:E})})}(E))),{onViewTransitionCreated:vn}=S;return vn&&(0,c.N4e)(E,()=>vn({transition:Vt,from:P,to:L})),Se})}const z=new c.nKC("");let De=(()=>{var E;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee.B,this.transitionAbortSubject=new Ee.B,this.configLoader=(0,c.WQX)(Va),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Yn),this.rootContexts=(0,c.WQX)(N),this.location=(0,c.WQX)(we.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(Ho,{optional:!0}),this.titleStrategy=(0,c.WQX)(Ii),this.options=(0,c.WQX)(La,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Gi),this.createViewTransition=(0,c.WQX)(tl,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(z,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ie=>this.events.next(new rr(Ie)),this.configLoader.onLoadStartListener=Ie=>this.events.next(new Ki(Ie))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var B;const Ie=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...S,id:Ie})}setupNavigations(S,B,Ie){return this.transitions=new Ae.t({id:0,currentUrlTree:B,currentRawUrl:B,extractedUrl:this.urlHandlingStrategy.extract(B),urlAfterRedirects:this.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wt,restoredState:null,currentSnapshot:Ie.snapshot,targetSnapshot:null,currentRouterState:Ie,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pe.p)(Se=>0!==Se.id),(0,ke.T)(Se=>({...Se,extractedUrl:this.urlHandlingStrategy.extract(Se.rawUrl)})),(0,Je.n)(Se=>{let Vt=!1,vn=!1;return(0,ee.of)(Se).pipe((0,Je.n)(jt=>{var er;if(this.navigationId>Se.id)return this.cancelNavigationTransition(Se,"",dr.SupersededByNewNavigation),at.w;this.currentTransition=Se,this.currentNavigation={id:jt.id,initialUrl:jt.rawUrl,extractedUrl:jt.extractedUrl,targetBrowserUrl:"string"==typeof jt.extras.browserUrl?this.urlSerializer.parse(jt.extras.browserUrl):jt.extras.browserUrl,trigger:jt.source,extras:jt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Or=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),bi=null!==(er=jt.extras.onSameUrlNavigation)&&void 0!==er?er:S.onSameUrlNavigation;if(!Or&&"reload"!==bi){const jr="";return this.events.next(new ai(jt.id,this.urlSerializer.serialize(jt.rawUrl),jr,or.IgnoredSameUrlNavigation)),jt.resolve(!1),at.w}if(this.urlHandlingStrategy.shouldProcessUrl(jt.rawUrl))return(0,ee.of)(jt).pipe((0,Je.n)(jr=>{var $i,Tr;const Si=null===($i=this.transitions)||void 0===$i?void 0:$i.getValue();return this.events.next(new $n(jr.id,this.urlSerializer.serialize(jr.extractedUrl),jr.source,jr.restoredState)),Si!==(null===(Tr=this.transitions)||void 0===Tr?void 0:Tr.getValue())?at.w:Promise.resolve(jr)}),function Na(E,P,L,S,B,Ie){return(0,pt.Z)(Se=>function Bl(E,P,L,S,B,Ie,Se="emptyOnly"){return new Ms(E,P,L,S,B,Se,Ie).recognize()}(E,P,L,S,Se.extractedUrl,B,Ie).pipe((0,ke.T)(({state:Vt,tree:vn})=>({...Se,targetSnapshot:Vt,urlAfterRedirects:vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,An.M)(jr=>{Se.targetSnapshot=jr.targetSnapshot,Se.urlAfterRedirects=jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jr.urlAfterRedirects};const $i=new Di(jr.id,this.urlSerializer.serialize(jr.extractedUrl),this.urlSerializer.serialize(jr.urlAfterRedirects),jr.targetSnapshot);this.events.next($i)}));if(Or&&this.urlHandlingStrategy.shouldProcessUrl(jt.currentRawUrl)){const{id:jr,extractedUrl:$i,source:Tr,restoredState:Si,extras:So}=jt,Ao=new $n(jr,this.urlSerializer.serialize($i),Tr,Si);this.events.next(Ao);const Qi=cn(this.rootComponentType).snapshot;return this.currentTransition=Se={...jt,targetSnapshot:Qi,urlAfterRedirects:$i,extras:{...So,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$i,(0,ee.of)(Se)}{const jr="";return this.events.next(new ai(jt.id,this.urlSerializer.serialize(jt.extractedUrl),jr,or.IgnoredByUrlHandlingStrategy)),jt.resolve(!1),at.w}}),(0,An.M)(jt=>{const er=new ui(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot);this.events.next(er)}),(0,ke.T)(jt=>(this.currentTransition=Se={...jt,guards:Ui(jt.targetSnapshot,jt.currentSnapshot,this.rootContexts)},Se)),function Ni(E,P){return(0,pt.Z)(L=>{const{targetSnapshot:S,currentSnapshot:B,guards:{canActivateChecks:Ie,canDeactivateChecks:Se}}=L;return 0===Se.length&&0===Ie.length?(0,ee.of)({...L,guardsResult:!0}):function hi(E,P,L,S){return(0,Q.H)(E).pipe((0,pt.Z)(B=>function j(E,P,L,S,B){const Ie=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,ee.of)(!0);const Se=Ie.map(Vt=>{var vn;const jt=null!==(vn=te(P))&&void 0!==vn?vn:B,er=Hs(Vt,jt);return Le(function At(E){return E&&H(E.canDeactivate)}(er)?er.canDeactivate(E,P,L,S):(0,c.N4e)(jt,()=>er(E,P,L,S))).pipe((0,kt.$)())});return(0,ee.of)(Se).pipe(ar())}(B.component,B.route,L,P,S)),(0,kt.$)(B=>!0!==B,!0))}(Se,S,B,E).pipe((0,pt.Z)(Vt=>Vt&&function ce(E){return"boolean"==typeof E}(Vt)?function qo(E,P,L,S){return(0,Q.H)(P).pipe((0,tn.H)(B=>(0,Oe.x)(function K(E,P){return null!==E&&P&&P(new Oi(E)),(0,ee.of)(!0)}(B.route.parent,S),function Bo(E,P){return null!==E&&P&&P(new Zi(E)),(0,ee.of)(!0)}(B.route,S),function de(E,P,L){const S=P[P.length-1],Ie=P.slice(0,P.length-1).reverse().map(Se=>function Uo(E){const P=E.routeConfig?E.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:E,guards:P}:null}(Se)).filter(Se=>null!==Se).map(Se=>ze(()=>{const Vt=Se.guards.map(vn=>{var jt;const er=null!==(jt=te(Se.node))&&void 0!==jt?jt:L,Or=Hs(vn,er);return Le(function lt(E){return E&&H(E.canActivateChild)}(Or)?Or.canActivateChild(S,E):(0,c.N4e)(er,()=>Or(S,E))).pipe((0,kt.$)())});return(0,ee.of)(Vt).pipe(ar())}));return(0,ee.of)(Ie).pipe(ar())}(E,B.path,L),function x(E,P,L){const S=P.routeConfig?P.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ee.of)(!0);const B=S.map(Ie=>ze(()=>{var Se;const Vt=null!==(Se=te(P))&&void 0!==Se?Se:L,vn=Hs(Ie,Vt);return Le(function Ce(E){return E&&H(E.canActivate)}(vn)?vn.canActivate(P,E):(0,c.N4e)(Vt,()=>vn(P,E))).pipe((0,kt.$)())}));return(0,ee.of)(B).pipe(ar())}(E,B.route,L))),(0,kt.$)(B=>!0!==B,!0))}(S,Ie,E,P):(0,ee.of)(Vt)),(0,ke.T)(Vt=>({...L,guardsResult:Vt})))})}(this.environmentInjector,jt=>this.events.next(jt)),(0,An.M)(jt=>{if(Se.guardsResult=jt.guardsResult,jt.guardsResult&&"boolean"!=typeof jt.guardsResult)throw xo(0,jt.guardsResult);const er=new wi(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects),jt.targetSnapshot,!!jt.guardsResult);this.events.next(er)}),(0,Pe.p)(jt=>!!jt.guardsResult||(this.cancelNavigationTransition(jt,"",dr.GuardRejected),!1)),Mr(jt=>{if(jt.guards.canActivateChecks.length)return(0,ee.of)(jt).pipe((0,An.M)(er=>{const Or=new Br(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Or)}),(0,Je.n)(er=>{let Or=!1;return(0,ee.of)(er).pipe(function ka(E,P){return(0,pt.Z)(L=>{const{targetSnapshot:S,guards:{canActivateChecks:B}}=L;if(!B.length)return(0,ee.of)(L);const Ie=new Set(B.map(vn=>vn.route)),Se=new Set;for(const vn of Ie)if(!Se.has(vn))for(const jt of Za(vn))Se.add(jt);let Vt=0;return(0,Q.H)(Se).pipe((0,tn.H)(vn=>Ie.has(vn)?function Ws(E,P,L,S){const B=E.routeConfig,Ie=E._resolve;return void 0!==(null==B?void 0:B.title)&&!ii(B)&&(Ie[Fn]=B.title),function kr(E,P,L,S){const B=Dt(E);if(0===B.length)return(0,ee.of)({});const Ie={};return(0,Q.H)(B).pipe((0,pt.Z)(Se=>function dc(E,P,L,S){var B;const Ie=null!==(B=te(P))&&void 0!==B?B:S,Se=Hs(E,Ie);return Le(Se.resolve?Se.resolve(P,L):(0,c.N4e)(Ie,()=>Se(P,L)))}(E[Se],P,L,S).pipe((0,kt.$)(),(0,An.M)(Vt=>{if(Vt instanceof hs)throw xo(new nr,Vt);Ie[Se]=Vt}))),Ve(1),function je(E){return(0,ke.T)(()=>E)}(Ie),hn(Se=>Tn(Se)?at.w:Ke(Se)))}(Ie,E,P,S).pipe((0,ke.T)(Se=>(E._resolvedData=Se,E.data=pn(E,E.parent,L).resolve,null)))}(vn,S,E,P):(vn.data=pn(vn,vn.parent,E).resolve,(0,ee.of)(void 0))),(0,An.M)(()=>Vt++),Ve(1),(0,pt.Z)(vn=>Vt===Se.size?(0,ee.of)(L):at.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,An.M)({next:()=>Or=!0,complete:()=>{Or||this.cancelNavigationTransition(er,"",dr.NoDataFromResolver)}}))}),(0,An.M)(er=>{const Or=new Lr(er.id,this.urlSerializer.serialize(er.extractedUrl),this.urlSerializer.serialize(er.urlAfterRedirects),er.targetSnapshot);this.events.next(Or)}))}),Mr(jt=>{const er=Or=>{var bi;const jr=[];null!==(bi=Or.routeConfig)&&void 0!==bi&&bi.loadComponent&&!Or.routeConfig._loadedComponent&&jr.push(this.configLoader.loadComponent(Or.routeConfig).pipe((0,An.M)($i=>{Or.component=$i}),(0,ke.T)(()=>{})));for(const $i of Or.children)jr.push(...er($i));return jr};return(0,xe.z)(er(jt.targetSnapshot.root)).pipe((0,Gt.U)(null),(0,tt.s)(1))}),Mr(()=>this.afterPreactivation()),(0,Je.n)(()=>{var jt;const{currentSnapshot:er,targetSnapshot:Or}=Se,bi=null===(jt=this.createViewTransition)||void 0===jt?void 0:jt.call(this,this.environmentInjector,er.root,Or.root);return bi?(0,Q.H)(bi).pipe((0,ke.T)(()=>Se)):(0,ee.of)(Se)}),(0,ke.T)(jt=>{const er=function Qn(E,P,L){const S=so(E,P._root,L?L._root:void 0);return new Tt(S,P)}(S.routeReuseStrategy,jt.targetSnapshot,jt.currentRouterState);return this.currentTransition=Se={...jt,targetRouterState:er},this.currentNavigation.targetRouterState=er,Se}),(0,An.M)(()=>{this.events.next(new go)}),((E,P,L,S)=>(0,ke.T)(B=>(new lo(P,B.targetRouterState,B.currentRouterState,L,S).activate(E),B)))(this.rootContexts,S.routeReuseStrategy,jt=>this.events.next(jt),this.inputBindingEnabled),(0,tt.s)(1),(0,An.M)({next:jt=>{var er;Vt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(jt.id,this.urlSerializer.serialize(jt.extractedUrl),this.urlSerializer.serialize(jt.urlAfterRedirects))),null===(er=this.titleStrategy)||void 0===er||er.updateTitle(jt.targetRouterState.snapshot),jt.resolve(!0)},complete:()=>{Vt=!0}}),function ft(E){return(0,rt.N)((P,L)=>{(0,ye.Tg)(E).subscribe((0,st._)(L,()=>L.complete(),yt.l)),!L.closed&&P.subscribe(L)})}(this.transitionAbortSubject.pipe((0,An.M)(jt=>{throw jt}))),(0,gt.j)(()=>{var jt;!Vt&&!vn&&this.cancelNavigationTransition(Se,"",dr.SupersededByNewNavigation),(null===(jt=this.currentTransition)||void 0===jt?void 0:jt.id)===Se.id&&(this.currentNavigation=null,this.currentTransition=null)}),hn(jt=>{if(vn=!0,zo(jt))this.events.next(new xr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),jt.message,jt.cancellationCode)),function Vo(E){return zo(E)&&Pr(E.url)}(jt)?this.events.next(new pi(jt.url,jt.navigationBehaviorOptions)):Se.resolve(!1);else{var er;const Or=new Ci(Se.id,this.urlSerializer.serialize(Se.extractedUrl),jt,null!==(er=Se.targetSnapshot)&&void 0!==er?er:void 0);try{const bi=(0,c.N4e)(this.environmentInjector,()=>{var jr;return null===(jr=this.navigationErrorHandler)||void 0===jr?void 0:jr.call(this,Or)});if(bi instanceof hs){const{message:jr,cancellationCode:$i}=xo(0,bi);this.events.next(new xr(Se.id,this.urlSerializer.serialize(Se.extractedUrl),jr,$i)),this.events.next(new pi(bi.redirectTo,bi.navigationBehaviorOptions))}else{this.events.next(Or);const jr=S.errorHandler(jt);Se.resolve(!!jr)}}catch(bi){this.options.resolveNavigationPromiseOnError?Se.resolve(!1):Se.reject(bi)}}return at.w}))}))}cancelNavigationTransition(S,B,Ie){const Se=new xr(S.id,this.urlSerializer.serialize(S.extractedUrl),B,Ie);this.events.next(Se),S.resolve(!1)}isUpdatingInternalState(){var S,B;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===(B=this.currentTransition)||void 0===B?void 0:B.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,B,Ie,Se;const Vt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),vn=null!==(S=null===(B=this.currentNavigation)||void 0===B?void 0:B.targetBrowserUrl)&&void 0!==S?S:null===(Ie=this.currentNavigation)||void 0===Ie?void 0:Ie.extractedUrl;return Vt.toString()!==(null==vn?void 0:vn.toString())&&!(null!==(Se=this.currentNavigation)&&void 0!==Se&&Se.extras.skipLocationChange)}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();function Ge(E){return E!==wt}let sn=(()=>{var E;class P{}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Rr),providedIn:"root"}),P})();class On{shouldDetach(P){return!1}store(P,L){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,L){return P.routeConfig===L.routeConfig}}let Rr=(()=>{var E;class P extends On{}return(E=P).\u0275fac=(()=>{let L;return function(B){return(L||(L=c.xGo(E)))(B||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})(),li=(()=>{var E;class P{}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Kr),providedIn:"root"}),P})(),Kr=(()=>{var E;class P extends li{constructor(){super(...arguments),this.location=(0,c.WQX)(we.aZ),this.urlSerializer=(0,c.WQX)(Yn),this.options=(0,c.WQX)(La,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Gi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(B=this.restoredState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(B=>{"popstate"===B.type&&S(B.url,B.state)})}handleRouterEvent(S,B){if(S instanceof $n)this.stateMemento=this.createStateMemento();else if(S instanceof ai)this.rawUrlTree=B.initialUrl;else if(S instanceof Di){if("eager"===this.urlUpdateStrategy&&!B.extras.skipLocationChange){var Ie;const Vt=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl);this.setBrowserUrl(null!==(Ie=B.targetBrowserUrl)&&void 0!==Ie?Ie:Vt,B)}}else if(S instanceof go){var Se;this.currentUrlTree=B.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl),this.routerState=B.targetRouterState,"deferred"!==this.urlUpdateStrategy||B.extras.skipLocationChange||this.setBrowserUrl(null!==(Se=B.targetBrowserUrl)&&void 0!==Se?Se:this.rawUrlTree,B)}else S instanceof xr&&(S.code===dr.GuardRejected||S.code===dr.NoDataFromResolver)?this.restoreHistory(B):S instanceof Ci?this.restoreHistory(B,!0):S instanceof Ln&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,B){const Ie=S instanceof gr?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(Ie)||B.extras.replaceUrl){const Vt={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(Ie,"",Vt)}else{const Se={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(Ie,"",Se)}}restoreHistory(S,B=!1){if("computed"===this.canceledNavigationResolution){const Se=this.currentPageId-this.browserPageId;0!==Se?this.location.historyGo(Se):this.currentUrlTree===S.finalUrl&&0===Se&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var B;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(B=S.finalUrl)&&void 0!==B?B:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return(E=P).\u0275fac=(()=>{let L;return function(B){return(L||(L=c.xGo(E)))(B||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();var Ur=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Ur||{});function $r(E,P){E.events.pipe((0,Pe.p)(L=>L instanceof Ln||L instanceof xr||L instanceof Ci||L instanceof ai),(0,ke.T)(L=>L instanceof Ln||L instanceof ai?Ur.COMPLETE:L instanceof xr&&(L.code===dr.Redirect||L.code===dr.SupersededByNewNavigation)?Ur.REDIRECTING:Ur.FAILED),(0,Pe.p)(L=>L!==Ur.REDIRECTING),(0,tt.s)(1)).subscribe(()=>{P()})}function gi(E){throw E}const Jn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{var E;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,B;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(li),this.options=(0,c.WQX)(La,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(De),this.urlSerializer=(0,c.WQX)(Yn),this.location=(0,c.WQX)(we.aZ),this.urlHandlingStrategy=(0,c.WQX)(Gi),this._events=new Ee.B,this.errorHandler=this.options.errorHandler||gi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(sn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===(B=(0,c.WQX)(el,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,c.WQX)(Ho,{optional:!0}),this.eventsSubscription=new mt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ie=>{this.console.warn(Ie)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(B=>{try{const Ie=this.navigationTransitions.currentTransition,Se=this.navigationTransitions.currentNavigation;if(null!==Ie&&null!==Se)if(this.stateManager.handleRouterEvent(B,Se),B instanceof xr&&B.code!==dr.Redirect&&B.code!==dr.SupersededByNewNavigation)this.navigated=!0;else if(B instanceof Ln)this.navigated=!0;else if(B instanceof pi){const Vt=B.navigationBehaviorOptions,vn=this.urlHandlingStrategy.merge(B.url,Ie.currentRawUrl),jt={browserUrl:Ie.extras.browserUrl,info:Ie.extras.info,skipLocationChange:Ie.extras.skipLocationChange,replaceUrl:Ie.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ge(Ie.source),...Vt};this.scheduleNavigation(vn,wt,null,jt,{resolve:Ie.resolve,reject:Ie.reject,promise:Ie.promise})}(function rs(E){return!(E instanceof go||E instanceof pi)})(B)&&this._events.next(B)}catch(Ie){this.navigationTransitions.transitionAbortSubject.next(Ie)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wt,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Ie)},0)}))}navigateToSyncWithBrowser(S,B,Ie){const Se={replaceUrl:!0},Vt=null!=Ie&&Ie.navigationId?Ie:null;if(Ie){const jt={...Ie};delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(Se.state=jt)}const vn=this.parseUrl(S);this.scheduleNavigation(vn,B,Vt,Se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(hc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,B={}){const{relativeTo:Ie,queryParams:Se,fragment:Vt,queryParamsHandling:vn,preserveFragment:jt}=B,er=jt?this.currentUrlTree.fragment:Vt;let bi,Or=null;switch(null!=vn?vn:this.options.defaultQueryParamsHandling){case"merge":Or={...this.currentUrlTree.queryParams,...Se};break;case"preserve":Or=this.currentUrlTree.queryParams;break;default:Or=Se||null}null!==Or&&(Or=this.removeEmptyProps(Or));try{bi=Fi(Ie?Ie.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),bi=this.currentUrlTree.root}return Xr(bi,S,Or,null!=er?er:null)}navigateByUrl(S,B={skipLocationChange:!1}){const Ie=Pr(S)?S:this.parseUrl(S),Se=this.urlHandlingStrategy.merge(Ie,this.rawUrlTree);return this.scheduleNavigation(Se,wt,null,B)}navigate(S,B={skipLocationChange:!1}){return function ns(E){for(let P=0;P<E.length;P++)if(null==E[P])throw new c.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,B){let Ie;if(Ie=!0===B?{...Jn}:!1===B?{...Yo}:B,Pr(S))return jn(this.currentUrlTree,S,Ie);const Se=this.parseUrl(S);return jn(this.currentUrlTree,Se,Ie)}removeEmptyProps(S){return Object.entries(S).reduce((B,[Ie,Se])=>(null!=Se&&(B[Ie]=Se),B),{})}scheduleNavigation(S,B,Ie,Se,Vt){if(this.disposed)return Promise.resolve(!1);let vn,jt,er;Vt?(vn=Vt.resolve,jt=Vt.reject,er=Vt.promise):er=new Promise((bi,jr)=>{vn=bi,jt=jr});const Or=this.pendingTasks.add();return $r(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Or))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:Ie,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:Se,resolve:vn,reject:jt,promise:er,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),er.catch(bi=>Promise.reject(bi))}}return(E=P).\u0275fac=function(S){return new(S||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})(),gs=(()=>{var E;class P{constructor(S,B,Ie,Se,Vt,vn){var jt;this.router=S,this.route=B,this.tabIndexAttribute=Ie,this.renderer=Se,this.el=Vt,this.locationStrategy=vn,this.href=null,this.onChanges=new Ee.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const er=null===(jt=Vt.nativeElement.tagName)||void 0===jt?void 0:jt.toLowerCase();this.isAnchorElement="a"===er||"area"===er,this.isAnchorElement?this.subscription=S.events.subscribe(Or=>{Or instanceof Ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Pr(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,B,Ie,Se,Vt){const vn=this.urlTree;return!!(null===vn||this.isAnchorElement&&(0!==S||B||Ie||Se||Vt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(vn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const B=this.urlTree;this.href=null!==B&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(B)):null;const Ie=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Ie)}applyAttributeValue(S,B){const Ie=this.renderer,Se=this.el.nativeElement;null!==B?Ie.setAttribute(Se,S,B):Ie.removeAttribute(Se,S)}get urlTree(){return null===this.routerLinkInput?null:Pr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=P).\u0275fac=function(S){return new(S||E)(c.rXU(Bi),c.rXU(an),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(we.hb))},E.\u0275dir=c.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,B){1&S&&c.bIt("click",function(Se){return B.onClick(Se.button,Se.ctrlKey,Se.shiftKey,Se.altKey,Se.metaKey)}),2&S&&c.BMQ("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),P})();class Ks{}let Io=(()=>{var E;class P{constructor(S,B,Ie,Se,Vt){this.router=S,this.injector=Ie,this.preloadingStrategy=Se,this.loader=Vt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.p)(S=>S instanceof Ln),(0,tn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const Ie=[];for(const jt of B){var Se,Vt;jt.providers&&!jt._injector&&(jt._injector=(0,c.Ol2)(jt.providers,S,`Route: ${jt.path}`));const er=null!==(Se=jt._injector)&&void 0!==Se?Se:S,Or=null!==(Vt=jt._loadedInjector)&&void 0!==Vt?Vt:er;var vn;(jt.loadChildren&&!jt._loadedRoutes&&void 0===jt.canLoad||jt.loadComponent&&!jt._loadedComponent)&&Ie.push(this.preloadConfig(er,jt)),(jt.children||jt._loadedRoutes)&&Ie.push(this.processRoutes(Or,null!==(vn=jt.children)&&void 0!==vn?vn:jt._loadedRoutes))}return(0,Q.H)(Ie).pipe((0,Wt.U)())}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>{let Ie;Ie=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(S,B):(0,ee.of)(null);const Se=Ie.pipe((0,pt.Z)(Vt=>{var vn;return null===Vt?(0,ee.of)(void 0):(B._loadedRoutes=Vt.routes,B._loadedInjector=Vt.injector,this.processRoutes(null!==(vn=Vt.injector)&&void 0!==vn?vn:S,Vt.routes))}));if(B.loadComponent&&!B._loadedComponent){const Vt=this.loader.loadComponent(B);return(0,Q.H)([Se,Vt]).pipe((0,Wt.U)())}return Se})}}return(E=P).\u0275fac=function(S){return new(S||E)(c.KVO(Bi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Ks),c.KVO(Va))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),P})();const oi=new c.nKC("");let bl=(()=>{var E;class P{constructor(S,B,Ie,Se,Vt={}){this.urlSerializer=S,this.transitions=B,this.viewportScroller=Ie,this.zone=Se,this.options=Vt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Vt.scrollPositionRestoration||(Vt.scrollPositionRestoration="disabled"),Vt.anchorScrolling||(Vt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Ln?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof ai&&S.code===or.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof po&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new po(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var S,B;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(E=P).\u0275fac=function(S){c.QTQ()},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),P})();function xs(E,P){return{\u0275kind:E,\u0275providers:P}}function nl(){const E=(0,c.WQX)(c.zZn);return P=>{var L,S;const B=E.get(c.o8S);if(P!==B.components[0])return;const Ie=E.get(Bi),Se=E.get(zl);1===E.get(vo)&&Ie.initialNavigation(),null===(L=E.get(Cl,null,c.$GK.Optional))||void 0===L||L.setUpPreloading(),null===(S=E.get(oi,null,c.$GK.Optional))||void 0===S||S.init(),Ie.resetRootComponentType(B.componentTypes[0]),Se.closed||(Se.next(),Se.complete(),Se.unsubscribe())}}const zl=new c.nKC("",{factory:()=>new Ee.B}),vo=new c.nKC("",{providedIn:"root",factory:()=>1}),Cl=new c.nKC("");function aa(E){return xs(0,[{provide:Cl,useExisting:Io},{provide:Ks,useExisting:E}])}function Cu(E){return xs(9,[{provide:tl,useValue:W},{provide:D,useValue:{skipNextTransition:!(null==E||!E.skipInitialTransition),...E}}])}const Ns=new c.nKC("ROUTER_FORROOT_GUARD"),Go=[we.aZ,{provide:Yn,useClass:nr},Bi,N,{provide:an,useFactory:function sa(E){return E.routerState.root},deps:[Bi]},Va,[]];let Gl=(()=>{var E;class P{constructor(S){}static forRoot(S,B){return{ngModule:P,providers:[Go,[],{provide:el,multi:!0,useValue:S},{provide:Ns,useFactory:Ia,deps:[[Bi,new c.Xx1,new c.kdw]]},{provide:La,useValue:B||{}},null!=B&&B.useHash?{provide:we.hb,useClass:we.fw}:{provide:we.hb,useClass:we.Sm},{provide:oi,useFactory:()=>{const E=(0,c.WQX)(we.Xr),P=(0,c.WQX)(c.SKi),L=(0,c.WQX)(La),S=(0,c.WQX)(De),B=(0,c.WQX)(Yn);return L.scrollOffset&&E.setOffset(L.scrollOffset),new bl(B,S,E,P,L)}},null!=B&&B.preloadingStrategy?aa(B.preloadingStrategy).\u0275providers:[],null!=B&&B.initialNavigation?mc(B):[],null!=B&&B.bindToComponentInputs?xs(8,[Xi,{provide:Ho,useExisting:Xi}]).\u0275providers:[],null!=B&&B.enableViewTransitions?Cu().\u0275providers:[],[{provide:Aa,useFactory:nl},{provide:c.iLQ,multi:!0,useExisting:Aa}]]}}static forChild(S){return{ngModule:P,providers:[{provide:el,multi:!0,useValue:S}]}}}return(E=P).\u0275fac=function(S){return new(S||E)(c.KVO(Ns,8))},E.\u0275mod=c.$C({type:E}),E.\u0275inj=c.G2t({}),P})();function Ia(E){return"guarded"}function mc(E){return["disabled"===E.initialNavigation?xs(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const P=(0,c.WQX)(Bi);return()=>{P.setUpLocationChangeListener()}}},{provide:vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?xs(2,[{provide:vo,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:P=>{const L=P.get(we.hj,Promise.resolve());return()=>L.then(()=>new Promise(S=>{const B=P.get(Bi),Ie=P.get(zl);$r(B,()=>{S(!0)}),P.get(De).afterPreactivation=()=>(S(!0),Ie.closed?(0,ee.of)(void 0):Ie),B.initialNavigation()}))}}]).\u0275providers:[]]}const Aa=new c.nKC("")},3345:(Cn,it,O)=>{"use strict";O.d(it,{A:()=>at});var c=O(1076),h=O(1362),F=O(7852),_e=O(8041);class Q{constructor(rt,st){this._delegate=rt,this.firebase=st,(0,F._addComponent)(rt,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(rt,st=F._DEFAULT_ENTRY_NAME){var Mt;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(rt);return!It.isInitialized()&&"EXPLICIT"===(null===(Mt=It.getComponent())||void 0===Mt?void 0:Mt.instantiationMode)&&It.initialize(),It.getImmediate({identifier:st})}_removeServiceInstance(rt,st=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(st)}_addComponent(rt){(0,F._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,F._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Oe=function We(){const mt=function xe(mt){const rt={},st={__esModule:!0,initializeApp:function Ee(tt,Ot={}){const Pe=F.initializeApp(tt,Ot);if((0,c.gR)(rt,Pe.name))return rt[Pe.name];const pt=new mt(Pe,st);return rt[Pe.name]=pt,pt},app:It,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function ke(tt){const Ot=tt.name,Pe=Ot.replace("-compat","");if(F._registerComponent(tt)&&"PUBLIC"===tt.type){const pt=(kt=It())=>{if("function"!=typeof kt[Pe])throw Ae.create("invalid-app-argument",{appName:Ot});return kt[Pe]()};void 0!==tt.serviceProps&&(0,c.zw)(pt,tt.serviceProps),st[Pe]=pt,mt.prototype[Pe]=function(...kt){return this._getService.bind(this,Ot).apply(this,tt.multipleInstances?kt:[])}}return"PUBLIC"===tt.type?st[Pe]:null},removeApp:function Mt(tt){delete rt[tt]},useAsService:function Je(tt,Ot){return"serverAuth"===Ot?null:Ot},modularAPIs:F}};function It(tt){if(!(0,c.gR)(rt,tt=tt||F._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:tt});return rt[tt]}return st.default=st,Object.defineProperty(st,"apps",{get:function we(){return Object.keys(rt).map(tt=>rt[tt])}}),It.App=mt,st}(Q);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function rt(st){(0,c.zw)(mt,st)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),mt}(),ye=new _e.Vy("@firebase/app-compat");try{const mt=(0,c.mS)();if(void 0!==mt.firebase){ye.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const rt=mt.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&ye.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const at=Oe;!function Ke(mt){(0,F.registerVersion)("@firebase/app-compat","0.2.43",mt)}()},7852:(Cn,it,O)=>{"use strict";O.r(it),O.d(it,{FirebaseError:()=>_e.g,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>hr,_addOrOverwriteComponent:()=>ti,_apps:()=>yr,_clearComponents:()=>qn,_components:()=>gr,_getProvider:()=>Bn,_isFirebaseApp:()=>Yn,_isFirebaseServerApp:()=>nr,_registerComponent:()=>_i,_removeServiceInstance:()=>Wr,_serverApps:()=>pr,deleteApp:()=>ut,getApp:()=>bt,getApps:()=>qt,initializeApp:()=>si,initializeServerApp:()=>$t,onLog:()=>X,registerVersion:()=>Z,setLogLevel:()=>se});var c=O(467),h=O(1362),F=O(8041),_e=O(1076);const Q=(fe,q)=>q.some(Me=>fe instanceof Me);let ee,Ae;const Oe=new WeakMap,ye=new WeakMap,ze=new WeakMap,Qe=new WeakMap,Ke=new WeakMap;let rt={get(fe,q,Me){if(fe instanceof IDBTransaction){if("done"===q)return ye.get(fe);if("objectStoreNames"===q)return fe.objectStoreNames||ze.get(fe);if("store"===q)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return Ee(fe[q])},set:(fe,q,Me)=>(fe[q]=Me,!0),has:(fe,q)=>fe instanceof IDBTransaction&&("done"===q||"store"===q)||q in fe};function It(fe){return"function"==typeof fe?function Mt(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...q){return fe.apply(we(this),q),Ee(Oe.get(this))}:function(...q){return Ee(fe.apply(we(this),q))}:function(q,...Me){const ne=fe.call(we(this),q,...Me);return ze.set(ne,q.sort?q.sort():[q]),Ee(ne)}}(fe):(fe instanceof IDBTransaction&&function mt(fe){if(ye.has(fe))return;const q=new Promise((Me,ne)=>{const le=()=>{fe.removeEventListener("complete",Ne),fe.removeEventListener("error",St),fe.removeEventListener("abort",St)},Ne=()=>{Me(),le()},St=()=>{ne(fe.error||new DOMException("AbortError","AbortError")),le()};fe.addEventListener("complete",Ne),fe.addEventListener("error",St),fe.addEventListener("abort",St)});ye.set(fe,q)}(fe),Q(fe,function xe(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,rt):fe)}function Ee(fe){if(fe instanceof IDBRequest)return function at(fe){const q=new Promise((Me,ne)=>{const le=()=>{fe.removeEventListener("success",Ne),fe.removeEventListener("error",St)},Ne=()=>{Me(Ee(fe.result)),le()},St=()=>{ne(fe.error),le()};fe.addEventListener("success",Ne),fe.addEventListener("error",St)});return q.then(Me=>{Me instanceof IDBCursor&&Oe.set(Me,fe)}).catch(()=>{}),Ke.set(q,fe),q}(fe);if(Qe.has(fe))return Qe.get(fe);const q=It(fe);return q!==fe&&(Qe.set(fe,q),Ke.set(q,fe)),q}const we=fe=>Ke.get(fe),tt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Pe=new Map;function pt(fe,q){if(!(fe instanceof IDBDatabase)||q in fe||"string"!=typeof q)return;if(Pe.get(q))return Pe.get(q);const Me=q.replace(/FromIndex$/,""),ne=q!==Me,le=Ot.includes(Me);if(!(Me in(ne?IDBIndex:IDBObjectStore).prototype)||!le&&!tt.includes(Me))return;const Ne=function(){var St=(0,c.A)(function*(on,...gn){const he=this.transaction(on,le?"readwrite":"readonly");let $e=he.store;return ne&&($e=$e.index(gn.shift())),(yield Promise.all([$e[Me](...gn),le&&he.done]))[0]});return function(gn){return St.apply(this,arguments)}}();return Pe.set(q,Ne),Ne}!function st(fe){rt=fe(rt)}(fe=>({...fe,get:(q,Me,ne)=>pt(q,Me)||fe.get(q,Me,ne),has:(q,Me)=>!!pt(q,Me)||fe.has(q,Me)}));class kt{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function tn(fe){const q=fe.getComponent();return"VERSION"===(null==q?void 0:q.type)}(Me)){const ne=Me.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(Me=>Me).join(" ")}}const An="@firebase/app",hn="0.10.13",Gn=new F.Vy("@firebase/app"),Gt="@firebase/app-compat",Ve="@firebase/analytics-compat",ae="@firebase/analytics",ue="@firebase/app-check-compat",ge="@firebase/app-check",je="@firebase/auth",gt="@firebase/auth-compat",yt="@firebase/database",ft="@firebase/data-connect",Wt="@firebase/database-compat",Lt="@firebase/functions",Ft="@firebase/functions-compat",Fn="@firebase/installations",xt="@firebase/installations-compat",kn="@firebase/messaging",Ht="@firebase/messaging-compat",wn="@firebase/performance",Jt="@firebase/performance-compat",Dt="@firebase/remote-config",bn="@firebase/remote-config-compat",ot="@firebase/storage",Le="@firebase/storage-compat",qe="@firebase/firestore",un="@firebase/vertexai-preview",jn="@firebase/firestore-compat",fr="firebase",Un="[DEFAULT]",en={[An]:"fire-core",[Gt]:"fire-core-compat",[ae]:"fire-analytics",[Ve]:"fire-analytics-compat",[ge]:"fire-app-check",[ue]:"fire-app-check-compat",[je]:"fire-auth",[gt]:"fire-auth-compat",[yt]:"fire-rtdb",[ft]:"fire-data-connect",[Wt]:"fire-rtdb-compat",[Lt]:"fire-fn",[Ft]:"fire-fn-compat",[Fn]:"fire-iid",[xt]:"fire-iid-compat",[kn]:"fire-fcm",[Ht]:"fire-fcm-compat",[wn]:"fire-perf",[Jt]:"fire-perf-compat",[Dt]:"fire-rc",[bn]:"fire-rc-compat",[ot]:"fire-gcs",[Le]:"fire-gcs-compat",[qe]:"fire-fst",[jn]:"fire-fst-compat",[un]:"fire-vertex","fire-js":"fire-js",[fr]:"fire-js-all"},yr=new Map,pr=new Map,gr=new Map;function hr(fe,q){try{fe.container.addComponent(q)}catch(Me){Gn.debug(`Component ${q.name} failed to register with FirebaseApp ${fe.name}`,Me)}}function ti(fe,q){fe.container.addOrOverwriteComponent(q)}function _i(fe){const q=fe.name;if(gr.has(q))return Gn.debug(`There were multiple attempts to register component ${q}.`),!1;gr.set(q,fe);for(const Me of yr.values())hr(Me,fe);for(const Me of pr.values())hr(Me,fe);return!0}function Bn(fe,q){const Me=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),fe.container.getProvider(q)}function Wr(fe,q,Me=Un){Bn(fe,q).clearInstance(Me)}function Yn(fe){return void 0!==fe.options}function nr(fe){return void 0!==fe.settings}function qn(){gr.clear()}const Xn=new _e.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ni{constructor(q,Me,ne){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}class Er extends ni{constructor(q,Me,ne,le){const Ne=void 0!==Me.automaticDataCollectionEnabled&&Me.automaticDataCollectionEnabled,St={name:ne,automaticDataCollectionEnabled:Ne};super(void 0!==q.apiKey?q:q.options,St,le),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ne},Me),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Me.releaseOnDeref=void 0,Z(An,hn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(q){this.isDeleted||(this._refCount++,void 0!==q&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(q,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ut(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Xn.create("server-app-deleted")}}const Pn="10.14.1";function si(fe,q={}){let Me=fe;"object"!=typeof q&&(q={name:q});const ne=Object.assign({name:Un,automaticDataCollectionEnabled:!1},q),le=ne.name;if("string"!=typeof le||!le)throw Xn.create("bad-app-name",{appName:String(le)});if(Me||(Me=(0,_e.T9)()),!Me)throw Xn.create("no-options");const Ne=yr.get(le);if(Ne){if((0,_e.bD)(Me,Ne.options)&&(0,_e.bD)(ne,Ne.config))return Ne;throw Xn.create("duplicate-app",{appName:le})}const St=new h.h1(le);for(const gn of gr.values())St.addComponent(gn);const on=new ni(Me,ne,St);return yr.set(le,on),on}function $t(fe,q){if((0,_e.Bd)()&&!(0,_e.p7)())throw Xn.create("invalid-server-app-environment");let Me;void 0===q.automaticDataCollectionEnabled&&(q.automaticDataCollectionEnabled=!1),Me=Yn(fe)?fe.options:fe;const ne=Object.assign(Object.assign({},q),Me);if(void 0!==ne.releaseOnDeref&&delete ne.releaseOnDeref,void 0!==q.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Xn.create("finalization-registry-not-supported",{});const Ne=""+(he=JSON.stringify(ne),[...he].reduce(($e,Nt)=>Math.imul(31,$e)+Nt.charCodeAt(0)|0,0)),St=pr.get(Ne);var he;if(St)return St.incRefCount(q.releaseOnDeref),St;const on=new h.h1(Ne);for(const he of gr.values())on.addComponent(he);const gn=new Er(Me,q,Ne,on);return pr.set(Ne,gn),gn}function bt(fe=Un){const q=yr.get(fe);if(!q&&fe===Un&&(0,_e.T9)())return si();if(!q)throw Xn.create("no-app",{appName:fe});return q}function qt(){return Array.from(yr.values())}function ut(fe){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.A)(function*(fe){let q=!1;const Me=fe.name;yr.has(Me)?(q=!0,yr.delete(Me)):pr.has(Me)&&fe.decRefCount()<=0&&(pr.delete(Me),q=!0),q&&(yield Promise.all(fe.container.getProviders().map(ne=>ne.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function Z(fe,q,Me){var ne;let le=null!==(ne=en[fe])&&void 0!==ne?ne:fe;Me&&(le+=`-${Me}`);const Ne=le.match(/\s|\//),St=q.match(/\s|\//);if(Ne||St){const on=[`Unable to register library "${le}" with version "${q}":`];return Ne&&on.push(`library name "${le}" contains illegal characters (whitespace or "/")`),Ne&&St&&on.push("and"),St&&on.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void Gn.warn(on.join(" "))}_i(new h.uA(`${le}-version`,()=>({library:le,version:q}),"VERSION"))}function X(fe,q){if(null!==fe&&"function"!=typeof fe)throw Xn.create("invalid-log-argument");(0,F.Ey)(fe,q)}function se(fe){(0,F.He)(fe)}const Xe="firebase-heartbeat-database",et=1,rn="firebase-heartbeat-store";let Sn=null;function Zn(){return Sn||(Sn=function ke(fe,q,{blocked:Me,upgrade:ne,blocking:le,terminated:Ne}={}){const St=indexedDB.open(fe,q),on=Ee(St);return ne&&St.addEventListener("upgradeneeded",gn=>{ne(Ee(St.result),gn.oldVersion,gn.newVersion,Ee(St.transaction),gn)}),Me&&St.addEventListener("blocked",gn=>Me(gn.oldVersion,gn.newVersion,gn)),on.then(gn=>{Ne&&gn.addEventListener("close",()=>Ne()),le&&gn.addEventListener("versionchange",he=>le(he.oldVersion,he.newVersion,he))}).catch(()=>{}),on}(Xe,et,{upgrade:(fe,q)=>{if(0===q)try{fe.createObjectStore(rn)}catch(Me){console.warn(Me)}}}).catch(fe=>{throw Xn.create("idb-open",{originalErrorMessage:fe.message})})),Sn}function vt(){return(vt=(0,c.A)(function*(fe){try{const Me=(yield Zn()).transaction(rn),ne=yield Me.objectStore(rn).get(Pr(fe));return yield Me.done,ne}catch(q){if(q instanceof _e.g)Gn.warn(q.message);else{const Me=Xn.create("idb-get",{originalErrorMessage:null==q?void 0:q.message});Gn.warn(Me.message)}}})).apply(this,arguments)}function Ir(fe,q){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(fe,q){try{const ne=(yield Zn()).transaction(rn,"readwrite");yield ne.objectStore(rn).put(q,Pr(fe)),yield ne.done}catch(Me){if(Me instanceof _e.g)Gn.warn(Me.message);else{const ne=Xn.create("idb-set",{originalErrorMessage:null==Me?void 0:Me.message});Gn.warn(ne.message)}}})).apply(this,arguments)}function Pr(fe){return`${fe.name}!${fe.options.appId}`}class Xr{constructor(q){this.container=q,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Vi(Me),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var q=this;return(0,c.A)(function*(){var Me,ne;try{const Ne=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=ji();return null==(null===(Me=q._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)&&(q._heartbeatsCache=yield q._heartbeatsCachePromise,null==(null===(ne=q._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats))||q._heartbeatsCache.lastSentHeartbeatDate===St||q._heartbeatsCache.heartbeats.some(on=>on.date===St)?void 0:(q._heartbeatsCache.heartbeats.push({date:St,agent:Ne}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(on=>{const gn=new Date(on.date).valueOf();return Date.now()-gn<=2592e6}),q._storage.overwrite(q._heartbeatsCache))}catch(le){Gn.warn(le)}})()}getHeartbeatsHeader(){var q=this;return(0,c.A)(function*(){var Me;try{if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null==(null===(Me=q._heartbeatsCache)||void 0===Me?void 0:Me.heartbeats)||0===q._heartbeatsCache.heartbeats.length)return"";const ne=ji(),{heartbeatsToSend:le,unsentEntries:Ne}=function Ei(fe,q=1024){const Me=[];let ne=fe.slice();for(const le of fe){const Ne=Me.find(St=>St.agent===le.agent);if(Ne){if(Ne.dates.push(le.date),Yi(Me)>q){Ne.dates.pop();break}}else if(Me.push({agent:le.agent,dates:[le.date]}),Yi(Me)>q){Me.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:Me,unsentEntries:ne}}(q._heartbeatsCache.heartbeats),St=(0,_e.Uj)(JSON.stringify({version:2,heartbeats:le}));return q._heartbeatsCache.lastSentHeartbeatDate=ne,Ne.length>0?(q._heartbeatsCache.heartbeats=Ne,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),St}catch(ne){return Gn.warn(ne),""}})()}}function ji(){return(new Date).toISOString().substring(0,10)}class Vi{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,_e.zW)()&&(0,_e.eX)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,c.A)(function*(){if(yield q._canUseIndexedDBPromise){const ne=yield function Ar(fe){return vt.apply(this,arguments)}(q.app);return null!=ne&&ne.heartbeats?ne:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(q){var Me=this;return(0,c.A)(function*(){var ne;if(yield Me._canUseIndexedDBPromise){const Ne=yield Me.read();return Ir(Me.app,{lastSentHeartbeatDate:null!==(ne=q.lastSentHeartbeatDate)&&void 0!==ne?ne:Ne.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var Me=this;return(0,c.A)(function*(){var ne;if(yield Me._canUseIndexedDBPromise){const Ne=yield Me.read();return Ir(Me.app,{lastSentHeartbeatDate:null!==(ne=q.lastSentHeartbeatDate)&&void 0!==ne?ne:Ne.lastSentHeartbeatDate,heartbeats:[...Ne.heartbeats,...q.heartbeats]})}})()}}function Yi(fe){return(0,_e.Uj)(JSON.stringify({version:2,heartbeats:fe})).length}!function Wi(fe){_i(new h.uA("platform-logger",q=>new kt(q),"PRIVATE")),_i(new h.uA("heartbeat",q=>new Xr(q),"PRIVATE")),Z(An,hn,fe),Z(An,hn,"esm2017"),Z("fire-js","")}("")},1362:(Cn,it,O)=>{"use strict";O.d(it,{h1:()=>xe,uA:()=>F});var c=O(467),h=O(1076);class F{constructor(Oe,ye,ze){this.name=Oe,this.instanceFactory=ye,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Oe){return this.instantiationMode=Oe,this}setMultipleInstances(Oe){return this.multipleInstances=Oe,this}setServiceProps(Oe){return this.serviceProps=Oe,this}setInstanceCreatedCallback(Oe){return this.onInstanceCreated=Oe,this}}const _e="[DEFAULT]";class Q{constructor(Oe,ye){this.name=Oe,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Oe){const ye=this.normalizeInstanceIdentifier(Oe);if(!this.instancesDeferred.has(ye)){const ze=new h.cY;if(this.instancesDeferred.set(ye,ze),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ye});Qe&&ze.resolve(Qe)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(Oe){var ye;const ze=this.normalizeInstanceIdentifier(null==Oe?void 0:Oe.identifier),Qe=null!==(ye=null==Oe?void 0:Oe.optional)&&void 0!==ye&&ye;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(Ke){if(Qe)return null;throw Ke}}getComponent(){return this.component}setComponent(Oe){if(Oe.name!==this.name)throw Error(`Mismatching Component ${Oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Oe,this.shouldAutoInitialize()){if(function Ae(We){return"EAGER"===We.instantiationMode}(Oe))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[ye,ze]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ye);try{const Ke=this.getOrInitializeService({instanceIdentifier:Qe});ze.resolve(Ke)}catch{}}}}clearInstance(Oe=_e){this.instancesDeferred.delete(Oe),this.instancesOptions.delete(Oe),this.instances.delete(Oe)}delete(){var Oe=this;return(0,c.A)(function*(){const ye=Array.from(Oe.instances.values());yield Promise.all([...ye.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...ye.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Oe=_e){return this.instances.has(Oe)}getOptions(Oe=_e){return this.instancesOptions.get(Oe)||{}}initialize(Oe={}){const{options:ye={}}=Oe,ze=this.normalizeInstanceIdentifier(Oe.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:ze,options:ye});for(const[Ke,at]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(Ke)&&at.resolve(Qe);return Qe}onInit(Oe,ye){var ze;const Qe=this.normalizeInstanceIdentifier(ye),Ke=null!==(ze=this.onInitCallbacks.get(Qe))&&void 0!==ze?ze:new Set;Ke.add(Oe),this.onInitCallbacks.set(Qe,Ke);const at=this.instances.get(Qe);return at&&Oe(at,Qe),()=>{Ke.delete(Oe)}}invokeOnInitCallbacks(Oe,ye){const ze=this.onInitCallbacks.get(ye);if(ze)for(const Qe of ze)try{Qe(Oe,ye)}catch{}}getOrInitializeService({instanceIdentifier:Oe,options:ye={}}){let ze=this.instances.get(Oe);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(We=Oe,We===_e?void 0:We),options:ye}),this.instances.set(Oe,ze),this.instancesOptions.set(Oe,ye),this.invokeOnInitCallbacks(ze,Oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Oe,ze)}catch{}var We;return ze||null}normalizeInstanceIdentifier(Oe=_e){return this.component?this.component.multipleInstances?Oe:_e:Oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(Oe){this.name=Oe,this.providers=new Map}addComponent(Oe){const ye=this.getProvider(Oe.name);if(ye.isComponentSet())throw new Error(`Component ${Oe.name} has already been registered with ${this.name}`);ye.setComponent(Oe)}addOrOverwriteComponent(Oe){this.getProvider(Oe.name).isComponentSet()&&this.providers.delete(Oe.name),this.addComponent(Oe)}getProvider(Oe){if(this.providers.has(Oe))return this.providers.get(Oe);const ye=new Q(Oe,this);return this.providers.set(Oe,ye),ye}getProviders(){return Array.from(this.providers.values())}}},8041:(Cn,it,O)=>{"use strict";O.d(it,{$b:()=>h,Ey:()=>We,He:()=>xe,Vy:()=>Ae});const c=[];var h=function(Oe){return Oe[Oe.DEBUG=0]="DEBUG",Oe[Oe.VERBOSE=1]="VERBOSE",Oe[Oe.INFO=2]="INFO",Oe[Oe.WARN=3]="WARN",Oe[Oe.ERROR=4]="ERROR",Oe[Oe.SILENT=5]="SILENT",Oe}(h||{});const F={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},_e=h.INFO,Q={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ee=(Oe,ye,...ze)=>{if(ye<Oe.logLevel)return;const Qe=(new Date).toISOString(),Ke=Q[ye];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[Ke](`[${Qe}]  ${Oe.name}:`,...ze)};class Ae{constructor(ye){this.name=ye,this._logLevel=_e,this._logHandler=ee,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in h))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?F[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ye),this._logHandler(this,h.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ye),this._logHandler(this,h.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ye),this._logHandler(this,h.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ye),this._logHandler(this,h.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ye),this._logHandler(this,h.ERROR,...ye)}}function xe(Oe){c.forEach(ye=>{ye.setLogLevel(Oe)})}function We(Oe,ye){for(const ze of c){let Qe=null;ye&&ye.level&&(Qe=F[ye.level]),ze.userLogHandler=null===Oe?null:(Ke,at,...mt)=>{const rt=mt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");at>=(null!=Qe?Qe:Ke.logLevel)&&Oe({level:h[at].toLowerCase(),message:rt,args:mt,type:Ke.name})}}}},2872:(Cn,it,O)=>{"use strict";O.d(it,{Yq:()=>ot,TS:()=>wn,sR:()=>Jt,el:()=>Sn,Sb:()=>Yn,QE:()=>Mn,CF:()=>_i,Rg:()=>Kt,p4:()=>Pr,jM:()=>Yi,_t:()=>gt,q9:()=>Fn,Kb:()=>Wi,OD:()=>Wt,CE:()=>Zn,pF:()=>Ar,fL:()=>Fi,YV:()=>Xe,er:()=>Ti,z3:()=>Xr});var c=O(467),h=O(9842),F=O(3953),_e=O(9384),Q=O(177),ee=O(5531),Ae=O(4442);var kt=O(1413),tn=O(3726),An=O(4412),hn=O(4572),Gn=O(7673),Gt=O(1635),Ve=O(5964),ae=O(5558),ue=O(3294),ge=O(4341);const je=["tabsInner"];class gt{constructor(q){(0,h.A)(this,"menuController",void 0),this.menuController=q}open(q){return this.menuController.open(q)}close(q){return this.menuController.close(q)}toggle(q){return this.menuController.toggle(q)}enable(q,Me){return this.menuController.enable(q,Me)}swipeGesture(q,Me){return this.menuController.swipeGesture(q,Me)}isOpen(q){return this.menuController.isOpen(q)}isEnabled(q){return this.menuController.isEnabled(q)}get(q){return this.menuController.get(q)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(q,Me){return this.menuController.registerAnimation(q,Me)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(q,Me){return this.menuController._createAnimation(q,Me)}_register(q){return this.menuController._register(q)}_unregister(q){return this.menuController._unregister(q)}_setOpen(q,Me,ne){return this.menuController._setOpen(q,Me,ne)}}let Wt=(()=>{var fe;class q{constructor(ne,le){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new kt.B),(0,h.A)(this,"keyboardDidShow",new kt.B),(0,h.A)(this,"keyboardDidHide",new kt.B),(0,h.A)(this,"pause",new kt.B),(0,h.A)(this,"resume",new kt.B),(0,h.A)(this,"resize",new kt.B),this.doc=ne,le.run(()=>{var Ne;let St;this.win=ne.defaultView,this.backButton.subscribeWithPriority=function(on,gn){return this.subscribe(he=>he.register(on,$e=>le.run(()=>gn($e))))},Ft(this.pause,ne,"pause",le),Ft(this.resume,ne,"resume",le),Ft(this.backButton,ne,"ionBackButton",le),Ft(this.resize,this.win,"resize",le),Ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",le),Ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",le),this._readyPromise=new Promise(on=>{St=on}),null!==(Ne=this.win)&&void 0!==Ne&&Ne.cordova?ne.addEventListener("deviceready",()=>{St("cordova")},{once:!0}):St("dom")})}is(ne){return(0,ee.a)(this.win,ne)}platforms(){return(0,ee.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ne){return Lt(this.win.location.href,ne)}isLandscape(){return!this.isPortrait()}isPortrait(){var ne,le;return null===(ne=(le=this.win).matchMedia)||void 0===ne?void 0:ne.call(le,"(orientation: portrait)").matches}testUserAgent(ne){const le=this.win.navigator;return!!(null!=le&&le.userAgent&&le.userAgent.indexOf(ne)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.KVO(Q.qQ),F.KVO(F.SKi))}),(0,h.A)(q,"\u0275prov",F.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),q})();const Lt=(fe,q)=>{q=q.replace(/[[\]\\]/g,"\\$&");const ne=new RegExp("[\\?&]"+q+"=([^&#]*)").exec(fe);return ne?decodeURIComponent(ne[1].replace(/\+/g," ")):null},Ft=(fe,q,Me,ne)=>{q&&q.addEventListener(Me,le=>{ne.run(()=>{fe.next(null!=le?le.detail:void 0)})})};let Fn=(()=>{var fe;class q{constructor(ne,le,Ne,St){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",kn),(0,h.A)(this,"animated",Ht),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=le,this.serializer=Ne,this.router=St,St&&St.events.subscribe(on=>{if(on instanceof _e.Z){const gn=on.restoredState?on.restoredState.navigationId:on.id;this.guessDirection=this.guessAnimation=gn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?on.id:gn}}),ne.backButton.subscribeWithPriority(0,on=>{this.pop(),on()})}navigateForward(ne,le={}){return this.setDirection("forward",le.animated,le.animationDirection,le.animation),this.navigate(ne,le)}navigateBack(ne,le={}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.navigate(ne,le)}navigateRoot(ne,le={}){return this.setDirection("root",le.animated,le.animationDirection,le.animation),this.navigate(ne,le)}back(ne={animated:!0,animationDirection:"back"}){return this.setDirection("back",ne.animated,ne.animationDirection,ne.animation),this.location.back()}pop(){var ne=this;return(0,c.A)(function*(){let le=ne.topOutlet;for(;le;){if(yield le.pop())return!0;le=le.parentOutlet}return!1})()}setDirection(ne,le,Ne,St){this.direction=ne,this.animated=xt(ne,le,Ne),this.animationBuilder=St}setTopOutlet(ne){this.topOutlet=ne}consumeTransition(){let le,ne="root";const Ne=this.animationBuilder;return"auto"===this.direction?(ne=this.guessDirection,le=this.guessAnimation):(le=this.animated,ne=this.direction),this.direction=kn,this.animated=Ht,this.animationBuilder=void 0,{direction:ne,animation:le,animationBuilder:Ne}}navigate(ne,le){if(Array.isArray(ne))return this.router.navigate(ne,le);{const Ne=this.serializer.parse(ne.toString());return void 0!==le.queryParams&&(Ne.queryParams={...le.queryParams}),void 0!==le.fragment&&(Ne.fragment=le.fragment),this.router.navigateByUrl(Ne,le)}}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.KVO(Wt),F.KVO(Q.aZ),F.KVO(_e.Sd),F.KVO(_e.Ix,8))}),(0,h.A)(q,"\u0275prov",F.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),q})();const xt=(fe,q,Me)=>{if(!1!==q){if(void 0!==Me)return Me;if("forward"===fe||"back"===fe)return fe;if("root"===fe&&!0===q)return"forward"}},kn="auto",Ht=void 0;let wn=(()=>{var fe;class q{get(ne,le){const Ne=Dt();return Ne?Ne.get(ne,le):null}getBoolean(ne,le){const Ne=Dt();return!!Ne&&Ne.getBoolean(ne,le)}getNumber(ne,le){const Ne=Dt();return Ne?Ne.getNumber(ne,le):0}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)}),(0,h.A)(q,"\u0275prov",F.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})),q})();const Jt=new F.nKC("USERCONFIG"),Dt=()=>{if(typeof window<"u"){const fe=window.Ionic;if(null!=fe&&fe.config)return fe.config}return null};class bn{constructor(q={}){(0,h.A)(this,"data",void 0),this.data=q,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(q){return this.data[q]}}let ot=(()=>{var fe;class q{constructor(){(0,h.A)(this,"zone",(0,F.WQX)(F.SKi)),(0,h.A)(this,"applicationRef",(0,F.WQX)(F.o8S)),(0,h.A)(this,"config",(0,F.WQX)(Jt))}create(ne,le,Ne){var St;return new Le(ne,le,this.applicationRef,this.zone,Ne,null!==(St=this.config.useSetInputAPI)&&void 0!==St&&St)}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)}),(0,h.A)(q,"\u0275prov",F.jDH({token:fe,factory:fe.\u0275fac})),q})();class Le{constructor(q,Me,ne,le,Ne,St){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=q,this.injector=Me,this.applicationRef=ne,this.zone=le,this.elementReferenceKey=Ne,this.enableSignalsSupport=St}attachViewToDom(q,Me,ne,le){return this.zone.run(()=>new Promise(Ne=>{const St={...ne};void 0!==this.elementReferenceKey&&(St[this.elementReferenceKey]=q),Ne(qe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,q,Me,St,le,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(q,Me){return this.zone.run(()=>new Promise(ne=>{const le=this.elRefMap.get(Me);if(le){le.destroy(),this.elRefMap.delete(Me);const Ne=this.elEventsMap.get(Me);Ne&&(Ne(),this.elEventsMap.delete(Me))}ne()}))}}const qe=(fe,q,Me,ne,le,Ne,St,on,gn,he,$e,Nt)=>{const wt=F.zZn.create({providers:sr(gn),parent:Me}),zt=(0,F.a0P)(on,{environmentInjector:q,elementInjector:wt}),En=zt.instance,$n=zt.location.nativeElement;if(gn)if($e&&void 0!==En[$e]&&console.error(`[Ionic Error]: ${$e} is a reserved property when using ${St.tagName.toLowerCase()}. Rename or remove the "${$e}" property from ${on.name}.`),!0===Nt&&void 0!==zt.setInput){const{modal:dr,popover:or,...xr}=gn;for(const ai in xr)zt.setInput(ai,xr[ai]);void 0!==dr&&Object.assign(En,{modal:dr}),void 0!==or&&Object.assign(En,{popover:or})}else Object.assign(En,gn);if(he)for(const dr of he)$n.classList.add(dr);const Ln=jn(fe,En,$n);return St.appendChild($n),ne.attachView(zt.hostView),le.set($n,zt),Ne.set($n,Ln),$n},un=[Ae.L,Ae.a,Ae.b,Ae.c,Ae.d],jn=(fe,q,Me)=>fe.run(()=>{const ne=un.filter(le=>"function"==typeof q[le]).map(le=>{const Ne=St=>q[le](St.detail);return Me.addEventListener(le,Ne),()=>Me.removeEventListener(le,Ne)});return()=>ne.forEach(le=>le())}),fr=new F.nKC("NavParamsToken"),sr=fe=>[{provide:fr,useValue:fe},{provide:bn,useFactory:Un,deps:[fr]}],Un=fe=>new bn(fe),en=(fe,q)=>{const Me=fe.prototype;q.forEach(ne=>{Object.defineProperty(Me,ne,{get(){return this.el[ne]},set(le){this.z.runOutsideAngular(()=>this.el[ne]=le)}})})},yr=(fe,q)=>{const Me=fe.prototype;q.forEach(ne=>{Me[ne]=function(){const le=arguments;return this.z.runOutsideAngular(()=>this.el[ne].apply(this.el,le))}})},pr=(fe,q,Me)=>{Me.forEach(ne=>fe[ne]=(0,tn.R)(q,ne))};function gr(fe){return function(Me){const{defineCustomElementFn:ne,inputs:le,methods:Ne}=fe;return void 0!==ne&&ne(),le&&en(Me,le),Ne&&yr(Me,Ne),Me}}const hr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],ti=["present","dismiss","onDidDismiss","onWillDismiss"];let _i=(()=>{var fe;let q=((0,h.A)(fe=class{constructor(ne,le,Ne){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=Ne,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),pr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ne){return new(ne||fe)(F.rXU(F.gRc),F.rXU(F.aKT),F.rXU(F.SKi))}),(0,h.A)(fe,"\u0275dir",F.FsC({type:fe,selectors:[["ion-popover"]],contentQueries:function(ne,le,Ne){if(1&ne&&F.wni(Ne,F.C4Q,5),2&ne){let St;F.mGM(St=F.lsd())&&(le.template=St.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),fe);return q=(0,Gt.Cg)([gr({inputs:hr,methods:ti})],q),q})();const Bn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Wr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Yn=(()=>{var fe;let q=((0,h.A)(fe=class{constructor(ne,le,Ne){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=Ne,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ne.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ne.detectChanges()}),pr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ne){return new(ne||fe)(F.rXU(F.gRc),F.rXU(F.aKT),F.rXU(F.SKi))}),(0,h.A)(fe,"\u0275dir",F.FsC({type:fe,selectors:[["ion-modal"]],contentQueries:function(ne,le,Ne){if(1&ne&&F.wni(Ne,F.C4Q,5),2&ne){let St;F.mGM(St=F.lsd())&&(le.template=St.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),fe);return q=(0,Gt.Cg)([gr({inputs:Bn,methods:Wr})],q),q})();const qn=(fe,q)=>((fe=fe.filter(Me=>Me.stackId!==q.stackId)).push(q),fe),ni=(fe,q)=>{const Me=fe.createUrlTree(["."],{relativeTo:q});return fe.serializeUrl(Me)},Er=(fe,q)=>!q||fe.stackId!==q.stackId,Pn=(fe,q)=>{if(!fe)return;const Me=si(q);for(let ne=0;ne<Me.length;ne++){if(ne>=fe.length)return Me[ne];if(Me[ne]!==fe[ne])return}},si=fe=>fe.split("/").map(q=>q.trim()).filter(q=>""!==q),$t=fe=>{fe&&(fe.ref.destroy(),fe.unlistenEvents())};class bt{constructor(q,Me,ne,le,Ne,St){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=Me,this.router=ne,this.navCtrl=le,this.zone=Ne,this.location=St,this.tabsPrefix=void 0!==q?si(q):void 0}createView(q,Me){var ne;const le=ni(this.router,Me),Ne=null==q||null===(ne=q.location)||void 0===ne?void 0:ne.nativeElement,St=jn(this.zone,q.instance,Ne);return{id:this.nextId++,stackId:Pn(this.tabsPrefix,le),unlistenEvents:St,element:Ne,ref:q,url:le}}getExistingView(q){const Me=ni(this.router,q),ne=this.views.find(le=>le.url===Me);return ne&&ne.ref.changeDetectorRef.reattach(),ne}setActive(q){var Me,ne;const le=this.navCtrl.consumeTransition();let{direction:Ne,animation:St,animationBuilder:on}=le;const gn=this.activeView,he=Er(q,gn);he&&(Ne="back",St=void 0);const $e=this.views.slice();let Nt;const wt=this.router;wt.getCurrentNavigation?Nt=wt.getCurrentNavigation():null!==(Me=wt.navigations)&&void 0!==Me&&Me.value&&(Nt=wt.navigations.value),null!==(ne=Nt)&&void 0!==ne&&null!==(ne=ne.extras)&&void 0!==ne&&ne.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const zt=this.views.includes(q),En=this.insertView(q,Ne);zt||q.ref.changeDetectorRef.detectChanges();const $n=q.animationBuilder;return void 0===on&&"back"===Ne&&!he&&void 0!==$n&&(on=$n),gn&&(gn.animationBuilder=on),this.zone.runOutsideAngular(()=>this.wait(()=>(gn&&gn.ref.changeDetectorRef.detach(),q.ref.changeDetectorRef.reattach(),this.transition(q,gn,St,this.canGoBack(1),!1,on).then(()=>qt(q,En,$e,this.location,this.zone)).then(()=>({enteringView:q,direction:Ne,animation:St,tabSwitch:he})))))}canGoBack(q,Me=this.getActiveStackId()){return this.getStack(Me).length>q}pop(q,Me=this.getActiveStackId()){return this.zone.run(()=>{const ne=this.getStack(Me);if(ne.length<=q)return Promise.resolve(!1);const le=ne[ne.length-q-1];let Ne=le.url;const St=le.savedData;if(St){var on;const he=St.get("primary");null!=he&&null!==(on=he.route)&&void 0!==on&&null!==(on=on._routerState)&&void 0!==on&&on.snapshot.url&&(Ne=he.route._routerState.snapshot.url)}const{animationBuilder:gn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ne,{...le.savedExtras,animation:gn}).then(()=>!0)})}startBackTransition(){const q=this.activeView;if(q){const Me=this.getStack(q.stackId),ne=Me[Me.length-2],le=ne.animationBuilder;return this.wait(()=>this.transition(ne,q,"back",this.canGoBack(2),!0,le))}return Promise.resolve()}endBackTransition(q){q?(this.skipTransition=!0,this.pop(1)):this.activeView&&ut(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(q){const Me=this.getStack(q);return Me.length>0?Me[Me.length-1]:void 0}getRootUrl(q){const Me=this.getStack(q);return Me.length>0?Me[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($t),this.activeView=void 0,this.views=[]}getStack(q){return this.views.filter(Me=>Me.stackId===q)}insertView(q,Me){return this.activeView=q,this.views=((fe,q,Me)=>"root"===Me?qn(fe,q):"forward"===Me?((fe,q)=>(fe.indexOf(q)>=0?fe=fe.filter(ne=>ne.stackId!==q.stackId||ne.id<=q.id):fe.push(q),fe))(fe,q):((fe,q)=>fe.indexOf(q)>=0?fe.filter(ne=>ne.stackId!==q.stackId||ne.id<=q.id):qn(fe,q))(fe,q))(this.views,q,Me),this.views.slice()}transition(q,Me,ne,le,Ne,St){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Me===q)return Promise.resolve(!1);const on=q?q.element:void 0,gn=Me?Me.element:void 0,he=this.containerEl;return on&&on!==gn&&(on.classList.add("ion-page"),on.classList.add("ion-page-invisible"),he.commit)?he.commit(on,gn,{duration:void 0===ne?0:void 0,direction:ne,showGoBack:le,progressAnimation:Ne,animationBuilder:St}):Promise.resolve(!1)}wait(q){var Me=this;return(0,c.A)(function*(){void 0!==Me.runningTask&&(yield Me.runningTask,Me.runningTask=void 0);const ne=Me.runningTask=q();return ne.finally(()=>Me.runningTask=void 0),ne})()}}const qt=(fe,q,Me,ne,le)=>"function"==typeof requestAnimationFrame?new Promise(Ne=>{requestAnimationFrame(()=>{ut(fe,q,Me,ne,le),Ne()})}):Promise.resolve(),ut=(fe,q,Me,ne,le)=>{le.run(()=>Me.filter(Ne=>!q.includes(Ne)).forEach($t)),q.forEach(Ne=>{const on=ne.path().split("?")[0].split("#")[0];if(Ne!==fe&&Ne.url!==on){const gn=Ne.element;gn.setAttribute("aria-hidden","true"),gn.classList.add("ion-page-hidden"),Ne.ref.changeDetectorRef.detach()}})};let Kt=(()=>{var fe;class q{get activatedComponentRef(){return this.activated}set animation(ne){this.nativeEl.animation=ne}set animated(ne){this.nativeEl.animated=ne}set swipeGesture(ne){this._swipeGesture=ne,this.nativeEl.swipeHandler=ne?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:le=>this.stackCtrl.endBackTransition(le)}:void 0}constructor(ne,le,Ne,St,on,gn,he,$e){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new An.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",_e.Xk),(0,h.A)(this,"stackWillChange",new F.bkB),(0,h.A)(this,"stackDidChange",new F.bkB),(0,h.A)(this,"activateEvents",new F.bkB),(0,h.A)(this,"deactivateEvents",new F.bkB),(0,h.A)(this,"parentContexts",(0,F.WQX)(_e.Zp)),(0,h.A)(this,"location",(0,F.WQX)(F.c1b)),(0,h.A)(this,"environmentInjector",(0,F.WQX)(F.uvJ)),(0,h.A)(this,"inputBinder",(0,F.WQX)(X,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,F.WQX)(wn)),(0,h.A)(this,"navCtrl",(0,F.WQX)(Fn)),this.parentOutlet=$e,this.nativeEl=St.nativeElement,this.name=ne||_e.Xk,this.tabsPrefix="true"===le?ni(on,he):void 0,this.stackCtrl=new bt(this.tabsPrefix,this.nativeEl,on,this.navCtrl,gn,Ne),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ne;this.stackCtrl.destroy(),null===(ne=this.inputBinder)||void 0===ne||ne.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ne=this.getContext();null!=ne&&ne.route&&this.activateWith(ne.route,ne.injector)}new Promise(ne=>((fe,q)=>{fe.componentOnReady?fe.componentOnReady().then(Me=>q(Me)):(fe=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe)})(()=>q(fe))})(this.nativeEl,ne)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ne,le){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const le=this.getContext();this.activatedView.savedData=new Map(le.children.contexts);const Ne=this.activatedView.savedData.get("primary");if(Ne&&le.route&&(Ne.route={...le.route}),this.activatedView.savedExtras={},le.route){const St=le.route.snapshot;this.activatedView.savedExtras.queryParams=St.queryParams,this.activatedView.savedExtras.fragment=St.fragment}}const ne=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ne)}}activateWith(ne,le){var Ne;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ne;let St,on=this.stackCtrl.getExistingView(ne);if(on){St=this.activated=on.ref;const $e=on.savedData;$e&&(this.getContext().children.contexts=$e),this.updateActivatedRouteProxy(St.instance,ne)}else{var gn;const $e=ne._futureSnapshot,Nt=this.parentContexts.getOrCreateContext(this.name).children,wt=new An.t(null),zt=this.createActivatedRouteProxy(wt,ne),En=new Z(zt,Nt,this.location.injector),$n=null!==(gn=$e.routeConfig.component)&&void 0!==gn?gn:$e.component;St=this.activated=this.outletContent.createComponent($n,{index:this.outletContent.length,injector:En,environmentInjector:null!=le?le:this.environmentInjector}),wt.next(St.instance),on=this.stackCtrl.createView(this.activated,ne),this.proxyMap.set(St.instance,zt),this.currentActivatedRoute$.next({component:St.instance,activatedRoute:ne})}null===(Ne=this.inputBinder)||void 0===Ne||Ne.bindActivatedRouteToOutletComponent(this),this.activatedView=on,this.navCtrl.setTopOutlet(this);const he=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:on,tabSwitch:Er(on,he)}),this.stackCtrl.setActive(on).then($e=>{this.activateEvents.emit(St.instance),this.stackDidChange.emit($e)})}canGoBack(ne=1,le){return this.stackCtrl.canGoBack(ne,le)}pop(ne=1,le){return this.stackCtrl.pop(ne,le)}getLastUrl(ne){const le=this.stackCtrl.getLastUrl(ne);return le?le.url:void 0}getLastRouteView(ne){return this.stackCtrl.getLastUrl(ne)}getRootView(ne){return this.stackCtrl.getRootUrl(ne)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ne,le){const Ne=new _e.nX;return Ne._futureSnapshot=le._futureSnapshot,Ne._routerState=le._routerState,Ne.snapshot=le.snapshot,Ne.outlet=le.outlet,Ne.component=le.component,Ne._paramMap=this.proxyObservable(ne,"paramMap"),Ne._queryParamMap=this.proxyObservable(ne,"queryParamMap"),Ne.url=this.proxyObservable(ne,"url"),Ne.params=this.proxyObservable(ne,"params"),Ne.queryParams=this.proxyObservable(ne,"queryParams"),Ne.fragment=this.proxyObservable(ne,"fragment"),Ne.data=this.proxyObservable(ne,"data"),Ne}proxyObservable(ne,le){return ne.pipe((0,Ve.p)(Ne=>!!Ne),(0,ae.n)(Ne=>this.currentActivatedRoute$.pipe((0,Ve.p)(St=>null!==St&&St.component===Ne),(0,ae.n)(St=>St&&St.activatedRoute[le]),(0,ue.F)())))}updateActivatedRouteProxy(ne,le){const Ne=this.proxyMap.get(ne);if(!Ne)throw new Error("Could not find activated route proxy for view");Ne._futureSnapshot=le._futureSnapshot,Ne._routerState=le._routerState,Ne.snapshot=le.snapshot,Ne.outlet=le.outlet,Ne.component=le.component,this.currentActivatedRoute$.next({component:ne,activatedRoute:le})}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.kS0("name"),F.kS0("tabs"),F.rXU(Q.aZ),F.rXU(F.aKT),F.rXU(_e.Ix),F.rXU(F.SKi),F.rXU(_e.nX),F.rXU(fe,12))}),(0,h.A)(q,"\u0275dir",F.FsC({type:fe,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),q})();class Z{constructor(q,Me,ne){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=q,this.childContexts=Me,this.parent=ne}get(q,Me){return q===_e.nX?this.route:q===_e.Zp?this.childContexts:this.parent.get(q,Me)}}const X=new F.nKC("");let se=(()=>{var fe;class q{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ne){this.unsubscribeFromRouteData(ne),this.subscribeToRouteData(ne)}unsubscribeFromRouteData(ne){var le;null===(le=this.outletDataSubscriptions.get(ne))||void 0===le||le.unsubscribe(),this.outletDataSubscriptions.delete(ne)}subscribeToRouteData(ne){const{activatedRoute:le}=ne,Ne=(0,hn.z)([le.queryParams,le.params,le.data]).pipe((0,ae.n)(([St,on,gn],he)=>(gn={...St,...on,...gn},0===he?(0,Gn.of)(gn):Promise.resolve(gn)))).subscribe(St=>{if(!ne.isActivated||!ne.activatedComponentRef||ne.activatedRoute!==le||null===le.component)return void this.unsubscribeFromRouteData(ne);const on=(0,F.HJs)(le.component);if(on)for(const{templateName:gn}of on.inputs)ne.activatedComponentRef.setInput(gn,St[gn]);else this.unsubscribeFromRouteData(ne)});this.outletDataSubscriptions.set(ne,Ne)}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)}),(0,h.A)(q,"\u0275prov",F.jDH({token:fe,factory:fe.\u0275fac})),q})();const Xe=()=>({provide:X,useFactory:et,deps:[_e.Ix]});function et(fe){return null!=fe&&fe.componentInputBindingEnabled?new se:null}const rn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Sn=(()=>{var fe;let q=((0,h.A)(fe=class{constructor(ne,le,Ne,St,on,gn){(0,h.A)(this,"routerOutlet",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"config",void 0),(0,h.A)(this,"r",void 0),(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.routerOutlet=ne,this.navCtrl=le,this.config=Ne,this.r=St,this.z=on,gn.detach(),this.el=this.r.nativeElement}onClick(ne){var le;const Ne=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(le=this.routerOutlet)&&void 0!==le&&le.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ne.preventDefault()):null!=Ne&&(this.navCtrl.navigateBack(Ne,{animation:this.routerAnimation}),ne.preventDefault())}},"\u0275fac",function(ne){return new(ne||fe)(F.rXU(Kt,8),F.rXU(Fn),F.rXU(wn),F.rXU(F.aKT),F.rXU(F.SKi),F.rXU(F.gRc))}),(0,h.A)(fe,"\u0275dir",F.FsC({type:fe,hostBindings:function(ne,le){1&ne&&F.bIt("click",function(St){return le.onClick(St)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),fe);return q=(0,Gt.Cg)([gr({inputs:rn})],q),q})(),Zn=(()=>{var fe;class q{constructor(ne,le,Ne,St,on){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ne,this.navCtrl=le,this.elementRef=Ne,this.router=St,this.routerLink=on}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const le=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(le.tagName)&&"0"===le.getAttribute("tabindex")&&le.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ne;if(null!==(ne=this.routerLink)&&void 0!==ne&&ne.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(ne){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ne.preventDefault()}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.rXU(Q.hb),F.rXU(Fn),F.rXU(F.aKT),F.rXU(_e.Ix),F.rXU(_e.Wk,8))}),(0,h.A)(q,"\u0275dir",F.FsC({type:fe,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ne,le){1&ne&&F.bIt("click",function(St){return le.onClick(St)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.OA$]})),q})(),Ar=(()=>{var fe;class q{constructor(ne,le,Ne,St,on){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=ne,this.navCtrl=le,this.elementRef=Ne,this.router=St,this.routerLink=on}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ne;if(null!==(ne=this.routerLink)&&void 0!==ne&&ne.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.rXU(Q.hb),F.rXU(Fn),F.rXU(F.aKT),F.rXU(_e.Ix),F.rXU(_e.Wk,8))}),(0,h.A)(q,"\u0275dir",F.FsC({type:fe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ne,le){1&ne&&F.bIt("click",function(){return le.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.OA$]})),q})();const vt=["animated","animation","root","rootParams","swipeGesture"],Ir=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Mn=(()=>{var fe;let q=((0,h.A)(fe=class{constructor(ne,le,Ne,St,on,gn){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=on,gn.detach(),this.el=ne.nativeElement,ne.nativeElement.delegate=St.create(le,Ne),pr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ne){return new(ne||fe)(F.rXU(F.aKT),F.rXU(F.uvJ),F.rXU(F.zZn),F.rXU(ot),F.rXU(F.SKi),F.rXU(F.gRc))}),(0,h.A)(fe,"\u0275dir",F.FsC({type:fe,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),fe);return q=(0,Gt.Cg)([gr({inputs:vt,methods:Ir})],q),q})(),Pr=(()=>{var fe;class q{constructor(ne){(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"tabsInner",void 0),(0,h.A)(this,"ionTabsWillChange",new F.bkB),(0,h.A)(this,"ionTabsDidChange",new F.bkB),(0,h.A)(this,"tabBarSlot","bottom"),(0,h.A)(this,"hasTab",!1),(0,h.A)(this,"selectedTab",void 0),(0,h.A)(this,"leavingTab",void 0),this.navCtrl=ne}ngAfterViewInit(){const ne=this.tabs.length>0?this.tabs.first:void 0;ne&&(this.hasTab=!0,this.setActiveTab(ne.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ne,tabSwitch:le}){const Ne=ne.stackId;le&&void 0!==Ne&&this.ionTabsWillChange.emit({tab:Ne})}onStackDidChange({enteringView:ne,tabSwitch:le}){const Ne=ne.stackId;le&&void 0!==Ne&&(this.tabBar&&(this.tabBar.selectedTab=Ne),this.ionTabsDidChange.emit({tab:Ne}))}select(ne){const le="string"==typeof ne,Ne=le?ne:ne.detail.tab;if(this.hasTab)return this.setActiveTab(Ne),void this.tabSwitch();const St=this.outlet.getActiveStackId()===Ne,on=`${this.outlet.tabsPrefix}/${Ne}`;if(le||ne.stopPropagation(),St){const gn=this.outlet.getActiveStackId(),he=this.outlet.getLastRouteView(gn);if((null==he?void 0:he.url)===on)return;const $e=this.outlet.getRootView(Ne);return this.navCtrl.navigateRoot(on,{...$e&&on===$e.url&&$e.savedExtras,animated:!0,animationDirection:"back"})}{const gn=this.outlet.getLastRouteView(Ne);return this.navCtrl.navigateRoot((null==gn?void 0:gn.url)||on,{...null==gn?void 0:gn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(ne){const Ne=this.tabs.find(St=>St.tab===ne);Ne?(this.leavingTab=this.selectedTab,this.selectedTab=Ne,this.ionTabsWillChange.emit({tab:ne}),Ne.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${ne}" does not exist`)}tabSwitch(){const{selectedTab:ne,leavingTab:le}=this;this.tabBar&&ne&&(this.tabBar.selectedTab=ne.tab),(null==le?void 0:le.tab)!==(null==ne?void 0:ne.tab)&&null!=le&&le.el&&(le.el.active=!1),ne&&this.ionTabsDidChange.emit({tab:ne.tab})}getSelected(){var ne;return this.hasTab?null===(ne=this.selectedTab)||void 0===ne?void 0:ne.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ne=>{const le=ne.el.getAttribute("slot");le!==this.tabBarSlot&&(this.tabBarSlot=le,this.relocateTabBar())})}relocateTabBar(){const ne=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ne):this.tabsInner.nativeElement.after(ne)}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.rXU(Fn))}),(0,h.A)(q,"\u0275dir",F.FsC({type:fe,selectors:[["ion-tabs"]],viewQuery:function(ne,le){if(1&ne&&F.GBs(je,7,F.aKT),2&ne){let Ne;F.mGM(Ne=F.lsd())&&(le.tabsInner=Ne.first)}},hostBindings:function(ne,le){1&ne&&F.bIt("ionTabButtonClick",function(St){return le.select(St)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),q})();const Ti=fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(fe):setTimeout(fe);let Fi=(()=>{var fe;class q{constructor(ne,le){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=ne,this.elementRef=le}writeValue(ne){this.elementRef.nativeElement.value=this.lastValue=ne,Xr(this.elementRef)}handleValueChange(ne,le){ne===this.elementRef.nativeElement&&(le!==this.lastValue&&(this.lastValue=le,this.onChange(le)),Xr(this.elementRef))}_handleBlurEvent(ne){ne===this.elementRef.nativeElement&&(this.onTouched(),Xr(this.elementRef))}registerOnChange(ne){this.onChange=ne}registerOnTouched(ne){this.onTouched=ne}setDisabledState(ne){this.elementRef.nativeElement.disabled=ne}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ne;try{ne=this.injector.get(ge.vO)}catch{}if(!ne)return;ne.statusChanges&&(this.statusChanges=ne.statusChanges.subscribe(()=>Xr(this.elementRef)));const le=ne.control;le&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(St=>{if(typeof le[St]<"u"){const on=le[St].bind(le);le[St]=(...gn)=>{on(...gn),Xr(this.elementRef)}}})}}return fe=q,(0,h.A)(q,"\u0275fac",function(ne){return new(ne||fe)(F.rXU(F.zZn),F.rXU(F.aKT))}),(0,h.A)(q,"\u0275dir",F.FsC({type:fe,hostBindings:function(ne,le){1&ne&&F.bIt("ionBlur",function(St){return le._handleBlurEvent(St.target)})}})),q})();const Xr=fe=>{Ti(()=>{const q=fe.nativeElement,Me=null!=q.value&&q.value.toString().length>0,ne=ji(q);Ei(q,ne);const le=q.closest("ion-item");le&&Ei(le,Me?[...ne,"item-has-value"]:ne)})},ji=fe=>{const q=fe.classList,Me=[];for(let ne=0;ne<q.length;ne++){const le=q.item(ne);null!==le&&Vi(le,"ng-")&&Me.push(`ion-${le.substring(3)}`)}return Me},Ei=(fe,q)=>{const Me=fe.classList;Me.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Me.add(...q)},Vi=(fe,q)=>fe.substring(0,q.length)===q;class Yi{shouldDetach(q){return!1}shouldAttach(q){return!1}store(q,Me){}retrieve(q){return null}shouldReuseRoute(q,Me){if(q.routeConfig!==Me.routeConfig)return!1;const ne=q.params,le=Me.params,Ne=Object.keys(ne),St=Object.keys(le);if(Ne.length!==St.length)return!1;for(const on of Ne)if(le[on]!==ne[on])return!1;return!0}}class Wi{constructor(q){(0,h.A)(this,"ctrl",void 0),this.ctrl=q}create(q){return this.ctrl.create(q||{})}dismiss(q,Me,ne){return this.ctrl.dismiss(q,Me,ne)}getTop(){return this.ctrl.getTop()}}},4742:(Cn,it,O)=>{"use strict";O.d(it,{hG:()=>po,U1:()=>Ht,mC:()=>wn,Jm:()=>Le,QW:()=>qe,b_:()=>un,I9:()=>jn,ME:()=>fr,HW:()=>sr,tN:()=>Un,hU:()=>pr,W9:()=>gr,lO:()=>nr,eU:()=>qn,iq:()=>yi,KW:()=>Xn,$w:()=>Pn,uz:()=>$t,LU:()=>ut,CE:()=>Kt,A7:()=>Z,he:()=>X,nf:()=>se,oS:()=>rn,MC:()=>Sn,cA:()=>Zn,KO:()=>Xr,f0:()=>ji,Rg:()=>Ci,ln:()=>Me,Gp:()=>le,eP:()=>Ne,Nm:()=>St,Ip:()=>on,w2:()=>he,Jq:()=>wt,qW:()=>zt,p4:()=>Di,BC:()=>dr,ai:()=>ai,bv:()=>ci,Xi:()=>mo,_t:()=>ts,W3:()=>jo,Je:()=>ge,Gw:()=>je});var c=O(9842),h=O(3953),F=O(4341),_e=O(2872),Q=O(1635),ee=O(3726),Ae=O(177),xe=O(9384),Ke=(O(9986),O(3604),O(5022),O(3615),O(8607),O(9483)),at=O(464),mt=O(9568),rt=O(9440),Mt=(O(8476),O(4261));O(1970),O(7192);var Je=O(467);const tt=Ke.i,Ot=function(){var M=(0,Je.A)(function*(te,pe){if(!(typeof window>"u"))return yield tt(),(0,Mt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),pe)});return function(pe,N){return M.apply(this,arguments)}}(),Pe=["*"],pt=["outletContent"],kt=["outlet"],tn=[[["","slot","top"]],"*",[["ion-tab"]]],An=["[slot=top]","*","ion-tab"];function hn(M,te){if(1&M){const pe=h.RV6();h.j41(0,"ion-router-outlet",5,1),h.bIt("stackWillChange",function(T){h.eBV(pe);const V=h.XpG();return h.Njj(V.onStackWillChange(T))})("stackDidChange",function(T){h.eBV(pe);const V=h.XpG();return h.Njj(V.onStackDidChange(T))}),h.k0s()}}function Gn(M,te){1&M&&h.SdG(0,2,["*ngIf","tabs.length > 0"])}let ge=(()=>{var M;class te extends _e.fL{constructor(N,T){super(N,T)}_handleChangeEvent(N){this.handleValueChange(N,N.value)}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(te,"\u0275dir",h.FsC({type:M,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(N,T){1&N&&h.bIt("ionChange",function(Ue){return T._handleChangeEvent(Ue.target)})},features:[h.Jv_([{provide:F.kq,useExisting:M,multi:!0}]),h.Vt3]})),te})(),je=(()=>{var M;class te extends _e.fL{constructor(N,T){super(N,T)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(te,"\u0275dir",h.FsC({type:M,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,T){1&N&&h.bIt("ionInput",function(Ue){return T._handleInputEvent(Ue.target)})},features:[h.Jv_([{provide:F.kq,useExisting:M,multi:!0}]),h.Vt3]})),te})();const gt=(M,te)=>{const pe=M.prototype;te.forEach(N=>{Object.defineProperty(pe,N,{get(){return this.el[N]},set(T){this.z.runOutsideAngular(()=>this.el[N]=T)},configurable:!0})})},yt=(M,te)=>{const pe=M.prototype;te.forEach(N=>{pe[N]=function(){const T=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,T))}})},ft=(M,te,pe)=>{pe.forEach(N=>M[N]=(0,ee.R)(te,N))};function Lt(M){return function(pe){const{defineCustomElementFn:N,inputs:T,methods:V}=M;return void 0!==N&&N(),T&&gt(pe,T),V&&yt(pe,V),pe}}let Ht=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-app"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({})],te),te})(),wn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-avatar"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({})],te),te})(),Le=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],te),te})(),qe=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["collapse"]})],te),te})(),un=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],te),te})(),jn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["mode"]})],te),te})(),fr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode","translucent"]})],te),te})(),sr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode"]})],te),te})(),Un=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode"]})],te),te})(),pr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],te),te})(),gr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],te),te})(),nr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["fixed"]})],te),te})(),qn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["collapse","mode","translucent"]})],te),te})(),yi=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],te),te})(),Xn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["alt","src"]})],te),te})(),Pn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],te),te})(),$t=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],te),te})(),ut=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],te),te})(),Kt=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionSwipe"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["side"]})],te),te})(),Z=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionDrag"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],te),te})(),X=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode","position"]})],te),te})(),se=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],te),te})(),rn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],te),te})(),Sn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["autoHide","color","disabled","menu","mode","type"]})],te),te})(),Zn=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["autoHide","menu"]})],te),te})(),Xr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],te),te})(),ji=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionChange"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["allowEmptySelection","compareWith","name","value"]})],te),te})(),Me=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-row"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({})],te),te})(),le=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionChange"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],te),te})(),Ne=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["disabled","layout","mode","type","value"]})],te),te})(),St=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement,ft(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],te),te})(),on=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["disabled","value"]})],te),te})(),he=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","duration","name","paused"]})],te),te})(),Nt=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["component","tab"],methods:["setActive"]})],te),te})(),wt=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode","selectedTab","translucent"]})],te),te})(),zt=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],te),te})(),dr=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","size"]})],te),te})(),ai=(()=>{var M;let te=((0,c.A)(M=class{constructor(N,T,V){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=V,N.detach(),this.el=T.nativeElement}},"\u0275fac",function(N){return new(N||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(N,T){1&N&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return te=(0,Q.Cg)([Lt({inputs:["color","mode"]})],te),te})(),Ci=(()=>{var M;class te extends _e.Rg{constructor(N,T,V,Ue,Ze,_t,Tt,cn){super(N,T,V,Ue,Ze,_t,Tt,cn),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=cn}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)(h.kS0("name"),h.kS0("tabs"),h.rXU(Ae.aZ),h.rXU(h.aKT),h.rXU(xe.Ix),h.rXU(h.SKi),h.rXU(xe.nX),h.rXU(M,12))}),(0,c.A)(te,"\u0275cmp",h.VBU({type:M,selectors:[["ion-router-outlet"]],viewQuery:function(N,T){if(1&N&&h.GBs(pt,7,h.c1b),2&N){let V;h.mGM(V=h.lsd())&&(T.outletContent=V.first)}},features:[h.Vt3],ngContentSelectors:Pe,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,T){1&N&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})),te})(),Di=(()=>{var M;class te extends _e.p4{constructor(...N){super(...N),(0,c.A)(this,"outlet",void 0),(0,c.A)(this,"tabBar",void 0),(0,c.A)(this,"tabBars",void 0),(0,c.A)(this,"tabs",void 0)}}return M=te,(0,c.A)(te,"\u0275fac",(()=>{let pe;return function(T){return(pe||(pe=h.xGo(M)))(T||M)}})()),(0,c.A)(te,"\u0275cmp",h.VBU({type:M,selectors:[["ion-tabs"]],contentQueries:function(N,T,V){if(1&N&&(h.wni(V,wt,5),h.wni(V,wt,4),h.wni(V,Nt,4)),2&N){let Ue;h.mGM(Ue=h.lsd())&&(T.tabBar=Ue.first),h.mGM(Ue=h.lsd())&&(T.tabBars=Ue),h.mGM(Ue=h.lsd())&&(T.tabs=Ue)}},viewQuery:function(N,T){if(1&N&&h.GBs(kt,5,Ci),2&N){let V;h.mGM(V=h.lsd())&&(T.outlet=V.first)}},features:[h.Vt3],ngContentSelectors:An,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(N,T){1&N&&(h.NAR(tn),h.SdG(0),h.j41(1,"div",2,0),h.DNE(3,hn,2,0,"ion-router-outlet",3)(4,Gn,1,0,"ng-content",4),h.k0s(),h.SdG(5,1)),2&N&&(h.R7$(3),h.Y8G("ngIf",0===T.tabs.length),h.R7$(),h.Y8G("ngIf",T.tabs.length>0))},dependencies:[Ae.bT,Ci],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),te})();const Oi={provide:F.cz,useExisting:(0,h.Rfq)(()=>qi),multi:!0};let qi=(()=>{var M;class te extends F.zX{}return M=te,(0,c.A)(te,"\u0275fac",(()=>{let pe;return function(T){return(pe||(pe=h.xGo(M)))(T||M)}})()),(0,c.A)(te,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,T){2&N&&h.BMQ("max",T._enabled?T.max:null)},features:[h.Jv_([Oi]),h.Vt3]})),te})();const Zi={provide:F.cz,useExisting:(0,h.Rfq)(()=>fo),multi:!0};let fo=(()=>{var M;class te extends F.VZ{}return M=te,(0,c.A)(te,"\u0275fac",(()=>{let pe;return function(T){return(pe||(pe=h.xGo(M)))(T||M)}})()),(0,c.A)(te,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,T){2&N&&h.BMQ("min",T._enabled?T.min:null)},features:[h.Jv_([Zi]),h.Vt3]})),te})(),po=(()=>{var M;class te extends _e.Kb{constructor(){super(rt.a)}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(te,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),te})(),mo=(()=>{var M;class te extends _e.Kb{constructor(){super(rt.l)}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(te,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),te})(),ts=(()=>{var M;class te extends _e._t{constructor(){super(mt.m)}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(te,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),te})(),jo=(()=>{var M;class te extends _e.Kb{constructor(){super(rt.m),(0,c.A)(this,"angularDelegate",(0,h.WQX)(_e.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(te,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac})),te})();class Wo extends _e.Kb{constructor(){super(rt.c),(0,c.A)(this,"angularDelegate",(0,h.WQX)(_e.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(te){return super.create({...te,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ri=(M,te,pe)=>()=>{const N=te.defaultView;if(N&&typeof window<"u"){(0,at.s)({...M,_zoneGate:V=>pe.run(V)});const T="__zone_symbol__addEventListener"in te.body?"__zone_symbol__addEventListener":"addEventListener";return function ke(){var M=[];if(typeof window<"u"){var te=window;(!te.customElements||te.Element&&(!te.Element.prototype.closest||!te.Element.prototype.matches||!te.Element.prototype.remove||!te.Element.prototype.getRootNode))&&M.push(O.e(7278).then(O.t.bind(O,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||te.NodeList&&!te.NodeList.prototype.forEach||!te.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&M.push(O.e(9329).then(O.t.bind(O,7783,23)))}return Promise.all(M)}().then(()=>Ot(N,{exclude:["ion-tabs"],syncQueue:!0,raf:_e.er,jmp:V=>pe.runOutsideAngular(V),ael(V,Ue,Ze,_t){V[T](Ue,Ze,_t)},rel(V,Ue,Ze,_t){V.removeEventListener(Ue,Ze,_t)}}))}};let ci=(()=>{var M;class te{static forRoot(N={}){return{ngModule:te,providers:[{provide:_e.sR,useValue:N},{provide:h.hnV,useFactory:ri,multi:!0,deps:[_e.sR,Ae.qQ,h.SKi]},_e.Yq,(0,_e.YV)()]}}}return M=te,(0,c.A)(te,"\u0275fac",function(N){return new(N||M)}),(0,c.A)(te,"\u0275mod",h.$C({type:M})),(0,c.A)(te,"\u0275inj",h.G2t({providers:[jo,Wo],imports:[Ae.MD]})),te})()},7935:(Cn,it,O)=>{"use strict";O.d(it,{A:()=>c.A});var c=O(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(Cn,it,O)=>{"use strict";var c=O(467),h=O(3345),F=O(5504),_e=O(1076),Ae=(O(7852),O(8041),O(1362));function xe(){return window}function ye(){return ye=(0,c.A)(function*(Z,X,se){var Xe;const{BuildInfo:et}=xe();(0,F.au)(X.sessionId,"AuthEvent did not contain a session ID");const rn=yield function st(Z){return Mt.apply(this,arguments)}(X.sessionId),Sn={};return(0,F.av)()?Sn.ibi=et.packageName:(0,F.aw)()?Sn.apn=et.packageName:(0,F.ax)(Z,"operation-not-supported-in-this-environment"),et.displayName&&(Sn.appDisplayName=et.displayName),Sn.sessionId=rn,(0,F.ay)(Z,se,X.type,void 0,null!==(Xe=X.eventId)&&void 0!==Xe?Xe:void 0,Sn)}),ye.apply(this,arguments)}function Qe(){return(Qe=(0,c.A)(function*(Z){const{BuildInfo:X}=xe(),se={};(0,F.av)()?se.iosBundleId=X.packageName:(0,F.aw)()?se.androidPackageName=X.packageName:(0,F.ax)(Z,"operation-not-supported-in-this-environment"),yield(0,F.az)(Z,se)})).apply(this,arguments)}function mt(){return(mt=(0,c.A)(function*(Z,X,se){const{cordova:Xe}=xe();let et=()=>{};try{yield new Promise((rn,Sn)=>{let Zn=null;function Ar(){var Mn;rn();const Pr=null===(Mn=Xe.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==se?void 0:se.close)&&se.close()}function vt(){Zn||(Zn=window.setTimeout(()=>{Sn((0,F.aB)(Z,"redirect-cancelled-by-user"))},2e3))}function Ir(){"visible"===(null==document?void 0:document.visibilityState)&&vt()}X.addPassiveListener(Ar),document.addEventListener("resume",vt,!1),(0,F.aw)()&&document.addEventListener("visibilitychange",Ir,!1),et=()=>{X.removePassiveListener(Ar),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",Ir,!1),Zn&&window.clearTimeout(Zn)}})}finally{et()}})).apply(this,arguments)}function Mt(){return(Mt=(0,c.A)(function*(Z){const X=function It(Z){if((0,F.au)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Z);const X=new ArrayBuffer(Z.length),se=new Uint8Array(X);for(let Xe=0;Xe<Z.length;Xe++)se[Xe]=Z.charCodeAt(Xe);return se}(Z),se=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(se)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class we extends F.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInitialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInitialized(),this.passiveListeners.forEach(se=>se(X)),super.onEvent(X)}initialized(){var X=this;return(0,c.A)(function*(){yield X.initPromise})()}}function tt(Z){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.A)(function*(Z){const X=yield kt()._get(tn(Z));return X&&(yield kt()._remove(tn(Z))),X})).apply(this,arguments)}function pt(){const Z=[];for(let se=0;se<20;se++){const Xe=Math.floor(62*Math.random());Z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Xe))}return Z.join("")}function kt(){return(0,F.aE)(F.b)}function tn(Z){return(0,F.aF)("authEvent",Z.config.apiKey,Z.name)}function Gn(Z){if(null==Z||!Z.includes("?"))return{};const[X,...se]=Z.split("?");return(0,_e.I9)(se.join("?"))}const ae=class Ve{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(X){var se=this;return(0,c.A)(function*(){const Xe=X._key();let et=se.eventManagers.get(Xe);return et||(et=new we(X),se.eventManagers.set(Xe,et),se.attachCallbackListeners(X,et)),et})()}_openPopup(X){(0,F.ax)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,se,Xe,et){var rn=this;return(0,c.A)(function*(){!function rt(Z){var X,se,Xe,et,rn,Sn,Zn,Ar,vt,Ir;const Mn=xe();(0,F.aC)("function"==typeof(null===(X=null==Mn?void 0:Mn.universalLinks)||void 0===X?void 0:X.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aC)(typeof(null===(se=null==Mn?void 0:Mn.BuildInfo)||void 0===se?void 0:se.packageName)<"u",Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aC)("function"==typeof(null===(rn=null===(et=null===(Xe=null==Mn?void 0:Mn.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===et?void 0:et.browsertab)||void 0===rn?void 0:rn.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(Ar=null===(Zn=null===(Sn=null==Mn?void 0:Mn.cordova)||void 0===Sn?void 0:Sn.plugins)||void 0===Zn?void 0:Zn.browsertab)||void 0===Ar?void 0:Ar.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(Ir=null===(vt=null==Mn?void 0:Mn.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===Ir?void 0:Ir.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Sn=yield rn._initialize(X);yield Sn.initialized(),Sn.resetRedirect(),(0,F.aI)(),yield rn._originValidation(X);const Zn=function ke(Z,X,se=null){return{type:X,eventId:se,urlResponse:null,sessionId:pt(),postBody:null,tenantId:Z.tenantId,error:(0,F.aB)(Z,"no-auth-event")}}(X,Xe,et);yield function Je(Z,X){return kt()._set(tn(Z),X)}(X,Zn);const Ar=yield function Oe(Z,X,se){return ye.apply(this,arguments)}(X,Zn,se),vt=yield function Ke(Z){const{cordova:X}=xe();return new Promise(se=>{X.plugins.browsertab.isAvailable(Xe=>{let et=null;Xe?X.plugins.browsertab.openUrl(Z):et=X.InAppBrowser.open(Z,(0,F.aA)()?"_blank":"_system","location=yes"),se(et)})})}(Ar);return function at(Z,X,se){return mt.apply(this,arguments)}(X,Sn,vt)})()}_isIframeWebStorageSupported(X,se){throw new Error("Method not implemented.")}_originValidation(X){const se=X._key();return this.originValidationPromises[se]||(this.originValidationPromises[se]=function ze(Z){return Qe.apply(this,arguments)}(X)),this.originValidationPromises[se]}attachCallbackListeners(X,se){const{universalLinks:Xe,handleOpenURL:et,BuildInfo:rn}=xe(),Sn=setTimeout((0,c.A)(function*(){yield tt(X),se.onEvent(ue())}),500),Zn=function(){var Ir=(0,c.A)(function*(Mn){clearTimeout(Sn);const Pr=yield tt(X);let Ti=null;Pr&&null!=Mn&&Mn.url&&(Ti=function Pe(Z,X){var se,Xe;const et=function hn(Z){const X=Gn(Z),se=X.link?decodeURIComponent(X.link):void 0,Xe=Gn(se).link,et=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Gn(et).link||et||Xe||se||Z}(X);if(et.includes("/__/auth/callback")){const rn=Gn(et),Sn=rn.firebaseError?function An(Z){try{return JSON.parse(Z)}catch{return null}}(decodeURIComponent(rn.firebaseError)):null,Zn=null===(Xe=null===(se=null==Sn?void 0:Sn.code)||void 0===se?void 0:se.split("auth/"))||void 0===Xe?void 0:Xe[1],Ar=Zn?(0,F.aB)(Zn):null;return Ar?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:Ar,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:et,postBody:null}}return null}(Pr,Mn.url)),se.onEvent(Ti||ue())});return function(Pr){return Ir.apply(this,arguments)}}();typeof Xe<"u"&&"function"==typeof Xe.subscribe&&Xe.subscribe(null,Zn);const Ar=et,vt=`${rn.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var Ir=(0,c.A)(function*(Mn){if(Mn.toLowerCase().startsWith(vt)&&Zn({url:Mn}),"function"==typeof Ar)try{Ar(Mn)}catch(Pr){console.error(Pr)}});return function(Mn){return Ir.apply(this,arguments)}}()}};function ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aB)("no-auth-event")}}function ft(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function Lt(Z=(0,_e.ZQ)()){return!("file:"!==ft()&&"ionic:"!==ft()&&"capacitor:"!==ft()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ht(){try{const Z=self.localStorage,X=F.aN();if(Z)return Z.setItem(X,"1"),Z.removeItem(X),!function kn(Z=(0,_e.ZQ)()){return function Fn(){return(0,_e.lT)()&&11===(null==document?void 0:document.documentMode)}()||function xt(Z=(0,_e.ZQ)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,_e.zW)()}catch{return wn()&&(0,_e.zW)()}return!1}function wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jt(){return(function Wt(){return"http:"===ft()||"https:"===ft()}()||(0,_e.sr)()||Lt())&&!function Ft(){return(0,_e.lV)()||(0,_e.Ll)()}()&&Ht()&&!wn()}function Dt(){return Lt()&&typeof document<"u"}function ot(){return(ot=(0,c.A)(function*(){return!!Dt()&&new Promise(Z=>{const X=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),Z(!0)})})})).apply(this,arguments)}const qe={LOCAL:"local",NONE:"none",SESSION:"session"},un=F.aC,jn="persistence";function sr(Z){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.A)(function*(Z){yield Z._initializationPromise;const X=yr(),se=F.aF(jn,Z.config.apiKey,Z.name);X&&X.setItem(se,Z._getPersistence())})).apply(this,arguments)}function yr(){var Z;try{return(null===(Z=function Le(){return typeof window<"u"?window:null}())||void 0===Z?void 0:Z.sessionStorage)||null}catch{return null}}const pr=F.aC;class gr{constructor(){this.browserResolver=F.aE(F.k),this.cordovaResolver=F.aE(ae),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(X){var se=this;return(0,c.A)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,se,Xe,et){var rn=this;return(0,c.A)(function*(){return yield rn.selectUnderlyingResolver(),rn.assertedUnderlyingResolver._openPopup(X,se,Xe,et)})()}_openRedirect(X,se,Xe,et){var rn=this;return(0,c.A)(function*(){return yield rn.selectUnderlyingResolver(),rn.assertedUnderlyingResolver._openRedirect(X,se,Xe,et)})()}_isIframeWebStorageSupported(X,se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,se)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Dt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,c.A)(function*(){if(X.underlyingResolver)return;const se=yield function bn(){return ot.apply(this,arguments)}();X.underlyingResolver=se?X.cordovaResolver:X.browserResolver})()}}function hr(Z){return Z.unwrap()}function _i(Z){return Wr(Z)}function Wr(Z){const{_tokenResponse:X}=Z instanceof _e.g?Z.customData:Z;if(!X)return null;if(!(Z instanceof _e.g)&&"temporaryProof"in X&&"phoneNumber"in X)return F.P.credentialFromResult(Z);const se=X.providerId;if(!se||se===F.p.PASSWORD)return null;let Xe;switch(se){case F.p.GOOGLE:Xe=F.X;break;case F.p.FACEBOOK:Xe=F.W;break;case F.p.GITHUB:Xe=F.Y;break;case F.p.TWITTER:Xe=F.$;break;default:const{oauthIdToken:et,oauthAccessToken:rn,oauthTokenSecret:Sn,pendingToken:Zn,nonce:Ar}=X;return rn||Sn||et||Zn?Zn?se.startsWith("saml.")?F.aQ._create(se,Zn):F.N._fromParams({providerId:se,signInMethod:se,pendingToken:Zn,idToken:et,accessToken:rn}):new F.Z(se).credential({idToken:et,accessToken:rn,rawNonce:Ar}):null}return Z instanceof _e.g?Xe.credentialFromError(Z):Xe.credentialFromResult(Z)}function Yn(Z,X){return X.catch(se=>{throw se instanceof _e.g&&function Bn(Z,X){var se;const Xe=null===(se=X.customData)||void 0===se?void 0:se._tokenResponse;if("auth/multi-factor-auth-required"===(null==X?void 0:X.code))X.resolver=new yi(Z,F.as(Z,X));else if(Xe){const et=Wr(X),rn=X;et&&(rn.credential=et,rn.tenantId=Xe.tenantId||void 0,rn.email=Xe.email||void 0,rn.phoneNumber=Xe.phoneNumber||void 0)}}(Z,se),se}).then(se=>{const et=se.user;return{operationType:se.operationType,credential:_i(se),additionalUserInfo:F.aq(se),user:Xn.getOrCreate(et)}})}function nr(Z,X){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.A)(function*(Z,X){const se=yield X;return{verificationId:se.verificationId,confirm:Xe=>Yn(Z,se.confirm(Xe))}})).apply(this,arguments)}class yi{constructor(X,se){this.resolver=se,this.auth=function ti(Z){return Z.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Yn(hr(this.auth),this.resolver.resolveSignIn(X))}}class Xn{constructor(X){this._delegate=X,this.multiFactor=F.at(X)}static getOrCreate(X){return Xn.USER_MAP.has(X)||Xn.USER_MAP.set(X,new Xn(X)),Xn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var se=this;return(0,c.A)(function*(){return Yn(se.auth,F.a2(se._delegate,X))})()}linkWithPhoneNumber(X,se){var Xe=this;return(0,c.A)(function*(){return nr(Xe.auth,F.l(Xe._delegate,X,se))})()}linkWithPopup(X){var se=this;return(0,c.A)(function*(){return Yn(se.auth,F.d(se._delegate,X,gr))})()}linkWithRedirect(X){var se=this;return(0,c.A)(function*(){return yield sr(F.aJ(se.auth)),F.g(se._delegate,X,gr)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var se=this;return(0,c.A)(function*(){return Yn(se.auth,F.a3(se._delegate,X))})()}reauthenticateWithPhoneNumber(X,se){return nr(this.auth,F.r(this._delegate,X,se))}reauthenticateWithPopup(X){return Yn(this.auth,F.e(this._delegate,X,gr))}reauthenticateWithRedirect(X){var se=this;return(0,c.A)(function*(){return yield sr(F.aJ(se.auth)),F.h(se._delegate,X,gr)})()}sendEmailVerification(X){return F.ag(this._delegate,X)}unlink(X){var se=this;return(0,c.A)(function*(){return yield F.ap(se._delegate,X),se})()}updateEmail(X){return F.al(this._delegate,X)}updatePassword(X){return F.am(this._delegate,X)}updatePhoneNumber(X){return F.u(this._delegate,X)}updateProfile(X){return F.ak(this._delegate,X)}verifyBeforeUpdateEmail(X,se){return F.ah(this._delegate,X,se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xn.USER_MAP=new WeakMap;const ni=F.aC;let Er=(()=>{class Z{constructor(se,Xe){if(this.app=se,Xe.isInitialized())return this._delegate=Xe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=se.options;ni(et,"invalid-api-key",{appName:se.name}),ni(et,"invalid-api-key",{appName:se.name});const rn=typeof window<"u"?gr:void 0;this._delegate=Xe.initialize({options:{persistence:si(et,se.name),popupRedirectResolver:rn}}),this._delegate._updateErrorMap(F.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(se){this._delegate.languageCode=se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(se){this._delegate.tenantId=se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(se,Xe){F.K(this._delegate,se,Xe)}applyActionCode(se){return F.a7(this._delegate,se)}checkActionCode(se){return F.a8(this._delegate,se)}confirmPasswordReset(se,Xe){return F.a6(this._delegate,se,Xe)}createUserWithEmailAndPassword(se,Xe){var et=this;return(0,c.A)(function*(){return Yn(et._delegate,F.aa(et._delegate,se,Xe))})()}fetchProvidersForEmail(se){return this.fetchSignInMethodsForEmail(se)}fetchSignInMethodsForEmail(se){return F.af(this._delegate,se)}isSignInWithEmailLink(se){return F.ad(this._delegate,se)}getRedirectResult(){var se=this;return(0,c.A)(function*(){ni(Jt(),se._delegate,"operation-not-supported-in-this-environment");const Xe=yield F.j(se._delegate,gr);return Xe?Yn(se._delegate,Promise.resolve(Xe)):{credential:null,user:null}})()}addFrameworkForLogging(se){!function ge(Z,X){(0,F.aJ)(Z)._logFramework(X)}(this._delegate,se)}onAuthStateChanged(se,Xe,et){const{next:rn,error:Sn,complete:Zn}=Pn(se,Xe,et);return this._delegate.onAuthStateChanged(rn,Sn,Zn)}onIdTokenChanged(se,Xe,et){const{next:rn,error:Sn,complete:Zn}=Pn(se,Xe,et);return this._delegate.onIdTokenChanged(rn,Sn,Zn)}sendSignInLinkToEmail(se,Xe){return F.ac(this._delegate,se,Xe)}sendPasswordResetEmail(se,Xe){return F.a5(this._delegate,se,Xe||void 0)}setPersistence(se){var Xe=this;return(0,c.A)(function*(){let et;switch(function fr(Z,X){un(Object.values(qe).includes(X),Z,"invalid-persistence-type"),(0,_e.lV)()?un(X!==qe.SESSION,Z,"unsupported-persistence-type"):(0,_e.Ll)()?un(X===qe.NONE,Z,"unsupported-persistence-type"):wn()?un(X===qe.NONE||X===qe.LOCAL&&(0,_e.zW)(),Z,"unsupported-persistence-type"):un(X===qe.NONE||Ht(),Z,"unsupported-persistence-type")}(Xe._delegate,se),se){case qe.SESSION:et=F.a;break;case qe.LOCAL:et=(yield F.aE(F.i)._isAvailable())?F.i:F.b;break;case qe.NONE:et=F.U;break;default:return F.ax("argument-error",{appName:Xe._delegate.name})}return Xe._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(se){return this.signInWithCredential(se)}signInAnonymously(){return Yn(this._delegate,F.a0(this._delegate))}signInWithCredential(se){return Yn(this._delegate,F.a1(this._delegate,se))}signInWithCustomToken(se){return Yn(this._delegate,F.a4(this._delegate,se))}signInWithEmailAndPassword(se,Xe){return Yn(this._delegate,F.ab(this._delegate,se,Xe))}signInWithEmailLink(se,Xe){return Yn(this._delegate,F.ae(this._delegate,se,Xe))}signInWithPhoneNumber(se,Xe){return nr(this._delegate,F.s(this._delegate,se,Xe))}signInWithPopup(se){var Xe=this;return(0,c.A)(function*(){return ni(Jt(),Xe._delegate,"operation-not-supported-in-this-environment"),Yn(Xe._delegate,F.c(Xe._delegate,se,gr))})()}signInWithRedirect(se){var Xe=this;return(0,c.A)(function*(){return ni(Jt(),Xe._delegate,"operation-not-supported-in-this-environment"),yield sr(Xe._delegate),F.f(Xe._delegate,se,gr)})()}updateCurrentUser(se){return this._delegate.updateCurrentUser(se)}verifyPasswordResetCode(se){return F.a9(this._delegate,se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=qe,Z})();function Pn(Z,X,se){let Xe=Z;"function"!=typeof Z&&({next:Xe,error:X,complete:se}=Z);const et=Xe;return{next:Sn=>et(Sn&&Xn.getOrCreate(Sn)),error:X,complete:se}}function si(Z,X){const se=function en(Z,X){const se=yr();if(!se)return[];const Xe=F.aF(jn,Z,X);switch(se.getItem(Xe)){case qe.NONE:return[F.U];case qe.LOCAL:return[F.i,F.a];case qe.SESSION:return[F.a];default:return[]}}(Z,X);if(typeof self<"u"&&!se.includes(F.i)&&se.push(F.i),typeof window<"u")for(const Xe of[F.b,F.a])se.includes(Xe)||se.push(Xe);return se.includes(F.U)||se.push(F.U),se}class $t{constructor(){this.providerId="phone",this._delegate=new F.P(hr(h.A.auth()))}static credential(X,se){return F.P.credential(X,se)}verifyPhoneNumber(X,se){return this._delegate.verifyPhoneNumber(X,se)}unwrap(){return this._delegate}}$t.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,$t.PROVIDER_ID=F.P.PROVIDER_ID;const bt=F.aC;class qt{constructor(X,se,Xe=h.A.app()){var et;bt(null===(et=Xe.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Xe.name}),this._delegate=new F.R(Xe.auth(),X,se),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kt(Z){Z.INTERNAL.registerComponent(new Ae.uA("auth-compat",X=>{const se=X.getProvider("app-compat").getImmediate(),Xe=X.getProvider("auth");return new Er(se,Xe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.V,FacebookAuthProvider:F.W,GithubAuthProvider:F.Y,GoogleAuthProvider:F.X,OAuthProvider:F.Z,SAMLAuthProvider:F._,PhoneAuthProvider:$t,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:qt,TwitterAuthProvider:F.$,Auth:Er,AuthCredential:F.L,Error:_e.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.5.14")}(h.A)},467:(Cn,it,O)=>{"use strict";function c(F,_e,Q,ee,Ae,xe,We){try{var Oe=F[xe](We),ye=Oe.value}catch(ze){return void Q(ze)}Oe.done?_e(ye):Promise.resolve(ye).then(ee,Ae)}function h(F){return function(){var _e=this,Q=arguments;return new Promise(function(ee,Ae){var xe=F.apply(_e,Q);function We(ye){c(xe,ee,Ae,We,Oe,"next",ye)}function Oe(ye){c(xe,ee,Ae,We,Oe,"throw",ye)}We(void 0)})}}O.d(it,{A:()=>h})},9842:(Cn,it,O)=>{"use strict";function c(Q){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(Q)}function _e(Q,ee,Ae){return(ee=function F(Q){var ee=function h(Q,ee){if("object"!=c(Q)||!Q)return Q;var Ae=Q[Symbol.toPrimitive];if(void 0!==Ae){var xe=Ae.call(Q,ee||"default");if("object"!=c(xe))return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(Q)}(Q,"string");return"symbol"==c(ee)?ee:ee+""}(ee))in Q?Object.defineProperty(Q,ee,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):Q[ee]=Ae,Q}O.d(it,{A:()=>_e})},1635:(Cn,it,O)=>{"use strict";function _e(ae,ue){var ge={};for(var je in ae)Object.prototype.hasOwnProperty.call(ae,je)&&ue.indexOf(je)<0&&(ge[je]=ae[je]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(je=Object.getOwnPropertySymbols(ae);gt<je.length;gt++)ue.indexOf(je[gt])<0&&Object.prototype.propertyIsEnumerable.call(ae,je[gt])&&(ge[je[gt]]=ae[je[gt]])}return ge}function Q(ae,ue,ge,je){var ft,gt=arguments.length,yt=gt<3?ue:null===je?je=Object.getOwnPropertyDescriptor(ue,ge):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)yt=Reflect.decorate(ae,ue,ge,je);else for(var Wt=ae.length-1;Wt>=0;Wt--)(ft=ae[Wt])&&(yt=(gt<3?ft(yt):gt>3?ft(ue,ge,yt):ft(ue,ge))||yt);return gt>3&&yt&&Object.defineProperty(ue,ge,yt),yt}function ze(ae,ue,ge,je){return new(ge||(ge=Promise))(function(yt,ft){function Wt(Fn){try{Ft(je.next(Fn))}catch(xt){ft(xt)}}function Lt(Fn){try{Ft(je.throw(Fn))}catch(xt){ft(xt)}}function Ft(Fn){Fn.done?yt(Fn.value):function gt(yt){return yt instanceof ge?yt:new ge(function(ft){ft(yt)})}(Fn.value).then(Wt,Lt)}Ft((je=je.apply(ae,ue||[])).next())})}function Ee(ae){return this instanceof Ee?(this.v=ae,this):new Ee(ae)}function we(ae,ue,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,je=ge.apply(ae,ue||[]),yt=[];return gt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Wt("next"),Wt("throw"),Wt("return",function ft(Ht){return function(wn){return Promise.resolve(wn).then(Ht,xt)}}),gt[Symbol.asyncIterator]=function(){return this},gt;function Wt(Ht,wn){je[Ht]&&(gt[Ht]=function(Jt){return new Promise(function(Dt,bn){yt.push([Ht,Jt,Dt,bn])>1||Lt(Ht,Jt)})},wn&&(gt[Ht]=wn(gt[Ht])))}function Lt(Ht,wn){try{!function Ft(Ht){Ht.value instanceof Ee?Promise.resolve(Ht.value.v).then(Fn,xt):kn(yt[0][2],Ht)}(je[Ht](wn))}catch(Jt){kn(yt[0][3],Jt)}}function Fn(Ht){Lt("next",Ht)}function xt(Ht){Lt("throw",Ht)}function kn(Ht,wn){Ht(wn),yt.shift(),yt.length&&Lt(yt[0][0],yt[0][1])}}function Je(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function mt(ae){var ue="function"==typeof Symbol&&Symbol.iterator,ge=ue&&ae[ue],je=0;if(ge)return ge.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&je>=ae.length&&(ae=void 0),{value:ae&&ae[je++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ge={},je("next"),je("throw"),je("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function je(yt){ge[yt]=ae[yt]&&function(ft){return new Promise(function(Wt,Lt){!function gt(yt,ft,Wt,Lt){Promise.resolve(Lt).then(function(Ft){yt({value:Ft,done:Wt})},ft)}(Wt,Lt,(ft=ae[yt](ft)).done,ft.value)})}}}O.d(it,{AQ:()=>we,Cg:()=>Q,N3:()=>Ee,Tt:()=>_e,sH:()=>ze,xN:()=>Je}),"function"==typeof SuppressedError&&SuppressedError}},Cn=>{Cn(Cn.s=8952)}]);