"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4628],{4628:(g,m,a)=>{a.r(m),a.d(m,{NewOfferPageModule:()=>b});var f=a(177),t=a(4341),u=a(5171),o=a(4742),e=a(3953),d=a(8591);function p(r,i){1&r&&(e.j41(0,"ion-row")(1,"ion-col",6)(2,"p"),e.EFF(3,"Description must be between 1 and 180 characters."),e.k0s()()())}let h=(()=>{var r;class i{constructor(n,l,c){this.placesService=n,this.router=l,this.loadingCtrl=c}ngOnInit(){this.form=new t.gE({title:new t.MJ(null,{updateOn:"blur",validators:[t.k0.required]}),description:new t.MJ(null,{updateOn:"blur",validators:[t.k0.required,t.k0.maxLength(180)]}),price:new t.MJ(null,{updateOn:"blur",validators:[t.k0.required,t.k0.min(1)]}),dateFrom:new t.MJ(null,{updateOn:"blur",validators:[t.k0.required]}),dateTo:new t.MJ(null,{updateOn:"blur",validators:[t.k0.required]}),location:new t.MJ(null,{validators:[t.k0.required]})})}onLocationPicked(n){this.form.patchValue({location:n})}onCreateOffer(){this.form.valid&&this.loadingCtrl.create({message:"Creating place..."}).then(n=>{n.present(),this.placesService.addPlace(this.form.value.title,this.form.value.description,+this.form.value.price,new Date(this.form.value.dateFrom),new Date(this.form.value.dateTo),this.form.value.location).subscribe(()=>{n.dismiss(),this.form.reset(),this.router.navigate(["/places/tabs/offers"])})})}}return(r=i).\u0275fac=function(n){return new(n||r)(e.rXU(d._),e.rXU(u.Ix),e.rXU(o.Xi))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-new-offer"]],decls:42,vars:3,consts:[["slot","start"],["defaultHref","/places/tabs/offers"],["slot","primary"],[3,"click","disabled"],["name","checkmark","slot","icon-only"],[3,"formGroup"],["size-sm","6","offset-sm","3"],["position","floating"],["type","text","autocomplete","","autocorrect","","formControlName","title"],["rows","3","formControlName","description"],[4,"ngIf"],["type","number","formControlName","price"],["size-sm","3","offset-sm","3"],["min","2019-01-01","max","2025-12-31","formControlName","dateFrom"],["size-sm","3"],["min","2019-01-02","max","2025-12-31","formControlName","dateTo"]],template:function(n,l){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button",1),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"New Offer"),e.k0s(),e.j41(6,"ion-buttons",2)(7,"ion-button",3),e.bIt("click",function(){return l.onCreateOffer()}),e.nrm(8,"ion-icon",4),e.k0s()()()(),e.j41(9,"ion-content")(10,"form",5)(11,"ion-grid")(12,"ion-row")(13,"ion-col",6)(14,"ion-item")(15,"ion-label",7),e.EFF(16,"Title"),e.k0s(),e.nrm(17,"ion-input",8),e.k0s()()(),e.j41(18,"ion-row")(19,"ion-col",6)(20,"ion-item")(21,"ion-label",7),e.EFF(22,"Short Description"),e.k0s(),e.nrm(23,"ion-textarea",9),e.k0s()()(),e.DNE(24,p,4,0,"ion-row",10),e.j41(25,"ion-row")(26,"ion-col",6)(27,"ion-item")(28,"ion-label",7),e.EFF(29,"Price"),e.k0s(),e.nrm(30,"ion-input",11),e.k0s()()(),e.j41(31,"ion-row")(32,"ion-col",12)(33,"ion-item")(34,"ion-label",7),e.EFF(35,"Available from"),e.k0s(),e.nrm(36,"ion-datetime",13),e.k0s()(),e.j41(37,"ion-col",14)(38,"ion-item")(39,"ion-label",7),e.EFF(40,"Available to"),e.k0s(),e.nrm(41,"ion-datetime",15),e.k0s()()()()()()),2&n&&(e.R7$(7),e.Y8G("disabled",!l.form.valid),e.R7$(3),e.Y8G("formGroup",l.form),e.R7$(14),e.Y8G("ngIf",!l.form.get("description").valid&&l.form.get("description").touched))},dependencies:[f.bT,o.Jm,o.QW,o.hU,o.W9,o.A9,o.lO,o.eU,o.iq,o.$w,o.uz,o.he,o.ln,o.nc,o.BC,o.ai,o.su,o.Je,o.Gw,o.el,t.qT,t.BC,t.cb,t.j4,t.JD]}),i})(),v=(()=>{var r;class i{}return(r=i).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.MD,o.bv]}),i})();const w=[{path:"",component:h}];let b=(()=>{var r;class i{}return(r=i).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.MD,o.bv,t.X1,u.iI.forChild(w),v]}),i})()}}]);