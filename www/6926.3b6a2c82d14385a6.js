"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6926],{6926:(y,m,r)=>{r.r(m),r.d(m,{AuthPageModule:()=>L});var p=r(177),l=r(4341),f=r(5171),i=r(4742),e=r(3953),b=r(9033);function S(o,g){1&o&&(e.j41(0,"ion-item",14)(1,"ion-label"),e.EFF(2," Should be a valid email address. "),e.k0s()())}function v(o,g){1&o&&(e.j41(0,"ion-item",14)(1,"ion-label"),e.EFF(2," Should at least be 6 characters long. "),e.k0s()())}const A=[{path:"",component:(()=>{var o;class g{constructor(t,n,s,a){this.authService=t,this.router=n,this.loadingCtrl=s,this.alertCtrl=a,this.isLoading=!1,this.isLogin=!0}ngOnInit(){}authenticate(t,n){this.isLoading=!0,this.loadingCtrl.create({keyboardClose:!0,message:"Logging in..."}).then(s=>{let a;s.present(),a=this.isLogin?this.authService.login(t,n):this.authService.signup(t,n),a.subscribe(u=>{console.log(u),this.isLoading=!1,s.dismiss(),this.router.navigateByUrl("/places/tabs/discover")},u=>{s.dismiss();const d=u.error.error.message;let c="Could not sign you up, please try again.";"EMAIL_EXISTS"===d?c="This email address exists already!":"EMAIL_NOT_FOUND"===d?c="E-Mail address could not be found.":"INVALID_PASSWORD"===d&&(c="This password is not correct."),this.showAlert(c)})})}onSwitchAuthMode(){this.isLogin=!this.isLogin}onSubmit(t){t.valid&&(this.authenticate(t.value.email,t.value.password),t.reset())}showAlert(t){this.alertCtrl.create({header:"Authentication failed",message:t,buttons:["Okay"]}).then(n=>n.present())}onLoginWithGoogle(){this.isLoading=!0,this.authService.loginWithGoogle().subscribe(t=>{this.isLoading=!1,this.router.navigateByUrl("/places/tabs/discover")},t=>{this.isLoading=!1,this.showAlert("Could not log you in with Google, please try again.")})}}return(o=g).\u0275fac=function(t){return new(t||o)(e.rXU(b.u),e.rXU(f.Ix),e.rXU(i.Xi),e.rXU(i.hG))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-auth"]],decls:34,vars:6,consts:[["f","ngForm"],["emailCtrl","ngModel"],["passwordCtrl","ngModel"],[1,"ion-padding"],[3,"ngSubmit"],["size-sm","6","offset-sm","3"],["position","floating"],["type","email","ngModel","","name","email","required","","email",""],["lines","none",4,"ngIf"],["type","password","ngModel","","name","password","required","","minlength","6"],["type","button","color","primary","fill","clear","expand","block",3,"click"],["type","submit","color","primary","expand","block",3,"disabled"],["type","button","color","danger","expand","block",3,"click"],["name","logo-google","slot","start"],["lines","none"]],template:function(t,n){if(1&t){const s=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s()()(),e.j41(4,"ion-content",3)(5,"form",4,0),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.sdS(6);return e.Njj(n.onSubmit(u))}),e.j41(7,"ion-grid")(8,"ion-row")(9,"ion-col",5)(10,"ion-list")(11,"ion-item")(12,"ion-label",6),e.EFF(13,"E-Mail"),e.k0s(),e.nrm(14,"ion-input",7,1),e.k0s(),e.DNE(16,S,3,0,"ion-item",8),e.j41(17,"ion-item")(18,"ion-label",6),e.EFF(19,"Password"),e.k0s(),e.nrm(20,"ion-input",9,2),e.k0s(),e.DNE(22,v,3,0,"ion-item",8),e.k0s()()(),e.j41(23,"ion-row")(24,"ion-col",5)(25,"ion-button",10),e.bIt("click",function(){return e.eBV(s),e.Njj(n.onSwitchAuthMode())}),e.EFF(26),e.k0s(),e.j41(27,"ion-button",11),e.EFF(28),e.k0s()()(),e.j41(29,"ion-row")(30,"ion-col",5)(31,"ion-button",12),e.bIt("click",function(){return e.eBV(s),e.Njj(n.onLoginWithGoogle())}),e.nrm(32,"ion-icon",13),e.EFF(33," Login with Google "),e.k0s()()()()()()}if(2&t){const s=e.sdS(6),a=e.sdS(15),u=e.sdS(21);e.R7$(3),e.JRh(n.isLogin?"Login":"Signup"),e.R7$(13),e.Y8G("ngIf",!a.valid&&a.touched),e.R7$(6),e.Y8G("ngIf",!u.valid&&u.touched),e.R7$(4),e.SpI(" Switch to ",n.isLogin?"Signup":"Login"," "),e.R7$(),e.Y8G("disabled",!s.valid),e.R7$(),e.SpI(" ",n.isLogin?"Login":"Signup"," ")}},dependencies:[p.bT,l.qT,l.BC,l.cb,l.YS,l.xh,l.Dg,l.vS,l.cV,i.Jm,i.hU,i.W9,i.lO,i.eU,i.iq,i.$w,i.uz,i.he,i.nf,i.ln,i.BC,i.ai,i.Gw]}),g})()}];let L=(()=>{var o;class g{}return(o=g).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,l.YN,i.bv,f.iI.forChild(A)]}),g})()}}]);