"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5960],{5960:(W,p,a)=>{a.r(p),a.d(p,{AccountPageModule:()=>B});var F=a(177),u=a(4341),o=a(4742),f=a(5171),e=a(3953);let v=(()=>{var n;class s{constructor(){}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-profile-picture"]],decls:11,vars:0,consts:[[2,"width","100%"],[2,"display","flex","align-items","center"],[2,"margin-right","40px","width","120px","height","120px"],["src","https://cdn-icons-png.freepik.com/512/5997/5997002.png","alt","Profile Picture",2,"width","100%","height","100%","border-radius","50%"],[2,"display","flex","flex-direction","column","justify-content","center"]],template:function(t,i){1&t&&(e.j41(0,"ion-card",0)(1,"ion-card-content",1)(2,"ion-avatar",2),e.nrm(3,"img",3),e.k0s(),e.j41(4,"div",4)(5,"ion-card-title"),e.EFF(6,"John Doe"),e.k0s(),e.j41(7,"ion-card-subtitle"),e.EFF(8,"Email: john.doe.example.com"),e.k0s(),e.j41(9,"ion-card-subtitle"),e.EFF(10,"Phone: (123) 456-7890"),e.k0s()()()())},dependencies:[o.mC,o.b_,o.I9,o.HW,o.tN]}),s})(),M=(()=>{var n;class s{constructor(){}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-profile-list"]],decls:16,vars:0,consts:[[2,"width","100%"],[1,"ion-text-center"]],template:function(t,i){1&t&&(e.j41(0,"ion-list",0)(1,"ion-item",1)(2,"ion-label"),e.EFF(3,"Pok\xe9mon Yellow"),e.k0s()(),e.j41(4,"ion-item",1)(5,"ion-label"),e.EFF(6,"Mega Man X"),e.k0s()(),e.j41(7,"ion-item",1)(8,"ion-label"),e.EFF(9,"The Legend of Zelda"),e.k0s()(),e.j41(10,"ion-item",1)(11,"ion-label"),e.EFF(12,"Pac-Man"),e.k0s()(),e.j41(13,"ion-item",1)(14,"ion-label"),e.EFF(15,"Super Mario World"),e.k0s()()())},dependencies:[o.uz,o.he,o.nf]}),s})();var h=a(467),P=a(4412),k=a(6354),b=a(8141),E=a(5558),w=a(6697);class N{constructor(s,r,t,i,c,l=[]){this.id=s,this.userId=r,this.name=t,this.email=i,this.phone=c,this.items=l}}var y=a(5709),j=a(1626);let C=(()=>{var n;class s{get account(){return this._accounts.asObservable()}constructor(t,i){this.authService=t,this.http=i,this._accounts=new P.t([])}fetchAccount(){return this.http.get(`https://bookings-abeec-default-rtdb.firebaseio.com/accounts.json?orderBy="userId"&equalTo="${this.authService.userId}"`).pipe((0,k.T)(t=>{const i=[];for(const c in t)t.hasOwnProperty(c)&&i.push(new N(c,t[c].userId,t[c].name,t[c].email,t[c].phone,t[c].items));return i}),(0,b.M)(t=>{this._accounts.next(t)}))}addName(t,i,c,l,x){let g;const m=new N(Math.random().toString(),t,i,c,l,x);return this.http.post("https://bookings-abeec-default-rtdb.firebaseio.com/accounts.json",{...m,id:null}).pipe((0,E.n)(d=>(g=d.name,this._accounts)),(0,w.s)(1),(0,b.M)(d=>{m.id=g,this._accounts.next(d.concat(m))}))}}return(n=s).\u0275fac=function(t){return new(t||n)(e.KVO(y.u),e.KVO(j.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})(),A=(()=>{var n;class s{constructor(t,i){this.modalCtrl=t,this.accountService=i}openNameModal(){var t=this;return(0,h.A)(function*(){const i=yield t.modalCtrl.create({component:I,componentProps:{existingName:""}});yield i.present();const{data:c}=yield i.onWillDismiss();c&&c.newName&&(console.log("New Name:",c.newName),t.accountService.addName("user-id",c.newName,"user-email","user-phone",[]).subscribe(()=>{console.log("Name updated successfully")}))})()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(o.W3),e.rXU(C))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-name"]],decls:3,vars:0,consts:[[3,"click"],["slot","start","name","create-outline"]],template:function(t,i){1&t&&(e.j41(0,"ion-button",0),e.bIt("click",function(){return i.openNameModal()}),e.nrm(1,"ion-icon",1),e.EFF(2," Edit Name\n"),e.k0s())},dependencies:[o.Jm,o.iq]}),s})(),I=(()=>{var n;class s{constructor(t){this.modalCtrl=t}dismiss(){this.modalCtrl.dismiss()}submit(){this.modalCtrl.dismiss({newName:this.newName})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(o.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","stacked"],[3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Enter New Name"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return i.dismiss()}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),e.EFF(10,"New Name"),e.k0s(),e.j41(11,"ion-input",3),e.mxI("ngModelChange",function(l){return e.DH7(i.newName,l)||(i.newName=l),l}),e.k0s()(),e.j41(12,"ion-button",4),e.bIt("click",function(){return i.submit()}),e.EFF(13,"Submit"),e.k0s()()),2&t&&(e.R7$(11),e.R50("ngModel",i.newName))},dependencies:[u.BC,u.vS,o.Jm,o.QW,o.W9,o.eU,o.$w,o.uz,o.he,o.BC,o.ai,o.Gw],encapsulation:2}),s})(),T=(()=>{var n;class s{constructor(t,i){this.modalCtrl=t,this.accountService=i}openNumberModal(){var t=this;return(0,h.A)(function*(){const i=yield t.modalCtrl.create({component:S,componentProps:{existingNumber:""}});yield i.present();const{data:c}=yield i.onWillDismiss();c&&c.newNumber&&(console.log("New Name:",c.newNumber),t.accountService.addName("user-id","name","user-email",c.newNumber,[]).subscribe(()=>{console.log("Phone Number updated successfully")}))})()}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(o.W3),e.rXU(C))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-number"]],decls:3,vars:0,consts:[[3,"click"],["slot","start","name","create-outline"]],template:function(t,i){1&t&&(e.j41(0,"ion-button",0),e.bIt("click",function(){return i.openNumberModal()}),e.nrm(1,"ion-icon",1),e.EFF(2," Edit Phone Number\n"),e.k0s())},dependencies:[o.Jm,o.iq]}),s})(),S=(()=>{var n;class s{constructor(t){this.modalCtrl=t}dismiss(){this.modalCtrl.dismiss()}submit(){this.modalCtrl.dismiss({newNumber:this.newNumber})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(o.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],decls:14,vars:1,consts:[["slot","end"],[3,"click"],["position","stacked"],[3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Enter New Phone Number"),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return i.dismiss()}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",2),e.EFF(10,"New Phone Number"),e.k0s(),e.j41(11,"ion-input",3),e.mxI("ngModelChange",function(l){return e.DH7(i.newNumber,l)||(i.newNumber=l),l}),e.k0s()(),e.j41(12,"ion-button",4),e.bIt("click",function(){return i.submit()}),e.EFF(13,"Submit"),e.k0s()()),2&t&&(e.R7$(11),e.R50("ngModel",i.newNumber))},dependencies:[u.BC,u.vS,o.Jm,o.QW,o.W9,o.eU,o.$w,o.uz,o.he,o.BC,o.ai,o.Gw],encapsulation:2}),s})();const U=[{path:"",component:(()=>{var n;class s{constructor(){}ngOnInit(){}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-account"]],decls:14,vars:2,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"max-width","600px","margin","0 auto","padding","16px"]],template:function(t,i){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"account"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"account"),e.k0s()()(),e.j41(9,"div",4),e.nrm(10,"app-profile-picture")(11,"app-edit-name")(12,"app-edit-number")(13,"app-profile-list"),e.k0s()()),2&t&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0))},dependencies:[o.W9,o.eU,o.BC,o.ai,v,M,A,T]}),s})()}];let _=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.iI.forChild(U),f.iI]}),s})(),B=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[F.MD,u.YN,o.bv,_]}),s})()}}]);