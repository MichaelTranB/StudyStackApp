"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5986],{5986:(V,m,l)=>{l.r(m),l.d(m,{FlashcardPageModule:()=>Q});var d=l(177),v=l(4341),s=l(4742),f=l(5171),t=l(3953),b=l(467);const y=["drawingCanvas"];let F=(()=>{var n;class r{constructor(e){this.modalController=e}ngAfterViewInit(){this.drawingCanvas&&(this.ctx=this.drawingCanvas.nativeElement.getContext("2d"),this.initializeCanvas())}initializeCanvas(){const e=this.drawingCanvas.nativeElement;this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2;let o=!1;const g=u=>{if(!o)return;const p=e.getBoundingClientRect(),_=e.width/p.width*(u.clientX-p.left),C=e.height/p.height*(u.clientY-p.top);this.ctx.lineTo(_,C),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(_,C)};e.addEventListener("mousedown",u=>{o=!0,g(u)}),e.addEventListener("mouseup",()=>{o=!1,this.ctx.beginPath()}),e.addEventListener("mousemove",g)}submitDrawing(){const o=this.drawingCanvas.nativeElement.toDataURL();console.log("Submitting drawing:",o),this.dismiss()}clearCanvas(){this.ctx&&this.ctx.clearRect(0,0,this.drawingCanvas.nativeElement.width,this.drawingCanvas.nativeElement.height)}dismiss(){this.modalController.dismiss()}}return(n=r).\u0275fac=function(e){return new(e||n)(t.rXU(s.W3))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-write-modal"]],viewQuery:function(e,o){if(1&e&&t.GBs(y,5),2&e){let c;t.mGM(c=t.lsd())&&(o.drawingCanvas=c.first)}},decls:19,vars:0,consts:[["drawingCanvas",""],["slot","end"],[3,"click"],[2,"width","100%","height","400px","border","1px solid #fff","background-color","black"],["size","6"],["expand","block","color","primary",3,"click"],["expand","block","color","light",3,"click"]],template:function(e,o){if(1&e){const c=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Write Answer"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return t.eBV(c),t.Njj(o.dismiss())}),t.EFF(6,"Close"),t.k0s()()()(),t.j41(7,"ion-content")(8,"ion-card")(9,"ion-card-content"),t.nrm(10,"canvas",3,0),t.k0s(),t.j41(12,"ion-row")(13,"ion-col",4)(14,"ion-button",5),t.bIt("click",function(){return t.eBV(c),t.Njj(o.submitDrawing())}),t.EFF(15,"Submit"),t.k0s()(),t.j41(16,"ion-col",4)(17,"ion-button",6),t.bIt("click",function(){return t.eBV(c),t.Njj(o.clearCanvas())}),t.EFF(18,"Clear"),t.k0s()()()()()}},dependencies:[s.Jm,s.QW,s.b_,s.I9,s.hU,s.W9,s.eU,s.ln,s.BC,s.ai]}),r})();var h=l(1346);function w(n,r){if(1&n){const i=t.RV6();t.j41(0,"ion-card",7),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.toggleAnswer())}),t.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"ion-card-header")(5,"ion-card-title",11),t.EFF(6),t.k0s()()(),t.j41(7,"div",12)(8,"ion-card-header")(9,"ion-card-title",11),t.EFF(10),t.k0s()()()()()()}if(2&n){const i=t.XpG();t.R7$(2),t.AVh("flip",i.showAnswer),t.R7$(4),t.JRh(null==i.questions[i.currentQuestionIndex]?null:i.questions[i.currentQuestionIndex].question),t.R7$(4),t.JRh(null==i.questions[i.currentQuestionIndex]?null:i.questions[i.currentQuestionIndex].answer)}}function k(n,r){if(1&n){const i=t.RV6();t.j41(0,"ion-row")(1,"ion-col",13)(2,"ion-button",14),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.previousQuestion())}),t.nrm(3,"ion-icon",15),t.EFF(4," Previous "),t.k0s()(),t.j41(5,"ion-col",13)(6,"ion-button",16),t.bIt("click",function(){t.eBV(i);const o=t.XpG();return t.Njj(o.nextQuestion())}),t.EFF(7," Next "),t.nrm(8,"ion-icon",17),t.k0s()()()}if(2&n){const i=t.XpG();t.R7$(2),t.Y8G("disabled",0===i.currentQuestionIndex),t.R7$(4),t.Y8G("disabled",i.currentQuestionIndex>=i.questions.length-1)}}function M(n,r){1&n&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"No questions available for this course."),t.k0s()()())}let I=(()=>{var n;class r{constructor(e,o){this.configService=e,this.modalController=o,this.questions=[],this.currentQuestionIndex=0,this.showAnswer=!1,this.isReadMode=!0}ngOnInit(){this.configService.getCourses().subscribe(e=>{const o=e.find(c=>c.id===+this.courseId);o&&o.components.practice?(this.questions=o.components.practice.questions,console.log("Questions loaded:",this.questions)):(console.error("No data found for course:",this.courseId),this.questions=[])})}switchToReadMode(){this.isReadMode=!0}openWriteModal(){var e=this;return(0,b.A)(function*(){return yield(yield e.modalController.create({component:F})).present()})()}nextQuestion(){this.currentQuestionIndex<this.questions.length-1&&(this.currentQuestionIndex++,this.showAnswer=!1)}previousQuestion(){this.currentQuestionIndex>0&&(this.currentQuestionIndex--,this.showAnswer=!1)}toggleAnswer(){this.showAnswer=!this.showAnswer}}return(n=r).\u0275fac=function(e){return new(e||n)(t.rXU(h.w),t.rXU(s.W3))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-practice"]],inputs:{courseId:"courseId"},decls:13,vars:6,consts:[[3,"translucent"],["slot","end"],["color","primary",3,"click","disabled"],["color","primary",3,"click"],[3,"fullscreen"],["class","card-flip",3,"click",4,"ngIf"],[4,"ngIf"],[1,"card-flip",3,"click"],[1,"flip-container"],[1,"flip"],[1,"card-front"],[1,"ion-text-center"],[1,"card-back"],["size","6"],["expand","block","color","medium",3,"click","disabled"],["slot","start","name","arrow-back"],["expand","block",3,"click","disabled"],["slot","end","name","arrow-forward"]],template:function(e,o){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Practice"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return o.switchToReadMode()}),t.EFF(6,"Read"),t.k0s(),t.j41(7,"ion-button",3),t.bIt("click",function(){return o.openWriteModal()}),t.EFF(8,"Write"),t.k0s()()()(),t.j41(9,"ion-content",4),t.DNE(10,w,11,4,"ion-card",5)(11,k,9,2,"ion-row",6)(12,M,4,0,"ion-card",6),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(5),t.Y8G("disabled",o.isReadMode),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",o.questions.length>0),t.R7$(),t.Y8G("ngIf",o.questions.length>0),t.R7$(),t.Y8G("ngIf",0===o.questions.length))},dependencies:[d.bT,s.Jm,s.QW,s.b_,s.ME,s.tN,s.hU,s.W9,s.eU,s.iq,s.ln,s.BC,s.ai],styles:[".card-flip[_ngcontent-%COMP%]{perspective:1000px}.card-flip[_ngcontent-%COMP%]   .flip-container[_ngcontent-%COMP%]{position:relative;width:100%;height:300px}.card-flip[_ngcontent-%COMP%]   .flip[_ngcontent-%COMP%]{transition:transform .6s;transform-style:preserve-3d;width:100%;height:100%}.card-flip[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%], .card-flip[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0;width:100%;height:100%}.card-flip[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.card-flip[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);display:flex;align-items:center;justify-content:center}.card-flip[_ngcontent-%COMP%]   .flip.flip[_ngcontent-%COMP%]{transform:rotateY(180deg)}"]}),r})(),P=(()=>{var n;class r{constructor(){}}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.FsC({type:n,selectors:[["","base",""]],inputs:{courseId:"courseId"}}),r})();function x(n,r){if(1&n&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3),t.k0s()(),t.j41(4,"ion-card-content")(5,"p"),t.EFF(6),t.k0s()()()),2&n){const i=r.$implicit;t.R7$(3),t.JRh(i.question),t.R7$(3),t.JRh(i.answer)}}function R(n,r){if(1&n&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"Study Materials"),t.k0s()(),t.DNE(4,x,7,2,"ion-card",1),t.k0s()),2&n){const i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.studyMaterials)}}function j(n,r){1&n&&(t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"No study materials available for this course."),t.k0s()()())}let E=(()=>{var n;class r extends P{constructor(e){super(),this.configService=e,this.studyMaterials=[]}ngOnInit(){this.configService.getCourses().subscribe(e=>{const o=e.find(c=>c.id===+this.courseId);o&&o.components.study?(this.studyMaterials=o.components.study.questions,console.log("Study materials loaded:",this.studyMaterials)):(console.error("No data found for course:",this.courseId),this.studyMaterials=[])})}}return(n=r).\u0275fac=function(e){return new(e||n)(t.rXU(h.w))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-study"]],features:[t.Vt3],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&t.DNE(0,R,5,1,"ion-card",0)(1,j,4,0,"ion-card",0),2&e&&(t.Y8G("ngIf",o.studyMaterials.length>0),t.R7$(),t.Y8G("ngIf",0===o.studyMaterials.length))},dependencies:[d.Sq,d.bT,s.b_,s.I9,s.ME,s.tN]}),r})(),T=(()=>{var n;class r{constructor(e){this.resolver=e}loadComponent(e,o){const c=this.resolver.resolveComponentFactory(e);o.clear();const a=o.createComponent(c);return console.log("Component loaded:",a.instance),a}}return(n=r).\u0275fac=function(e){return new(e||n)(t.KVO(t.OM3))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();const G=["loadComponentHere"],S=[{path:":mode/:courseId",component:(()=>{var n;class r{constructor(e,o){this.route=e,this.loaderService=o}ngOnInit(){this.route.params.subscribe(e=>{const o=e.mode,c=e.courseId;console.log("Routing params:",o,c),this.loadComponent(o,c)})}loadComponent(e,o){if(this.entry){const a=this.loaderService.loadComponent("practice"===e?I:E,this.entry);a&&(a.instance.courseId=o,console.log("Course ID set in component:",a.instance.courseId))}else console.error("ViewContainerRef is not initialized")}}return(n=r).\u0275fac=function(e){return new(e||n)(t.rXU(f.nX),t.rXU(T))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-flashcard"]],viewQuery:function(e,o){if(1&e&&t.GBs(G,7,t.c1b),2&e){let c;t.mGM(c=t.lsd())&&(o.entry=c.first)}},decls:3,vars:0,consts:[["loadComponentHere",""]],template:function(e,o){1&e&&(t.j41(0,"ion-content"),t.eu8(1,null,0),t.k0s())},dependencies:[s.W9]}),r})()}];let O=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[f.iI.forChild(S),f.iI]}),r})(),Q=(()=>{var n;class r{}return(n=r).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,v.YN,s.bv,O]}),r})()}}]);